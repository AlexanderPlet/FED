(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{"//su":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LegalDisclaimer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:53}};n.loc.source={body:"query LegalDisclaimer {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.LegalDisclaimer=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"LegalDisclaimer")},"/Z6v":function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_2x-c98151cef856bab0e62c.png"},"06i8":function(e,t,n){},"0E6Y":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelSubGiftSuccessScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"giftRecipient"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productName"},value:{kind:"Variable",name:{kind:"Name",value:"productName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:355}};n.loc.source={body:"query ChannelSubGiftSuccessScreen($productName: String! $giftRecipientID: ID) {\ngiftRecipient: user(id: $giftRecipientID) {\nid\ndisplayName\n}\nsubscriptionProduct(productName: $productName) {\nid\ntier\nowner {\nid\ndisplayName\nself {\ndisplayBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\navailableBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelSubGiftSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelSubGiftSuccessScreen")},"0WFu":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("3Bft");function r(e){return[i.a.Prime,i.a.Custom].includes(e)?null:parseInt(e,10)/1e3}function a(e){var t=e instanceof Date?e:new Date(e);return Math.round((t.getTime()-Date.now())/864e5)}},"0YNu":function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/7QA"),s=n("DMoW"),c=n("OpME"),l=n("fQWD"),u=n("1bK4"),d=n("66/j"),p=n("sUnt"),m=n("yymn"),f=n("+80q"),h=n("b7S+");!function(e){e.PreviewMessage="PreviewMessage",e.UserBadge="UserBadge"}(i||(i={}));var g=function(e){var t=e.userName,n=e.badges,r=e.badgeTier,s=e.emotes,c=n.has(r)?n.get(r):n.get(1),u=(null==s?void 0:s.length)||0,g=e.emoteTier||0,y=g>1&&u>0?Object(o.d)("My T{tierNumber} Emotes!",{tierNumber:g},"BadgeModifierUpsellPreview"):Object(o.d)("Hello!","BadgeModifierUpsellPreview");return a.createElement(p.a,{display:m.g.Flex,flexWrap:m.i.Wrap,alignItems:m.b.Center},c&&a.createElement(p.a,{alignSelf:m.c.Center,"data-test-selector":i.UserBadge},a.createElement(l.a,{badge:Object(d.b)(c),dynamicData:b(c.version,r)})),a.createElement(p.a,{alignSelf:m.c.Center,margin:{right:.5}},a.createElement(f.a,{color:m.f.Link,type:f.e.Span,bold:!0},t),": "),a.createElement(p.a,{"data-test-selector":i.PreviewMessage,margin:{right:.5}},a.createElement(f.a,null,y)),null==s?void 0:s.map((function(e){return a.createElement(h.a,{label:e.displayName,direction:h.c.Bottom,key:e.id,id:e.id,display:m.g.Flex,disabled:!e.displayName},a.createElement(p.a,{margin:{right:1},className:"emote-benefits__emote"},a.createElement("img",{srcSet:e.srcSet,alt:e.displayName})))})))};function b(e,t){var n=Number(e);switch(t){case 2:n-=u.d;break;case 3:n-=u.e}return String(n)}var y=n("hnjF"),v=(n("dBxT"),function(e){var t=e.columnCount||(e.benefits.length>4?3:e.benefits.length>1?2:1);return a.createElement("ul",{className:"sub-modal-benefits-grid__list",style:{columns:t}},e.benefits.map((function(e,t){return a.createElement("li",{key:"benefits-grid-"+t},a.createElement(y.a,{display:m.g.Inline},a.createElement(f.a,null,e)))})))}),k=n("Gvf2"),S=n("b5vT"),C=n("eUBP"),E=n("YVOQ"),O=n("VYPy"),P=n("br9A"),N=n("ygYM"),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={modification:void 0},t.handleMouseEnter=function(e){t.setState((function(t){return e===t.modification?{modification:void 0}:{modification:e}})),t.props.handleSubMenuAction({action:3===t.props.tierNumber?P.a.PreviewTier3:P.a.PreviewTier2})},t.handleMouseLeave=function(){t.setState({modification:void 0})},t.handleEmoteClick=function(){return!0},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.emotes,n=[{__typename:"EmoteModifier",code:"",name:s.ed.UNKNOWN}].concat(this.props.modifications);return a.createElement(p.a,{className:"emote-modifier-preview-list",display:m.g.Flex,position:m.n.Relative},n.map((function(t){return a.createElement(p.a,{key:"emote-modifier-preview-button-"+t.code,margin:{right:.5}},a.createElement(C.a,{modification:t,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,selected:e.state.modification===t,tooltipDirection:h.c.Bottom}))})),a.createElement(N.a,{show:!!this.state.modification,direction:N.b.Top},a.createElement(p.a,{className:"emote-modifier-preview-list__emotes",display:m.g.Flex,position:m.n.Relative,flexWrap:m.i.Wrap},this.state.modification&&t.map((function(t,n){var i;return a.createElement(S.b,{key:"emote-modifier-preview-emote-"+n,emote:Object(O.e)(t,(null===(i=e.state.modification)||void 0===i?void 0:i.code)||""),onClick:e.handleEmoteClick})})))))},t}(a.Component);var D=Object(E.b)((function(e){return{handleSubMenuAction:e.handleSubMenuAction}}))(j),T=n("UI0n"),w=n("0WFu"),I=n("Ws8v");var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderHigherProductTierBenefits=function(){for(var e,n,i,l=t.props,u=l.selectedProduct,d=l.allSubProducts,f=l.creatorBadgeFlairSetting,h=Object(w.b)(u.tier)||1,b=[],y=1;y<h;y++){var v=Object(c.c)((null===(e=null==d?void 0:d[y])||void 0===e?void 0:e.emotes)||[]);b.push(Object(r.__spreadArrays)(v))}var S=f&&f!==s.Cb.NONE&&t.getUpsellBadges().has(h),C=(null===(n=u.emotes)||void 0===n?void 0:n.length)||0,E=(null===(i=u.emoteModifiers)||void 0===i?void 0:i.length)||0,O=[Object(o.d)("All Tier {tierNumber} Benefits",{tierNumber:Object(o.f)(h-1)},"HigherTiers")];C>0&&O.push(A(h,C)),S&&O.push(_(h)),E>0&&O.push(M(h,E)),1===O.length&&(O=[Object(o.d)("All Tier 1 Benefits plus extra support for your streamer!","SubModalUnsubbedPage")]);var P=a.createElement(I.a,{flexShrink:1,background:m.d.Base,border:!0,borderRadius:m.e.Small,display:m.g.InlineBlock,padding:{x:1,y:.5}},b.map((function(e,n){if(e.length||S||!(n>0))return a.createElement(p.a,{key:"product-chat-line-"+n,margin:{top:n>0?.5:0}},a.createElement(g,{channelID:t.props.channelID,userName:t.props.userName,badges:t.getUpsellBadges(),emoteTier:n+2,badgeTier:h,emotes:e}))}))),N=a.createElement(p.a,{margin:{right:5,bottom:0},display:m.g.Flex,flexWrap:m.i.Wrap},a.createElement(k.a,{product:u,handleSubMenuAction:t.props.handleSubMenuAction}));return t.props.isBenefitsPage?t.renderBenefits(O,N):t.renderBenefits(O,P)},t.renderBaseProductTierBenefits=function(){var e,n,i=t.props,r=i.selectedProduct,s=i.simpleMessaging,c=(null===(e=r.emotes)||void 0===e?void 0:e.length)||0;if(s)return a.createElement(p.a,{alignItems:m.b.Start,display:m.g.Flex},a.createElement(p.a,{flexGrow:1},(n={hasAdFree:r.hasAdFree,emoteCount:c}).hasAdFree?n.emoteCount>0?Object(o.d)("{emoteCount, plural,           one {Includes Ad-Free viewing, chatting during Sub-Only Mode, subscription tenure badges, and # emote.}           other {Includes Ad-Free viewing, chatting during Sub-Only Mode, subscription tenure badges, and # emotes.}}",{emoteCount:n.emoteCount},"SubBenefitMessage"):Object(o.d)("Includes Ad-Free viewing, chatting during Sub-Only Mode, and subscription tenure badges.","SubBenefitMessage"):n.emoteCount>0?Object(o.d)("{emoteCount, plural,           one {Includes chatting during Sub-Only Mode, subscription tenure badges, and # emote.}           other {Includes chatting during Sub-Only Mode, subscription tenure badges, and # emotes.}}",{emoteCount:n.emoteCount},"SubBenefitMessage"):Object(o.d)("Includes chatting during Sub-Only Mode and subscription tenure badges.","SubBenefitMessage")),a.createElement(p.a,{flexShrink:0,margin:{left:.5}},t.props.children));var l=[Object(o.d)("Subscriber Badges","AllPaidTiers"),Object(o.d)("Chatting during Subscriber-Only Mode","AllPaidTiers")];r.hasAdFree&&l.unshift(Object(o.d)("Ad-free viewing","AllPaidTiers")),c>0&&l.push(Object(o.d)("{emoteCount, plural, one {# Emote} other {# Emotes}}",{emoteCount:c},"AllPaidTiers"));var u=a.createElement(I.a,{flexShrink:1,background:m.d.Base,border:!0,borderRadius:m.e.Small,display:m.g.InlineBlock,padding:{x:1,y:.5}},a.createElement(g,{channelID:t.props.channelID,userName:t.props.userName,badges:t.getUpsellBadges(),badgeTier:1})),d=a.createElement(p.a,{margin:{right:5,bottom:0},display:m.g.Flex,flexWrap:m.i.Wrap},a.createElement(k.a,{product:r,handleSubMenuAction:t.props.handleSubMenuAction}));return t.props.isBenefitsPage?t.renderBenefits(l,d):t.renderBenefits(l,u)},t.renderBenefits=function(e,n){for(var i,o,s=t.props,l=s.selectedProduct,u=s.allSubProducts,d=Object(w.b)(l.tier)||1,f=Object(c.c)((null===(i=null==u?void 0:u[0])||void 0===i?void 0:i.emotes)||[]),h=Object(r.__spreadArrays)(f),g=[],b=1;b<d;b++){var y=Object(c.c)((null===(o=null==u?void 0:u[b])||void 0===o?void 0:o.emotes)||[]);h.push.apply(h,y),g.push.apply(g,(null==u?void 0:u[b].emoteModifiers)||[])}return a.createElement(p.a,null,a.createElement(v,{benefits:e,columnCount:t.props.columnCount}),d>1&&a.createElement(p.a,{margin:{top:1}},a.createElement(D,{modifications:g,emotes:h,tierNumber:d})),a.createElement(p.a,{display:m.g.Flex,alignItems:m.b.End,margin:{y:1}},a.createElement(p.a,{flexGrow:1},n),a.createElement(p.a,{flexShrink:0,margin:{left:.5}},t.props.children)))},t.getUpsellBadges=function(){var e=Object(T.f)(t.props.subBadges||[],t.props.tenure);return Object(u.c)(t.props.subBadges||[],e[0])},t}return Object(r.__extends)(t,e),t.prototype.render=function(){switch(this.props.selectedProduct.tier){case"2000":case"3000":return this.renderHigherProductTierBenefits();case"1000":default:return this.renderBaseProductTierBenefits()}},t}(a.Component),A=function(e,t){return e>2?Object(o.d)("{emoteCount, plural, one {<x:strong>#</x:strong> additional exclusive Emote} other {<x:strong>#</x:strong> additional exclusive Emotes}}",{emoteCount:t,"x:strong":function(e){return a.createElement("strong",null,e)}},"HigherTiers"):Object(o.d)("{emoteCount, plural, one {<x:strong>#</x:strong> exclusive Emote} other {<x:strong>#</x:strong> exclusive Emotes}}",{emoteCount:t,"x:strong":function(e){return a.createElement("strong",null,e)}},"HigherTiers")},M=function(e,t){return e>2?Object(o.d)("{emoteModifierCount, plural, one {<x:strong>#</x:strong> additional Emote Modifier} other {<x:strong>#</x:strong> additional Emote Modifiers}}",{emoteModifierCount:t,"x:strong":function(e){return a.createElement("strong",null,e)}},"HigherTiers"):Object(o.d)("{emoteModifierCount, plural, one {<x:strong>#</x:strong> Emote Modifier} other {<x:strong>#</x:strong> Emote Modifiers}}",{emoteModifierCount:t,"x:strong":function(e){return a.createElement("strong",null,e)}},"HigherTiers")},_=function(e){return e>2?Object(o.d)("Upgraded <x:strong>Tier {tierNumber}</x:strong> Badge Flair",{tierNumber:e,"x:strong":function(e){return a.createElement("strong",null,e)}},"HigherTiers"):Object(o.d)("<x:strong>Tier {tierNumber}</x:strong> Badge Flair",{tierNumber:e,"x:strong":function(e){return a.createElement("strong",null,e)}},"HigherTiers")};var F=Object(E.b)((function(e){var t;return{userName:(null===(t=e.sessionUser)||void 0===t?void 0:t.displayName)||e.channel.login,channelID:e.channel.id,subBadges:e.subBadges,tenure:e.tenure,creatorBadgeFlairSetting:e.creatorBadgeFlairSetting}}))(x);n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return x}))},"1/wt":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Error="error",e.Info="info",e.Success="success",e.Warning="warning"}(i||(i={}))},"1AzW":function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("ZDlU"),o=n("Ws8v"),s=n("yymn"),c=n("sUnt"),l=n("+80q"),u=(n("YG3Y"),function(){return i.createElement(o.a,{className:"xsolla-down-notice__container",background:s.d.Base,border:!0,display:s.g.Flex,justifyContent:s.l.Center},i.createElement(c.a,{margin:{top:5},fullWidth:!0,textAlign:s.p.Center},i.createElement(l.a,{type:l.e.H4},i.createElement(a.PageError,{message:Object(r.d)("Sorry, this payment option is not available at the moment.","XsollaDownNotice")}))))});n.d(t,"a",(function(){return u}))},"1Rv/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UnbanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnbanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:243}};n.loc.source={body:"mutation Chat_UnbanUserFromChatRoom($input: UnbanUserFromChatRoomInput!) {\nunbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_UnbanUserFromChatRoom=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_UnbanUserFromChatRoom")},"1ZQW":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelSubSuccessScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productName"},value:{kind:"Variable",name:{kind:"Name",value:"productName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:367}};n.loc.source={body:"query ChannelSubSuccessScreen($productName: String!) {\nsubscriptionProduct(productName: $productName) {\nid\ntier\nhasAdFree\nowner {\nid\ndisplayName\nself {\ndisplayBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\navailableBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\n}\nsubscriptionProducts {\nid\ntier\nemotes {\nid\ntoken\nsetID\n}\nemoteModifiers {\ncode\nname\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelSubSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelSubSuccessScreen")},"1ZY8":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsProductDescription"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsBundleOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asin"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"query BitsProductDescription {\ncurrentUser {\nid\nbitsOffers {\nid\nbits\n... on BitsBundleOffer {\nasin\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BitsProductDescription=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"BitsProductDescription")},"1bK4":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c}));var i,r=2e3,a=3e3;function o(){return"https://help.twitch.tv/s/article/subscriber-badge-guide#badgeflair"}function s(e,t){var n=new Map;if(0===e.length)return n;var i=0;if(t)i=parseInt(t.version,10),n=n.set(1,t);else{var o=e.find((function(e){return parseInt(e.version,10)===i}));o&&(n=n.set(1,o))}var s=e.find((function(e){return parseInt(e.version,10)===i+r}));s&&(n=n.set(2,s));var c=e.find((function(e){return parseInt(e.version,10)===i+a}));return c&&(n=n.set(3,c)),n}function c(e){var t=parseInt(e,10),n=t%1e3;switch(t){case NaN:case n:return i.NONE;case n+r:return i.TIER_2;case n+a:return i.TIER_3;default:return i.NONE}}!function(e){e.NONE="NONE",e.TIER_2="TIER_2",e.TIER_3="TIER_3"}(i||(i={}))},"1zL5":function(e,t,n){},"2DIU":function(e,t,n){e.exports=n.p+"assets/amazon_pay_1x-4f76ba5fbbaca5a76d41.png"},"2ORI":function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_2x-302cb9125ccffd2d356d.png"},"2ha9":function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/7QA"),s=n("DMoW"),c=n("azJ+"),l=n("PZ6D"),u=n("8Csb"),d=n("DnOo"),p=n("a5fV"),m=n("sUnt"),f=n("yymn"),h=n("+80q"),g=n("wp5a"),b=n("Ws8v"),y=n("DUmW"),v=n("+Zug"),k=n("OIet"),S=n("hnjF"),C=n("uG/k"),E=n("C7sF");n("Dbrn");!function(e){e.SubtemberMessage="SubtemberMessage",e.Offer="SubtemberOffer"}(i||(i={}));var O=function(e){var t,n,O,P,N,j="";if(e.prioritizedOffers&&e.prioritizedOffers.length>0){if(0===Object(r.__spreadArrays)(Object(l.a)(e.prioritizedOffers,3,s.O.MONTHS),[Object(l.a)(e.prioritizedOffers,6,s.O.MONTHS)]).filter((function(e){var t;return(null===(t=e.promotion)||void 0===t?void 0:t.name.includes(u.a))&&e.eligibility.isEligible})).length)return null;e.product&&(j=Object(p.d)(e.prioritizedOffers[0],1)||Object(p.e)(e.product))}var D=Object(o.d)("Emphasizing Subtember with star decoration","SubtemberModalBanner");return a.createElement(b.a,{className:"subtember-modal-banner__container",margin:2,borderRadius:f.e.Large,border:!0},a.createElement(m.a,{className:"subtember-modal-banner__header"},a.createElement(y.a,null,a.createElement(v.a,{cols:5},a.createElement(m.a,{display:f.g.Flex,alignItems:f.b.Center,padding:{x:1,y:3}},a.createElement(h.a,{className:"subtember-modal-banner__heading",type:h.e.H4,bold:!0},a.createElement(k.a,null,Object(o.d)("SUBtember is here!","SubtemberModalBanner"))))),a.createElement(v.a,{cols:2},a.createElement(m.a,{position:f.n.Relative},a.createElement(S.a,{margin:{top:1}},a.createElement(C.a,{src:c.a+"/subtember-stars.png",alt:D})),a.createElement(S.a,{position:f.n.Absolute,attachLeft:!0},a.createElement(C.a,{src:c.a+"/subtember-glow-highlight.gif",alt:D})))),a.createElement(v.a,{cols:5},a.createElement(m.a,{display:f.g.Flex,alignItems:f.b.Center,fullHeight:!0,padding:1},a.createElement(h.a,{color:f.f.Overlay,fontSize:f.j.Size7},Object(o.d)("presented by","SubtemberModalBanner")),a.createElement(S.a,{flexGrow:1,margin:{left:1}},a.createElement(C.a,{className:"subtember-modal-banner__sponsor_logo",src:c.a+"/subtember__capone_eno.png",alt:Object(o.d)("Capital One","SubtemberModalBanner")})))))),a.createElement(m.a,{display:f.g.Flex,justifyContent:f.l.Center,margin:{y:2},padding:{x:3,y:0},textAlign:f.p.Center},a.createElement(h.a,{"data-test-selector":i.SubtemberMessage},Object(o.d)("<x:strong>The more you support, the more you save.</x:strong> Save up to 30% on new channel subscriptions until {date}, for all sub tiers on twitch.tv only (not available on mobile).",{"x:strong":function(e){return a.createElement(h.a,{type:h.e.Span,bold:!0},e)},date:Object(o.c)(new Date("2020-09-30T07:00:00Z"),{month:"numeric",day:"numeric"})},"SubtemberModalBanner"))),e.prioritizedOffers&&a.createElement(a.Fragment,null,a.createElement(m.a,{display:f.g.Flex,justifyContent:f.l.Center,margin:{bottom:2}},e.prioritizedOffers.map((function(e,t){return function(e,t){var n,r,s,c,l,u,d,b,y=null===(l=null===(c=null===(s=null===(r=null===(n=e.listing)||void 0===n?void 0:n.chargeModel)||void 0===r?void 0:r.internal)||void 0===s?void 0:s.plan)||void 0===c?void 0:c.interval)||void 0===l?void 0:l.duration;y&&(d=Object(o.d)("{duration, plural, one {# Month} other {# Months}}",{duration:y},"SubtemberModalBanner"));var v=null===(u=e.promotion)||void 0===u?void 0:u.promoDisplay.discountPercent;if(v){b=Object(o.d)("Save {percentOff}%",{percentOff:v},"SubtemberModalBanner");var k=Object(p.d)(e,1),S=Object(p.d)(e,1,!0);return a.createElement(m.a,{textAlign:f.p.Center,margin:{x:3},key:t,"data-test-selector":i.Offer},a.createElement(h.a,{bold:!0},d),b&&a.createElement(m.a,null,a.createElement(g.a,{transform:h.d.Uppercase,label:b,type:g.b.Success})),k&&S&&Object(o.d)("<x:strike>{fullPrice}</x:strike> {currentPrice}",{"x:strike":function(e){return a.createElement(h.a,{type:h.e.Span,decoration:h.c.Strikethrough,color:f.f.Alt2},e)},fullPrice:S,currentPrice:k},"SubtemberModalBanner"))}}(e,t)}))),e.product&&e.handleSubMenuAction&&a.createElement(m.a,{textAlign:f.p.Right,margin:{bottom:2,right:2}},a.createElement(d.a,{"data-a-target":"subscribe-button-tier-"+e.product.tier,handleSubAction:e.handleSubMenuAction,icon:E.a.Star,isSubbedToTier:!1,productName:e.product.name,tierPrice:j,url:e.product.url,offerID:null===(n=null===(t=e.prioritizedOffers)||void 0===t?void 0:t[0])||void 0===n?void 0:n.id,isEligible:null===(N=null===(P=null===(O=e.prioritizedOffers)||void 0===O?void 0:O[0])||void 0===P?void 0:P.eligibility)||void 0===N?void 0:N.isEligible,product:e.product,multiMonthOffers:e.prioritizedOffers}))))};n.d(t,"a",(function(){return O}))},"2tXM":function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("sUnt"),o=n("Jsra"),s=function(e){return i.createElement(a.a,{padding:{top:2,bottom:1}},i.createElement(o.a,{onClick:e.onClickHelp},Object(r.d)("How do I cheer?","Bits--CheermoteIntro")))};n.d(t,"a",(function(){return s}))},"2xEe":function(e,t,n){e.exports=n.p+"assets/paypal_dark_1x-29d0a02f9cc67088594b.png"},"35qb":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductPriceInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PriceInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}],loc:{start:0,end:118}};n.loc.source={body:"fragment subscriptionProductPriceInfo on PriceInfo {\ncurrency\nexponent\ntotal\ndescription\nprice\nisTaxInclusive\nid\ntax\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"3Bft":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var i,r={Prime:"prime",Tier1:"1000",Tier2:"2000",Tier3:"3000",Custom:"Custom"};!function(e){e.Prime="prime",e.Tier1="1000",e.Tier2="2000",e.Tier3="3000",e.Custom="Custom"}(i||(i={}))},"3Qp8":function(e,t,n){e.exports=n.p+"assets/red-gem-fc715055c3b78e71b335.png"},"4G6/":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));var i=60,r=60*i,a=24*r,o=7*a,s=4*o+2*a,c=3,l=/([a-zA-Z])([0-9])/gi,u=/([0-9])([a-zA-Z])/gi,d=/^mo(nths?)?/,p=/^w(eeks?)?/,m=/^d(ays?)?/,f=/^h(ours?)?/,h=/^m(inutes?)?/;function g(e){if(!e)return"0s";var t=e,n="";if(t>s){var c=Math.floor(t/s);t-=c*s,n+=c+"mo"}if(t>o){var l=Math.floor(t/o);t-=l*o,n+=l+"w"}if(t>a){var u=Math.floor(t/a);t-=u*a,n+=u+"d"}if(t>r){var d=Math.floor(t/r);t-=d*r,n+=d+"h"}if(t>i){var p=Math.floor(t/i);t-=p*i,n+=p+"m"}return t>0&&(n+=t+"s"),n}function b(e){var t=0,n=e.replace(l,"$1 $2").replace(u,"$1 $2").split(/\W+/);if(n.length%2!=0)return null;for(var g=0;g<n.length;g+=2){var b=n[g],y=parseInt(b,10);if(Number.isNaN(y)||b.length>c)return null;var v=n[g+1];if(v.match(d))t+=y*s;else if(v.match(p))t+=y*o;else if(v.match(m))t+=y*a;else if(v.match(f))t+=y*r;else{if(!v.match(h))return null;t+=y*i}}return t}},"4w0E":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_BanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minTimeoutDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTimeoutDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:289}};n.loc.source={body:"mutation Chat_BanUserFromChatRoom($input: BanUserFromChatRoomInput!) {\nbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\nminTimeoutDurationSeconds\nmaxTimeoutDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_BanUserFromChatRoom=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_BanUserFromChatRoom")},"5RPz":function(e,t,n){},"5TAx":function(e,t,n){},"5yce":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("wUQP"),r=n("Mb07"),a="first_paid_gift_offer_feature_flag";function o(){return Object(i.c)(a)}function s(e){var t,n,i;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===r.a.FirstPaidGiftOffer||(null===(n=null==e?void 0:e.promotion)||void 0===n?void 0:n.name)===r.a.FirstPaidSingleGiftOffer||(null===(i=null==e?void 0:e.promotion)||void 0===i?void 0:i.name)===r.a.FirstPaidMulitMonthOffer}function c(e){var t,n,i;if(o()){var a=null===(i=null===(n=null===(t=e.gifting)||void 0===t?void 0:t.community)||void 0===n?void 0:n.find((function(e){return s(e.offer)})))||void 0===i?void 0:i.offer;if(a&&Object(r.e)(a)){var c=Object(r.d)(a).discountPercent;if(c)return{offer:a,discountPercent:c}}}}},"6+Z+":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("/7QA");function r(e){switch(e.toUpperCase()){case"AL":return Object(i.d)("Alabama","format-usa-state");case"AK":return Object(i.d)("Alaska","format-usa-state");case"AZ":return Object(i.d)("Arizona","format-usa-state");case"AR":return Object(i.d)("Arkansas","format-usa-state");case"AA":return Object(i.d)("Armed Forces Americas","format-usa-state");case"AE":return Object(i.d)("Armed Forces Europe/Middle East/Canada","format-usa-state");case"AP":return Object(i.d)("Armed Forces Pacific","format-usa-state");case"CA":return Object(i.d)("California","format-usa-state");case"CO":return Object(i.d)("Colorado","format-usa-state");case"CT":return Object(i.d)("Connecticut","format-usa-state");case"DE":return Object(i.d)("Delaware","format-usa-state");case"DC":return Object(i.d)("District of Columbia","format-usa-state");case"FL":return Object(i.d)("Florida","format-usa-state");case"GA":return Object(i.d)("Georgia","format-usa-state");case"HI":return Object(i.d)("Hawaii","format-usa-state");case"ID":return Object(i.d)("Idaho","format-usa-state");case"IL":return Object(i.d)("Illinois","format-usa-state");case"IN":return Object(i.d)("Indiana","format-usa-state");case"IA":return Object(i.d)("Iowa","format-usa-state");case"KS":return Object(i.d)("Kansas","format-usa-state");case"KY":return Object(i.d)("Kentucky","format-usa-state");case"LA":return Object(i.d)("Louisiana","format-usa-state");case"ME":return Object(i.d)("Maine","format-usa-state");case"MD":return Object(i.d)("Maryland","format-usa-state");case"MA":return Object(i.d)("Massachusetts","format-usa-state");case"MI":return Object(i.d)("Michigan","format-usa-state");case"MN":return Object(i.d)("Minnesota","format-usa-state");case"MS":return Object(i.d)("Mississippi","format-usa-state");case"MO":return Object(i.d)("Missouri","format-usa-state");case"MT":return Object(i.d)("Montana","format-usa-state");case"NE":return Object(i.d)("Nebraska","format-usa-state");case"NV":return Object(i.d)("Nevada","format-usa-state");case"NH":return Object(i.d)("New Hampshire","format-usa-state");case"NJ":return Object(i.d)("New Jersey","format-usa-state");case"NM":return Object(i.d)("New Mexico","format-usa-state");case"NY":return Object(i.d)("New York","format-usa-state");case"NC":return Object(i.d)("North Carolina","format-usa-state");case"ND":return Object(i.d)("North Dakota","format-usa-state");case"OH":return Object(i.d)("Ohio","format-usa-state");case"OK":return Object(i.d)("Oklahoma","format-usa-state");case"OR":return Object(i.d)("Oregon","format-usa-state");case"PA":return Object(i.d)("Pennsylvania","format-usa-state");case"RI":return Object(i.d)("Rhode Island","format-usa-state");case"SC":return Object(i.d)("South Carolina","format-usa-state");case"SD":return Object(i.d)("South Dakota","format-usa-state");case"TN":return Object(i.d)("Tennessee","format-usa-state");case"TX":return Object(i.d)("Texas","format-usa-state");case"UT":return Object(i.d)("Utah","format-usa-state");case"VT":return Object(i.d)("Vermont","format-usa-state");case"VA":return Object(i.d)("Virginia","format-usa-state");case"WA":return Object(i.d)("Washington","format-usa-state");case"WV":return Object(i.d)("West Virginia","format-usa-state");case"WI":return Object(i.d)("Wisconsin","format-usa-state");case"WY":return Object(i.d)("Wyoming","format-usa-state");default:return e}}var a=["AL","AK","AZ","AR","AA","AE","AP","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]},"66/j":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("3Bft"),r=n("DMoW"),a=n("UI0n"),o=0,s=96;function c(e){return{id:e.id,setID:e.setID,version:e.version,title:e.title,image1x:e.image1x,image2x:e.image2x,image4x:e.image4x,clickAction:r.n.SUBSCRIBE,clickURL:e.clickURL||""}}function l(e,t){var n,r=s,c=o;if(t&&t.tier)switch(t.tier){case i.a.Tier2:c=a.c,r=a.a;break;case i.a.Tier3:c=a.d,r=a.b}return null===(n=null==e?void 0:e.filter((function(e){return"subscriber"===(null==e?void 0:e.setID)&&parseInt(e.version,10)<=r&&parseInt(e.version,10)>=c})).map((function(e){return Object.assign({},e,{version:(parseInt(e.version,10)-c).toString()})})))||void 0===n?void 0:n.sort((function(e,t){return parseInt(e.version,10)-parseInt(t.version,10)}))}},"751L":function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("TSYQ"),o=n("q1tI"),s=n("/MKj"),c=n("Uh2Q"),l=n("RiD7"),u=n("Jsra"),d=n("+80q"),p=n("yymn"),m=n("sUnt"),f=n("Ws8v"),h=n("uG/k");n("1zL5");!function(e){e[e.SUB_MODAL=0]="SUB_MODAL",e[e.SUB_MANAGEMENT_PAGE=1]="SUB_MANAGEMENT_PAGE"}(i||(i={}));var g=[{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperCheese/112.png",emoteString:"HyperCheese"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperCooldown/112.png",emoteString:"HyperCooldown"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperCrate/112.png",emoteString:"HyperCrate"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperCrown/112.png",emoteString:"HyperCrown"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperGravity/112.png",emoteString:"HyperGravity"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperHaste/112.png",emoteString:"HyperHaste"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperHex/112.png",emoteString:"HyperHex"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperJump/112.png",emoteString:"HyperJump"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperLost/112.png",emoteString:"HyperLost"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperMayhem/112.png",emoteString:"HyperMayhem"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperMine/112.png",emoteString:"HyperMine"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperParkour/112.png",emoteString:"HyperParkour"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperReveal/112.png",emoteString:"HyperReveal"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperSlam/112.png",emoteString:"HyperSlam"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperTiger/112.png",emoteString:"HyperTiger"}],b=g.slice().reverse(),y="MegaCommerceModalBannerHeader",v="MegaCommerceModalBannerBody",k=function(e){function t(t){var n=e.call(this,t)||this;return n.learnMoreElement=function(e){return o.createElement(u.a,{className:"mega-commerce-banner__learn-more",linkTo:Object(c.c)(),targetBlank:!0,onClick:n.learnMoreClick},e)},n.learnMoreClick=function(){var e=n.props.context,t=l.e.SubManagement;e===i.SUB_MODAL&&(t=l.e.SubModalMain),Object(l.o)({user_id:n.props.currentUserID||"",source:t})},n.getRenderedContent=function(){var e=n.props.context,t=Object(c.e)(n.learnMoreElement),r=o.createElement(d.a,{className:"mega-commerce-banner__title",fontSize:p.j.Size4,fontWeight:p.k.SemiBold,"data-test-selector":y},Object(c.f)()),a=o.createElement(m.a,{margin:{top:.5,bottom:1},"data-test-selector":v},o.createElement(d.a,null,t)),s=o.createElement(o.Fragment,null,r,a);return e===i.SUB_MODAL?o.createElement(m.a,{textAlign:p.p.Center,padding:{x:1}},n.wrapContentWithEmotes(o.createElement(m.a,{className:"mega-commerce-banner__submodal_content"},r)),o.createElement(m.a,{padding:{x:2}},a)):e===i.SUB_MANAGEMENT_PAGE?o.createElement(o.Fragment,null,o.createElement(m.a,{padding:{x:2}},s),o.createElement(m.a,{className:"mega-commerce-banner__subpage_content",display:p.g.Flex,flexDirection:p.h.Row,alignItems:p.b.Center,overflow:p.m.Hidden,margin:{top:.5,bottom:1},padding:{x:2}},g.map((function(e){return n.generateCoreImage(e.src,e.emoteString)})))):null},n.wrapContentWithEmotes=function(e){return o.createElement(m.a,{className:"mega-commerce-banner__emote_wrap",display:p.g.Flex,flexDirection:p.h.Row,alignItems:p.b.Center,justifyContent:p.l.Between,overflow:p.m.Hidden,padding:{bottom:.5}},o.createElement(m.a,{className:"mega-commerce-banner__rtl",overflow:p.m.Hidden,margin:{right:1}},g.map((function(e){return n.generateCoreImage(e.src,e.emoteString)}))),e,o.createElement(m.a,{overflow:p.m.Hidden,margin:{left:1}},b.map((function(e){return n.generateCoreImage(e.src,e.emoteString)}))))},n}return Object(r.__extends)(t,e),t.prototype.render=function(){if(!Object(c.g)(c.a))return null;var e=this.props.context,t=this.getRenderedContent(),n=a("mega-commerce-banner",{"mega-commerce-banner__bg_right":e===i.SUB_MANAGEMENT_PAGE,"mega-commerce-banner__bg_both":e===i.SUB_MODAL});return o.createElement(f.a,{borderRadius:p.e.Large,className:n,display:p.g.Flex,flexDirection:p.h.Column,padding:{top:2,bottom:1},position:p.n.Relative},t)},t.prototype.generateCoreImage=function(e,t){return o.createElement(h.a,{className:"mega-commerce-banner__emote",key:e,src:e,srcSet:{"112w":e},sizes:[{size:"28px"}],alt:t})},t}(o.Component);var S=Object(s.b)((function(e){var t;return{currentUserID:(null===(t=e.session.user)||void 0===t?void 0:t.id)||null}}))(k);n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return S}))},"78pb":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Modal="modal",e.Page="page"}(i||(i={}))},"7DAU":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutFormReviewScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"purchaseOrderID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeOrder"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchaseOrder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"purchaseOrderID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeOrder"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTokenID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"failureReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"query CheckoutFormReviewScreen($purchaseOrderID: ID! $includeOrder: Boolean!) {\ncurrentUser {\nid\npurchaseOrder(id: $purchaseOrderID) @include(if: $includeOrder) {\nid\nactionTokenID\nfailureReason\nstate\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CheckoutFormReviewScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CheckoutFormReviewScreen")},"7m5f":function(e,t,n){},"8/YZ":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EmoteModifier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};n.loc.source={body:"fragment subscriptionProductEmoteModifier on EmoteModifier {\ncode\nname\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"8Csb":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("/7QA"),r="subtember_2020_start_date",a="subtember_2020_end_date",o="subtember-2020";function s(){var e=Date.parse(i.b.get(r,"")),t=Date.parse(i.b.get(a,"")),n=Date.now();return!(!e||isNaN(e)||!t||isNaN(t))&&(n>=e&&n<t)}},"8NlI":function(e,t,n){},"8Wig":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(e,t){var n,i=e.filter((function(e){return"subscriber"===(null==e?void 0:e.setID)})).sort((function(e,t){return Number((null==e?void 0:e.version)||0)-Number((null==t?void 0:t.version)||0)}));if("0"===(null===(n=i[0])||void 0===n?void 0:n.version))return i;var r=null==t?void 0:t.find((function(e){return"subscriber"===(null==e?void 0:e.setID)&&"0"===(null==e?void 0:e.version)}));return r&&i.unshift(r),i},r=function(e){return e.filter((function(e){return"sub-gifter"===(null==e?void 0:e.setID)})).sort((function(e,t){return Number((null==e?void 0:e.version)||0)-Number((null==t?void 0:t.version)||0)}))}},"8Xrw":function(e,t,n){"use strict";var i,r,a=n("q1tI"),o=n("C7sF"),s=n("7uM4"),c=n("Ws8v"),l=n("yymn");!function(e){e[e.LOCK=0]="LOCK",e[e.BITS=1]="BITS"}(r||(r={}));var u=((i={})[r.LOCK]=o.a.Lock,i[r.BITS]=o.a.Bits,i),d=function(e){var t=e.lockIcon,n=e.className,i=a.useMemo((function(){return a.createElement(s.a,{asset:u[t],height:10,width:10})}),[t]);return a.createElement(c.a,{background:l.d.Overlay,borderRadius:l.e.Small,className:n,"data-test-selector":"badge-button-lock",display:l.g.InlineFlex,justifyContent:l.l.Center,position:l.n.Absolute,zIndex:l.s.Above},i)};n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return r}))},"8Z7p":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Bio="Description specified is too long",e.DisplayNameCasing="You may not change your display name, only the capitalization of it.",e.DisplayNameCJK="You may not change your display name again.",e.DisplayNameInvalidChars="name you selected contains invalid characters",e.DisplayNameLong="name you selected is too long",e.DisplayNameNotAvailable="display name you selected is not available",e.DisplayNameShort="name you selected is too short",e.EmailAdminDomainRequired="Admins must use their work email",e.EmailDomainNotAllowed="Email address uses an invalid domain",e.EmailNotAllowed="Email disabled for reuse",e.EmailNotUpdateable="You are not allowed to change your email more than once every",e.EmailNotValid="Email address is not valid",e.SudoTokenInvalid="invalid sudo token",e.SudoTokenMissing="missing sudo token"}(i||(i={}))},"8ggV":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("4rCz"),s=n("ER7f"),c=n("sUnt"),l=n("yymn"),u=n("+80q"),d=(n("yAI6"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showChallenge:!1,threeDSecure:null},t.onMutation=function(e,n){for(var i=0,r=e;i<r.length;i++){if("childList"===r[i].type)return n.disconnect(),t.setState({showChallenge:!0}),void(t.props.handleChallengeShown&&t.props.handleChallengeShown())}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.recurlyLoadFailed||(this.props.recurlyInstance&&this.setupConfigs(),this.props.threeDSecureActionTokenID&&!this.state.threeDSecure&&this.props.recurlyInstance&&this.initiate3DS2Check())},t.prototype.componentDidUpdate=function(e){this.props.recurlyLoadFailed||(this.props.recurlyInstance&&this.setupConfigs(),e.threeDSecureActionTokenID||!this.props.threeDSecureActionTokenID||this.state.threeDSecure||!this.props.recurlyInstance||this.props.recurlyLoadFailed||this.initiate3DS2Check(),e.threeDSecureActionTokenID&&!this.props.threeDSecureActionTokenID&&(this.setState({showChallenge:!1,threeDSecure:null}),this.cleanUp()))},t.prototype.componentWillUnmount=function(){this.cleanUp()},t.prototype.render=function(){return r.createElement(r.Fragment,null,r.createElement(c.a,{display:this.state.showChallenge?l.g.Hide:l.g.Block},this.props.children),r.createElement(c.a,{display:this.state.showChallenge?l.g.Block:l.g.Hide},r.createElement(c.a,{padding:{bottom:2}},r.createElement(u.a,{type:u.e.Strong},Object(o.d)("Additional authentication with your bank is required to complete this payment.","RecurlyStrongAuthProcessor"))),r.createElement(c.a,{className:"recurly-strong-auth"})))},t.prototype.setupConfigs=function(){this.props.recurlyInstance&&this.props.recurlyInstance.configure({publicKey:this.props.publicKey,fraud:{kount:{dataCollector:!0}}})},t.prototype.initiate3DS2Check=function(){var e=this;if(this.props.recurlyInstance&&this.props.threeDSecureActionTokenID){var t=this.props.recurlyInstance.Risk().ThreeDSecure({actionTokenId:this.props.threeDSecureActionTokenID}),n=document.querySelector(".recurly-strong-auth");if(n&&t)return t.on("error",(function(t){e.cleanUp(),e.props.handleError({message:t}),e.setState({showChallenge:!1,threeDSecure:null})})),t.on("token",(function(t){e.cleanUp(),e.setState({showChallenge:!1,threeDSecure:null}),e.props.handleSuccess(t.id)})),this.mutationObserver=this.mutationObserver||new MutationObserver(this.onMutation),this.mutationObserver.observe(n,{childList:!0,subtree:!0}),t.attach(n),void this.setState({threeDSecure:t});this.props.handleError({message:"Failed to initiate 3DS2 check"})}},t.prototype.cleanUp=function(){this.state.threeDSecure&&this.state.threeDSecure.remove(),this.mutationObserver&&this.mutationObserver.disconnect()},t}(r.Component)),p=Object(a.d)(Object(s.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(d)},"8hIN":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GiftRecipient_UserSubscriptionProducts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelOwnerID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelOwnerID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"giftRecipientUserSubscriptionProduct"},directives:[]}]}}]}}]}}],loc:{start:0,end:311}};i.loc.source={body:'#import "twilight/features/subscribe-button/components/gift-subscribe-button/user-subscription-product-fragment.gql"\nquery GiftRecipient_UserSubscriptionProducts($channelOwnerID: ID! $giftRecipientID: String!) {\nuser(id: $channelOwnerID) {\nid\nsubscriptionProducts {\n...giftRecipientUserSubscriptionProduct\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("GOVP").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GiftRecipient_UserSubscriptionProducts=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"GiftRecipient_UserSubscriptionProducts")},"8qOS":function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("ANjH"),s=n("/7QA"),c=n("yR8l"),l=n("x7UT"),u=n("0Log"),d=n("geRD"),p=n("2Ygb"),m=n("/aPz"),f=n("kRBY"),h=n("X9Go"),g=n("a6LY"),b=n("4w0E"),y=n("1Rv/"),v=n("HzXE"),k=n("4G6/"),S=n("AREq"),C=n("Av0x"),E=n("H82h"),O=function(e,t){switch(e.data.moderation_action){case u.ModerationActions.Unban:case u.ModerationActions.Untimeout:return P(e,t);case u.ModerationActions.Ban:return N(e,t);case u.ModerationActions.Timeout:return j(e,t);default:return}},P=function(e,t){return Object(d.j)(v,{targetUserID:e.data.target_user_id,channelID:t},(function(e){return e.chatRoomBanStatus?Object(i.__assign)(Object(i.__assign)({},e),{chatRoomBanStatus:null}):e}))},N=function(e,t){var n=new Date(Date.now()).toISOString();return Object(d.j)(v,{targetUserID:e.data.target_user_id,channelID:t},(function(t){return Object(i.__assign)(Object(i.__assign)({},t),{chatRoomBanStatus:{__typename:"ChatRoomBanStatus",bannedUser:{__typename:"User",id:e.data.target_user_id,login:e.data.target_user_login,displayName:null},createdAt:n,expiresAt:null,isPermanent:!0,moderator:{__typename:"User",id:e.data.created_by_user_id,login:e.data.created_by,displayName:null}}})}))},j=function(e,t){var n=Number(e.data.args[1]),r=new Date(Date.now()).toISOString(),a=isNaN(n)?null:new Date(Date.now()+1e3*n).toISOString();return Object(d.j)(v,{targetUserID:e.data.target_user_id,channelID:t},(function(t){return Object(i.__assign)(Object(i.__assign)({},t),{chatRoomBanStatus:{__typename:"ChatRoomBanStatus",bannedUser:{__typename:"User",id:e.data.target_user_id,login:e.data.target_user_login,displayName:null},createdAt:r,expiresAt:a,isPermanent:!1,moderator:{__typename:"User",id:e.data.created_by_user_id,login:e.data.created_by,displayName:null}}})}))};n.d(t,"a",(function(){return w}));var D=600;function T(e){var t;return(t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.banUser=function(t,n){var i,r,a=t?Object(s.d)("Unable to timeout user.","ViewerCardModActions"):Object(s.d)("Unable to ban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(a),Promise.reject(a);var o=null===(r=null===(i=e.props.userBanStatusData)||void 0===i?void 0:i.targetUser)||void 0===r?void 0:r.login;if(!o)return e.surfaceError(a),Promise.reject(a);var c=null;"number"==typeof t?c=Object(k.a)(t):"string"==typeof t&&(c=t);var l=e.props.channelID;return e.props.banUserMutation(Object(d.a)({channelID:l,bannedUserLogin:o,expiresIn:c,reason:n})).then((function(n){var i,r,a,o,s=null===(r=null===(i=null==n?void 0:n.data)||void 0===i?void 0:i.banUserFromChatRoom)||void 0===r?void 0:r.error,c=t?g.a.TimeoutUser:g.a.BanUser;if(e.updateUserBanStatusQuery(n.data),e.trackChatLoginModerationEvent(c,t&&t.toString()||void 0),s&&(null===(o=null===(a=e.props.userBanStatusData)||void 0===a?void 0:a.targetUser)||void 0===o?void 0:o.login)){var l=s.minTimeoutDurationSeconds,u=s.maxTimeoutDurationSeconds;e.surfaceError(Object(S.a)({login:e.props.userBanStatusData.targetUser.login,code:s.code,isTimeout:!!t,minTimeoutDuration:l||void 0,maxTimeoutDuration:u||void 0}))}return n.data})).catch((function(t){throw e.surfaceError(a),t}))},e.unbanUser=function(t){var n,i,r=t?Object(s.d)("Unable to untimeout user.","ViewerCardModActions"):Object(s.d)("Unable to unban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(r),Promise.reject(r);var a=null===(i=null===(n=e.props.userBanStatusData)||void 0===n?void 0:n.targetUser)||void 0===i?void 0:i.login;if(!a)return e.surfaceError(r),Promise.reject(r);var o=e.props.channelID;return e.props.unbanUserMutation(Object(d.a)({channelID:o,bannedUserLogin:a})).then((function(n){var i,r,a,o,s=null===(r=null===(i=null==n?void 0:n.data)||void 0===i?void 0:i.unbanUserFromChatRoom)||void 0===r?void 0:r.error,c=t?g.a.UntimeoutUser:g.a.UnbanUser;return e.updateUserBanStatusQuery(null),e.trackChatLoginModerationEvent(c),s&&(null===(o=null===(a=e.props.userBanStatusData)||void 0===a?void 0:a.targetUser)||void 0===o?void 0:o.login)&&e.surfaceError(Object(C.a)(e.props.userBanStatusData.targetUser.login,s.code)),n.data})).catch((function(t){throw e.surfaceError(r),t}))},e.updateUserBanStatusQuery=function(t){var n=e.props,i=n.channelID,r=n.targetID;Object(d.j)(v,{channelID:i,targetUserID:r},(function(e){var n=e&&e.targetUser||null;return(null==t?void 0:t.banUserFromChatRoom)?{targetUser:n,chatRoomBanStatus:t.banUserFromChatRoom.ban}:{targetUser:n,chatRoomBanStatus:null}}))},e.surfaceError=function(t){var n,i;null===(i=(n=e.props).surfaceError)||void 0===i||i.call(n,t)},e.trackChatLoginModerationEvent=function(t,n){var i,r,a=null===(r=null===(i=e.props.userBanStatusData)||void 0===i?void 0:i.targetUser)||void 0===r?void 0:r.id,o=e.props,s=o.channelID,c=o.source,l=o.page;a&&s&&Object(E.a)({actionType:t,channelID:s,targetUserID:a,source:c,duration:n&&"["+n+"]n",page:l})},e}return Object(i.__extends)(n,t),n.prototype.componentDidUpdate=function(e){var t=this.props.pubsub.messages.moderatorAction,n=e.pubsub.messages.moderatorAction;t&&n!==t&&O(t,this.props.channelID)},n.prototype.render=function(){var t=this,n={userBanStatus:this.props.userBanStatusData,banUser:function(e,n){return t.banUser(e,n)},timeoutUser:function(e,n){return t.banUser(e||D,n)},unbanUser:function(){return t.unbanUser()},untimeoutUser:function(){return t.unbanUser(!0)}};return r.createElement(e,Object(i.__assign)({},this.props,n))},n}(r.Component)).displayName=Object(p.a)(t.name,e),t}function w(e){return Object(o.d)(Object(a.b)((function(e){var t;return{currentUserID:null===(t=Object(f.e)(e))||void 0===t?void 0:t.id}})),Object(h.c)(h.b),Object(c.a)(b,{name:"banUserMutation"}),Object(c.a)(y,{name:"unbanUserMutation"}),Object(c.a)(v,{name:"userBanStatusData",options:function(e){return{variables:{channelID:e.channelID,targetUserID:e.targetID}}}}),Object(l.a)([{topic:function(e){return Object(m.C)(e.currentUserID||"",e.channelID)},mapMessageTypesToProps:{"*":"moderatorAction"},skip:function(e){return!e.currentUserID||!e.subscribeToPubsub},skipMessage:function(e,t){var n=e;return n.data.target_user_id!==t.targetID||!(n.data.moderation_action===u.ModerationActions.Ban||n.data.moderation_action===u.ModerationActions.Unban||n.data.moderation_action===u.ModerationActions.Timeout||n.data.moderation_action===u.ModerationActions.Untimeout)}}]),T)(e)}},"8sFf":function(e,t,n){},"9Hw2":function(e,t,n){},"9TPM":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserBalanceQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walletType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WalletType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"balances"},arguments:[{kind:"Argument",name:{kind:"Name",value:"walletType"},value:{kind:"Variable",name:{kind:"Name",value:"walletType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};n.loc.source={body:"query UserBalanceQuery($walletType: WalletType!) {\ncurrentUser {\nid\nbalances(walletType: $walletType) {\namount\ncurrency\nexponent\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UserBalanceQuery=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"UserBalanceQuery")},"9g6D":function(e,t,n){e.exports=n.p+"assets/interruption-free-viewing-4f9e3f5877a2ce0a92c6.png"},"9kXc":function(e,t,n){"use strict";var i=n("/7QA"),r=n("yLwq"),a=n("kduP"),o=n("2xye"),s="en-us",c={bg:"bg-bg",cs:"cs-cz",da:"da-dk",de:"de-de",el:"el-gr",en:s,"en-gb":s,es:"es-es","es-mx":"es-mx",fi:"fi-fi",fr:"fr-fr",hu:"hu-hu",it:"it-it",ja:"ja-jp",ko:"ko-kr",nl:"nl-nl",no:"no-no",pl:"pl-pl","pt-br":"pt-br",pt:"pt-pt",ro:"ro-ro",ru:"ru-ru",sk:"sk-sk",sv:"sv-se",th:"th-th",tr:"tr-tr",vi:"vi-vn","zh-cn":"zh-cn","zh-tw":"zh-tw"};function l(e){var t,n,s,c,l=e.append,p=void 0!==l&&l,m=e.searchResults,f=e.currentGameResults,h=e.currentUserResults,g=e.currentVideoResults,b=e.currentLiveResults;if(m.games&&(t={totalHits:m.games.totalHits,results:p&&f?f.results:[]},p&&m.exhaustedHits&&f&&!m.games.totalHits&&(t.totalHits=f.totalHits),t.results=t.results.concat(m.games.hits.map((function(e,t){var n,r=i.p.intl.getLanguageCode();n=r&&void 0!==e.localizations&&r in e.localizations?e.localizations[r]:e.name;var s=d(e.tags);return{title:n,thumbnailAltText:e.name,linkTo:{pathname:Object(a.a)(e.name),state:{content:o.PageviewContent.Game,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,popularity:e.popularity,tags:s}})))),m.videos){var y=p&&g?g.results:[],v=m.videos.totalHits;p&&m.exhaustedHits&&g&&!m.videos.totalHits&&(v=g.totalHits),s=function(e,t,n){return{results:e.concat(t.hits.map(u)),totalHits:t.totalHits||n}}(y,m.videos,v)}return m.users&&(n={totalHits:p&&h?h.totalHits:m.users.totalHits,results:p&&h?h.results:[]},p&&m.exhaustedHits&&h&&!m.users.totalHits&&(n.totalHits=h.totalHits),n.results=n.results.concat(m.users.hits.map((function(e,t){return{login:e.login,name:e.name,thumbnail:e.profile_image||Object(r.c)(e.objectID,64),thumbnailAltText:e.name,linkTo:{pathname:"/"+e.login,state:{content:o.PageviewContent.User,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,followers:e.followers}})))),m.channels&&((c={totalHits:p&&b?b.totalHits:m.channels.totalHits,results:p&&b?b.results:[]}).results=c.results.concat(m.channels.hits.map((function(e,t){var n=d(e.graffiti);return{viewerCount:e.channel_count,login:e.login,name:e.name,thumbnailAltText:e.status,linkTo:{pathname:"/"+e.login,state:{content:o.PageviewContent.Live,content_index:t,medium:o.PageviewMedium.NavSearch}},id:e.objectID,status:e.status,tags:n}})))),{currentGameResults:t,currentUserResults:n,currentLiveResults:c,currentVideoResults:s,exhaustedHits:m.exhaustedHits}}function u(e,t){return{title:e.title,thumbnail:e.thumbnail,thumbnailAltText:e.title,linkTo:{pathname:"/videos/"+e.objectID,state:{content:o.PageviewContent.Video,content_index:t,medium:o.PageviewMedium.NavSearch}},login:e.broadcaster_login,name:e.broadcaster_name,createdAt:e.created_at,length:e.length,id:e.objectID}}function d(e){if(e)return e.map((function(e){var t,n=c[i.p.intl.getLanguageCode()||""]||s;return t=n&&void 0!==e.localizations&&n in e.localizations?e.localizations[n]:e.name,{id:e.id,isLanguageTag:e.name.includes("auto___lang"),localizedName:t,tagName:e.name}}))}n.d(t,"a",(function(){return l}))},A1XS:function(e,t,n){},ABd2:function(e,t,n){"use strict";var i,r=n("/7QA"),a=n("DMoW"),o=n("2xye"),s=n("VURH");!function(e){e.Start="start",e.CheckoutActionCheck="checkout_action_check",e.LoadSuccess="load_success",e.Add2FaPrompt="add_2fa_prompt",e.Add2FaClick="add_2fa_click",e.Add2FaClose="add_2fa_close",e.AddEmailPrompt="add_email_prompt",e.AddEmailClickAttempt="add_email_click_attempt",e.AddEmailClickSuccess="add_email_click_success",e.AddEmailClickFailure="add_email_click_failure",e.AddPaymentMethodClick="add_payment_method_click",e.ThreeDS2Prompt="3ds2_prompt",e.ThreeDS2Success="3ds2_success",e.ThreeDS2Failure="3ds2_failure",e.CountryOfResidencePrompt="country_of_residence_prompt",e.CountryOfResidenceAttempt="country_of_residence_attempt",e.CountryOfResidenceSuccess="country_of_residence_success",e.CountryOfResidenceFailure="country_of_residence_failure",e.PaymentMethodUpdateInit="payment_method_update_init",e.PaymentMethodUpdateAPIAttempt="payment_method_update_api_attempt",e.PaymentMethodUpdateAPISuccess="payment_method_update_api_success",e.PaymentMethodUpdateAPIFailure="payment_method_update_api_failure",e.PurchaseSupportFAQClick="purchase_support_faq_click",e.SubscriptionManagementClick="subscriptions_management_click",e.ChangePaymentMethodClick="change_payment_method_click",e.UseExistingPaymentMethodClick="use_existing_payment_method_click",e.CompletePurchaseShown="complete_purchase_shown",e.CompletePurchaseClickAttempt="complete_purchase_click_attempt",e.CompletePurchaseClickSuccess="complete_purchase_click_success",e.CompletePurchaseClickFailure="complete_purchase_click_failure",e.VendorScriptFailure="vendor_script_failure",e.GQLError="gql_error",e.Error="error",e.Close="close",e.SetupAutoRefillPrompt="setup_auto_refill_prompt",e.SetupAutoRefillClick="setup_auto_refill_click",e.TermsOfSaleClick="terms_of_sale_click",e.PrivacyPolicyClick="privacy_policy_click",e.QuantityUpdated="quantity_updated",e.PurchaseSuccessScreenShown="purchase_success_screen_shown",e.SkipAddPaymentMethodClick="skip_add_payment_method_click",e.UpdateMonthQuantityClick="update_month_quantity_click"}(i||(i={}));var c=[i.Start,i.LoadSuccess],l=function(){function e(e){var t=this;this.subEventsFired={},this.getTenantTracking=function(){return t.tenantTracking},this.getCheckoutSessionID=function(){return t.checkoutSessionID},this.track=function(e,n){if(void 0===n&&(n=""),!c.includes(e)||!t.subEventsFired[e]){t.subEventsFired[e]=!0;var i={checkout_session_id:t.checkoutSessionID,source:t.source,source_detail:t.sourceDetail||"",tenant_tracking:t.tenantTracking,offer_id:t.offerID,subs_ticket_product_owner_id:t.subsTicketOwnerID||"",product_type:t.productType,product_id:t.productID,purchase_flow:t.purchaseFlow,quantity:t.quantity,currency:t.currency,saved_payment_method:t.savedPaymentMethod,saved_payment_provider:t.savedPaymentProvider,active_payment_method:t.activePaymentMethod||"",active_payment_provider:t.activePaymentProvider||"",is_taxes_known:t.isTaxesKnown,sub_event:e,sub_event_detail:n};void 0!==t._isSpmShownAtLoad&&(i.is_spm_shown_at_load=t._isSpmShownAtLoad),t.walletBalanceLocal&&(i.wallet_balance_local=t.walletBalanceLocal),void 0!==t.grossAmountLocal&&(i.gross_amount_local=t.grossAmountLocal),void 0!==t.grossAmountLocalNonWallet&&(i.gross_amount_local_non_wallet=t.grossAmountLocalNonWallet),void 0!==t.taxesLocal&&(i.taxes_local=t.taxesLocal),void 0!==t.isTaxInclusive&&(i.is_tax_inclusive=t.isTaxInclusive),void 0!==t.defaultGrossAmountLocal&&(i.default_gross_amount_local=t.defaultGrossAmountLocal),t.countryCode&&(i.residence_country_code=t.countryCode),void 0!==t.monthQuantity&&(i.month_quantity=t.monthQuantity),r.o.track(o.SpadeEventType.CheckoutSession,i)}},this.checkoutSessionID=e.checkoutSessionID,this.source=e.source,this.sourceDetail=e.sourceDetail,this.tenantTracking=e.tenantTracking,this.offerID=e.offerID,this.quantity=e.quantity,this.subsTicketOwnerID=e.subsTicketOwnerID,this.productType=e.productType,this.track(i.Start)}return Object.defineProperty(e.prototype,"isSpmShownAtLoad",{set:function(e){void 0===this._isSpmShownAtLoad&&(this._isSpmShownAtLoad=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productID",{get:function(){var e,t;return(null===(t=null===(e=this.tagBindings)||void 0===e?void 0:e.find((function(e){return"product_id"===e.key})))||void 0===t?void 0:t.value)||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"purchaseFlow",{get:function(){switch(this.tplr){case s.b.BitsBundle:case s.b.ChannelSub:case s.b.ChannelSubCustom:case s.b.Turbo:return"personal";case s.b.ChannelSubStandardGift:return"gift";case s.b.ChannelSubCommunityGift:return"community_gift";default:return""}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taxesLocal",{get:function(){var e,t,n;if(this.paymentProvider===a.Vc.RECURLY)return(null===(t=null===(e=this.checkoutPrice)||void 0===e?void 0:e.discount)||void 0===t?void 0:t.tax)||(null===(n=this.checkoutPrice)||void 0===n?void 0:n.tax)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTaxInclusive",{get:function(){return this.checkoutPrice?this.checkoutPrice.isTaxInclusive:this.previewPrice?this.previewPrice.isTaxInclusive:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTaxesKnown",{get:function(){return!!this.checkoutPrice&&this.paymentProvider===a.Vc.RECURLY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultGrossAmountLocal",{get:function(){return this.checkoutPrice?this.checkoutPrice.total:this.previewPrice?this.previewPrice.price*this.quantity:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grossAmountLocal",{get:function(){var e,t;return(null===(e=this.checkoutPrice)||void 0===e?void 0:e.discount)?this.checkoutPrice.discount.total:(null===(t=this.previewPrice)||void 0===t?void 0:t.discount)?this.previewPrice.discount.price*this.quantity:this.defaultGrossAmountLocal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grossAmountLocalNonWallet",{get:function(){var e=this.grossAmountLocal;if(e){if(!this.walletBalanceLocal||this.activePaymentProvider!==a.Vc.RECURLY.toLowerCase())return e;var t=e-this.walletBalanceLocal;return t<0?0:t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currency",{get:function(){var e,t;return(null===(e=this.checkoutPrice)||void 0===e?void 0:e.currency)||(null===(t=this.previewPrice)||void 0===t?void 0:t.currency)||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"savedPaymentMethod",{get:function(){var e;switch(null===(e=this.savedPaymentInstrumentType)||void 0===e?void 0:e.toUpperCase()){case a.Tc.CREDIT_CARD:return"credit_card";case a.Tc.PAYPAL:return"paypal";case a.Tc.AMAZON:return"amazon_pay";default:return""}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"savedPaymentProvider",{get:function(){return this.savedPaymentMethod?"recurly":""},enumerable:!0,configurable:!0}),e}();n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return i}))},AP5F:function(e,t,n){},AR1T:function(e,t,n){e.exports=n.p+"assets/apple_dark_1x-796e0d031174dc971968.svg"},AREq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("/7QA"),r=n("DMoW"),a=n("4G6/");function o(e){var t=e.login,n=e.code,o=e.enteredDuration,s=e.minTimeoutDuration,c=e.maxTimeoutDuration,l=e.isTimeout;if(void 0===l&&(l=!1),l)switch(n){case r.o.FORBIDDEN:return Object(i.d)("You don't have permissions to timeout {login}.",{login:t},"BanUserErrorCode");case r.o.TARGET_IS_ADMIN:return Object(i.d)("You cannot timeout admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:t},"BanUserErrorCode");case r.o.TARGET_ALREADY_BANNED:return Object(i.d)("{login} is already banned in this channel.",{login:t},"BanUserErrorCode");case r.o.TARGET_IS_ANONYMOUS:return Object(i.d)("You cannot timeout anonymous users.","BanUserErrorCode");case r.o.TARGET_IS_BROADCASTER:return Object(i.d)("You cannot timeout the broadcaster.","BanUserErrorCode");case r.o.TARGET_IS_GLOBAL_MOD:return Object(i.d)("You cannot timeout global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:t},"BanUserErrorCode");case r.o.TARGET_IS_MOD:return Object(i.d)("You cannot timeout moderator {login} unless you are the owner of this channel.",{login:t},"BanUserErrorCode");case r.o.TARGET_IS_SELF:return Object(i.d)("You cannot timeout yourself.","BanUserErrorCode");case r.o.TARGET_IS_STAFF:return Object(i.d)("You cannot timeout staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:t},"BanUserErrorCode");case r.o.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to timeout doesn't exist.","BanUserErrorCode");case r.o.DURATION_INVALID:var u=Object(i.d)("Invalid timeout duration: {userInput}. Usage: /timeout [user] [duration] [reason]",{userInput:o||""},"BanUserErrorCode"),d=Object(i.d)("Timeout duration must be between {minTimeoutDuration} and {maxTimeoutDuration} seconds.",{minTimeoutDuration:s||0,maxTimeoutDuration:c||0},"BanUserErrorCode"),p=Object(i.d)("Invalid timeout duration. Usage: /timeout [user] [duration] [reason]","BanUserErrorCode");if(o){if(void 0!==s&&void 0!==c){var m=Object(a.b)(o);if(!m||Number.isNaN(m))return u;if(m<s||m>c)return d}return u}return p;default:throw new Error("Unrecognized operation result.")}else switch(n){case r.o.FORBIDDEN:return Object(i.d)("You don't have permissions to ban {login}.",{login:t},"BanUserErrorCode");case r.o.TARGET_IS_ADMIN:return Object(i.d)("You cannot ban admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:t},"BanUserErrorCode");case r.o.TARGET_ALREADY_BANNED:return Object(i.d)("{login} is currently banned in this channel.",{login:t},"BanUserErrorCode");case r.o.TARGET_IS_ANONYMOUS:return Object(i.d)("You cannot ban anonymous users.","BanUserErrorCode");case r.o.TARGET_IS_BROADCASTER:return Object(i.d)("You cannot ban the broadcaster.","BanUserErrorCode");case r.o.TARGET_IS_GLOBAL_MOD:return Object(i.d)("You cannot ban global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:t},"BanUserErrorCode");case r.o.TARGET_IS_MOD:return Object(i.d)("You cannot ban moderator {login} unless you are the owner of this channel.",{login:t},"BanUserErrorCode");case r.o.TARGET_IS_SELF:return Object(i.d)("You cannot ban yourself.","BanUserErrorCode");case r.o.TARGET_IS_STAFF:return Object(i.d)("You cannot ban staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:t},"BanUserErrorCode");case r.o.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to ban doesn't exist.","BanUserErrorCode");default:throw new Error("Unrecognized operation result.")}}},Afio:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subCommunityGiftingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionGifting"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"community"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:184}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\nfragment subCommunityGiftingFragment on SubscriptionGifting {\ncommunity {\noffer {\n...subProductOfferFragment\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("Wd+u").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},Av0x:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("/7QA"),r=n("DMoW");function a(e,t,n){if(void 0===n&&(n=!1),n)switch(t){case r.te.FORBIDDEN:return Object(i.d)("You don't have permissions to untimeout {login}.",{login:e},"UnbanUserErrorCode");case r.te.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to untimeout doesn't exist.","UnbanUserErrorCode");case r.te.TARGET_NOT_BANNED:return Object(i.d)("{login} is not currently timed out from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}else switch(t){case r.te.FORBIDDEN:return Object(i.d)("You don't have permissions to unban {login}.",{login:e},"UnbanUserErrorCode");case r.te.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to unban doesn't exist.","UnbanUserErrorCode");case r.te.TARGET_NOT_BANNED:return Object(i.d)("{login} is not currently banned from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}}},Bgni:function(e,t,n){},Bx44:function(e,t,n){},C7ht:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"OneClickPurchaseOfferMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchaseOfferInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchaseOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchaseOrder"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTokenID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:151}};n.loc.source={body:"mutation OneClickPurchaseOfferMutation($input: PurchaseOfferInput!) {\npurchaseOffer(input: $input) {\npurchaseOrder {\nid\nactionTokenID\nstate\n}\nerror\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.OneClickPurchaseOfferMutation=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"OneClickPurchaseOfferMutation")},CD86:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductDescription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};n.loc.source={body:"query ProductDescription($params: PurchasableOfferParams!) {\npurchasableOffer(params: $params) {\nid\ntplr\ntagBindings {\nkey\nvalue\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ProductDescription=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ProductDescription")},CuSU:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("/7QA"),s=n("2DIU"),c=n.n(s),l=n("TSpM"),u=n.n(l),d=n("vE+g"),p=n.n(d),m=n("/Z6v"),f=n.n(m),h=n("WJ6U"),g=n.n(h),b=n("QCvd"),y=n.n(b),v=n("AR1T"),k=n.n(v),S=n("uReR"),C=n.n(S),E=n("SPyc"),O=n.n(E),P=n("bOWA"),N=n.n(P),j=n("KL9a"),D=n.n(j),T=n("iSjI"),w=n.n(T),I=n("bQeB"),x=n.n(I),A=n("HvcU"),M=n.n(A),_=n("GA+j"),F=n.n(_),R=n("FBRg"),B=n.n(R),L=n("2xEe"),U=n.n(L),G=n("q8H6"),q=n.n(G),z=n("TjQE"),H=n.n(z),V=n("oQBz"),W=n.n(V),Y=n("PwAB"),Q=n.n(Y),K=n("/0dD"),J=n("DMoW"),Z=n("XDQu"),X=n("G59e"),$=n("sUnt"),ee=n("7uM4"),te=n("C7sF"),ne=n("uG/k"),ie=(n("HO8p"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){if((this.props.paymentProvider?this.props.paymentProvider.toUpperCase():void 0)===J.Vc.PRIME)return r.createElement(X.b,{color:X.a.Purple,width:100,height:30});if(this.props.paymentInstrumentType===J.Tc.WALLET)return r.createElement($.a,{className:"payment-method-image"},r.createElement(ee.a,{asset:te.a.NavBackpack,width:26,height:26,type:ee.b.Brand}));var e=this.imageSource,t=e.src,n=e.alt,i=e.srcSet;return r.createElement($.a,{className:"payment-method-image"},r.createElement(ne.a,{src:t,alt:n,srcSet:i}))},Object.defineProperty(t.prototype,"imageSource",{get:function(){var e=Object(o.d)("credit card","PaymentMethodImage");switch(this.props.paymentProvider?this.props.paymentProvider.toUpperCase():void 0){case J.Vc.XSOLLA_V3:return{src:W.a,srcSet:{"1x":W.a,"2x":Q.a},alt:Object(o.d)("Xsolla icon","PaymentMethodImage")};case J.Vc.GOOGLE_IAB:return{src:g.a,alt:Object(o.d)("Android icon","PaymentMethodImage")};case J.Vc.APPLE_IAP:return{src:this.props.darkModeEnabled?k.a:y.a,alt:Object(o.d)("Apple icon","PaymentMethodImage")};case J.Vc.SUB_TOKEN:return{src:H.a,alt:Object(o.d)("Subtoken icon","PaymentMethodImage")}}var t=this.props.paymentInstrumentType?this.props.paymentInstrumentType.toUpperCase():void 0,n=this.props.cardType?this.props.cardType.toUpperCase():void 0;switch(t){case J.Tc.CREDIT_CARD:switch(n){case J.Sc.AMERICAN_EXPRESS:return{src:C.a,alt:Object(o.d)("American Express","PaymentMethodImage")};case J.Sc.DISCOVER:return{src:O.a,alt:Object(o.d)("Discover","PaymentMethodImage")};case J.Sc.MASTERCARD:return{src:this.props.darkModeEnabled?D.a:N.a,alt:Object(o.d)("Mastercard","PaymentMethodImage")};case J.Sc.VISA:return{src:w.a,alt:Object(o.d)("Visa","PaymentMethodImage")};default:return{src:x.a,srcSet:{"1x":x.a,"2x":M.a},alt:e}}case J.Tc.AMAZON:return{src:this.props.darkModeEnabled?p.a:c.a,srcSet:this.props.darkModeEnabled?{"1x":p.a,"2x":f.a}:{"1x":c.a,"2x":u.a},alt:Object(o.d)("Amazon Pay","PaymentMethodImage")};case J.Tc.PAYPAL:return{src:this.props.darkModeEnabled?U.a:F.a,srcSet:this.props.darkModeEnabled?{"1x":U.a,"2x":q.a}:{"1x":F.a,"2x":B.a},alt:Object(o.d)("Paypal","PaymentMethodImage")};default:return{src:x.a,srcSet:{"1x":x.a,"2x":M.a},alt:e}}},enumerable:!0,configurable:!0}),t}(r.Component));var re=Object(a.b)((function(e){return{darkModeEnabled:Object(Z.a)(e)===K.a.Dark}}))(ie);n.d(t,"a",(function(){return re}))},D8NC:function(e,t,n){e.exports=n.p+"assets/amazon_pay_1x-94c97f413ee6005ab1a1.png"},DFKC:function(e,t,n){},DQ0a:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SubModal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"",block:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withStandardGifting"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creatorBadgeFlair"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setting"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"founderBadgeAvailability"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFounder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primeSubCreditBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"renewalDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subBenefit"},directives:[]},{kind:"Field",name:{kind:"Name",value:"isExtended"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"streakTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"STREAK"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGiftCountHidden"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1037}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/sub-modal/fragments/sub-benefit.gql"\n#import "twilight/features/subscribe-button/models/subscription-product.gql"\n#import "twilight/pages/subscriptions-management/models/cumulative-tenure-fragment.gql"\nquery SubModal(\n$login: String!\n$giftRecipientLogin: String = ""\n$withStandardGifting: Boolean = false\n) {\nuser(login: $login) {\nid\ndisplayName\nprofileImageURL(width: 50)\nbannerImageURL\nbroadcastBadges {\n...badge\n}\nchannel {\nid\ncreatorBadgeFlair {\nsetting\n}\nfounderBadgeAvailability\n}\nsubscriptionProducts {\n...subscriptionProduct\n}\nself {\ncanPrimeSubscribe\nisFounder\nprimeSubCreditBenefit {\nrenewalDate\n}\nsubscriptionGiftCount\nsubscriptionBenefit {\n...subBenefit\nisExtended\n}\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\n...tenure\n}\nstreakTenure: subscriptionTenure(tenureMethod: STREAK) {\n...tenure\n}\n}\n}\nbadges {\n...badge\n}\nrequestInfo {\ncountryCode\n}\ncurrentUser {\nid\nhasPrime\nsubscriptionSettings {\nisGiftCountHidden\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("IKE4").definitions)),i.definitions=i.definitions.concat(a(n("FaAX").definitions)),i.definitions=i.definitions.concat(a(n("IKRm").definitions)),i.definitions=i.definitions.concat(a(n("HiyX").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.SubModal=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,r=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"SubModal")},DYZf:function(e,t,n){"use strict";var i=n("mrSG"),r=n("NAv5"),a=n("q1tI"),o=n("/7QA"),s=n("Ws8v"),c=n("yymn"),l=n("sUnt"),u=n("+80q"),d=n("CuSU"),p=(n("GDu8"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(s.a,{className:this.isExpired?"payment-method-display--expired":"",display:c.g.Flex,justifyContent:this.props.justifyContent||c.l.Between,flexWrap:c.i.Wrap,fullWidth:!0,"data-a-target":"saved-payment-method"},a.createElement(l.a,{alignItems:c.b.Center,display:c.g.Flex,margin:{right:1}},a.createElement(d.a,{paymentInstrumentType:this.props.paymentType,cardType:this.props.cardType||void 0,paymentProvider:this.props.provider}),this.renderLastFour()),a.createElement(l.a,{display:c.g.Flex,justifyContent:c.l.Center,flexDirection:c.h.Column},this.renderBillingEmail(),this.renderExpirationDate()))},t.prototype.renderLastFour=function(){return this.props.lastFour?a.createElement(l.a,{display:c.g.Flex,margin:{x:2}},a.createElement(u.a,{bold:!0},Object(o.d)("Ending in {lastFour}",{lastFour:this.props.lastFour},"PaymentMethodDisplay"))):null},t.prototype.renderExpirationDate=function(){var e=this.zeroIndexedMonth,t=this.props.expirationYear;if(void 0===e||!t)return null;var n=new Date(t,e),i="";return i=this.isExpired?Object(o.d)("Expired {expirationDate}",{expirationDate:Object(o.c)(n,{month:"2-digit",year:"numeric"})},"PaymentMethodDisplay"):Object(o.d)("Expires {expirationDate}",{expirationDate:Object(o.c)(n,{month:"2-digit",year:"numeric"})},"PaymentMethodDisplay"),a.createElement(l.a,{alignItems:c.b.Center,display:c.g.Flex,justifyContent:c.l.End},a.createElement(u.a,{ellipsis:!0,color:c.f.Alt2,bold:this.isExpired},i))},t.prototype.renderBillingEmail=function(){return this.props.billingEmail?a.createElement(l.a,{alignItems:c.b.Center,display:c.g.Flex,justifyContent:c.l.End},a.createElement(u.a,{ellipsis:!0,color:c.f.Alt2},this.props.billingEmail)):null},Object.defineProperty(t.prototype,"isExpired",{get:function(){var e=this.zeroIndexedMonth,t=this.props.expirationYear;if(void 0===e||!t)return!1;var n=Object(r.startOfMonth)(new Date),i=new Date(t,e,1);return!!Object(r.isBefore)(i,n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zeroIndexedMonth",{get:function(){if(this.props.expirationMonth)return this.props.expirationMonth-1},enumerable:!0,configurable:!0}),t}(a.PureComponent));n.d(t,"a",(function(){return p}))},Dbrn:function(e,t,n){},"Dj+a":function(e,t,n){},DnOo:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("ANjH"),s=n("/7QA"),c=n("SDEh"),l=n("8EUQ"),u=n("GnwI");!function(e){e[e.One=1]="One",e[e.Three=3]="Three",e[e.Six=6]="Six"}(i||(i={}));var d=n("br9A"),p=n("dEDE"),m=n("C7sF"),f=n("vCsY"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.openCheckout(),t.props.handleSubAction({action:t.props.overrideSubEventAction?t.props.overrideSubEventAction:d.a.ClickCheckout,checkoutButtonTier:t.props.tierPrice,chargeInterval:t.props.chargeInterval||i.One,offerID:t.props.offerID,multiMonthOffers:t.props.multiMonthOffers})},t.openCheckout=function(){t.props.isMobileCheckout||s.n.set(l.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.productName)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t,n=this.props.subscriptionBenefit;if(this.props.isSubbedToTier){if((null===(e=null==n?void 0:n.gift)||void 0===e?void 0:e.isGift)||(null==n?void 0:n.purchasedWithPrime)||n&&!n.renewsAt)return a.createElement(p.a,Object(r.__assign)({icon:m.a.Star,onClick:this.handleClick,purchase:this.props.tierPrice},Object(f.a)(this.props)),Object(s.d)("Continue Sub","SubTierButton"));var i=Object(s.d)("Subscribed","SubTierButton");return a.createElement(p.a,{"aria-label":i,"data-test-selector":"subscribe-button__subscribe-tier-button",disabled:!0,icon:m.a.Star},i)}var o=this.props.multiMonthOffers&&this.props.multiMonthOffers.length>1;return t=this.props.customSubscribeNowMessage?this.props.customSubscribeNowMessage:o?Object(s.d)("Subscribe from {price}",{price:this.props.tierPrice},"SubTierButton"):Object(s.d)("Subscribe","SubTierButton"),a.createElement(p.a,Object(r.__assign)({"aria-label":t+" "+this.props.tierPrice,"data-test-selector":"subscribe-button__subscribe-tier-button",icon:this.props.icon,linkTo:this.props.isMobileCheckout?this.props.url:void 0,onClick:this.handleClick,purchase:o?void 0:this.props.tierPrice},Object(f.a)(this.props),{fullWidth:this.props.fullWidth,targetBlank:!!Object(c.c)()||void 0,disabled:!1===this.props.isEligible}),t)},t}(a.Component),g=Object(o.d)(Object(u.withLatencyTracking)("SubTierButton",{autoReportInteractive:!0}))(h);n.d(t,"a",(function(){return g}))},E78O:function(e,t,n){},ER7f:function(e,t,n){"use strict";var i=n("eMuj");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},FBRg:function(e,t,n){e.exports=n.p+"assets/paypal_2x-bddabc156344e695fa56.png"},FFH0:function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("fQWD"),o=n("rYEI"),s=n("66/j"),c=n("sUnt"),l=n("yymn"),u=n("+80q"),d=function(e){var t=e.badge,n=Object(r.d)("{tenure}-Month Subscriber, ({tierInfo} Badge)",{tenure:p(parseInt(t.version,10)),tierInfo:Object(o.a)(parseInt(t.version,10))},"TierBadgeTitle"),d=parseInt(t.version,10);return i.createElement(c.a,{alignItems:l.b.Center,className:e.className,display:l.g.Flex,flexDirection:l.h.Column,flexShrink:0},i.createElement(a.a,{badge:Object(s.b)(t),hideTooltip:!0,large:!0,isLocked:e.isLocked}),i.createElement(c.a,{margin:{top:.5}},i.createElement(u.a,{className:e.className+"--text",fontSize:l.j.Size7},e.isTierBadge?n:d>=12?Object(r.d)("{years}-Year Badge",{years:d/12},"SubBadge"):Object(r.d)("{months}-Month Badge",{months:0===d?1:d},"SubBadge"))))};function p(e){for(;e>=1e3;)0===(e-=1e3)&&e++;return e}n.d(t,"a",(function(){return d}))},FT7T:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("/7QA");function r(e){switch(e){case 1:return Object(i.d)("The transaction was declined. Please use a different card or contact your bank.","TransactionErrorCode");case 2:return Object(i.d)("Your card number is invalid. Please try another card or contact your bank.","TransactionErrorCode");case 3:return Object(i.d)("Your payment cannot be completed at this time. Please try a different card.","TransactionErrorCode");case 4:return Object(i.d)("The security code you entered does not match. Please update the CVV and try again.","TransactionErrorCode");case 5:return Object(i.d)("The transaction was declined due to insufficient funds in your account. Please use a different card or contact your bank.","TransactionErrorCode");default:return Object(i.d)("Your request could not be processed. Please try again later.","TransactionErrorCode")}}},FaAX:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subBenefit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionBenefit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gifter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isDNRd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isExtended"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pendingSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pendingSubscription"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}],loc:{start:0,end:309}};i.loc.source={body:'#import "twilight/features/subscribe-button/components/subscribe-button/pending_subscription.gql"\nfragment subBenefit on SubscriptionBenefit {\nid\nendsAt\nplatform\ngift {\ngifter {\nid\nlogin\ndisplayName\n}\nisGift\n}\nisDNRd\nisExtended\npendingSubscription {\n...pendingSubscription\n}\npurchasedWithPrime\nrenewsAt\ntier\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("QHJn").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},G0EU:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"eligiblePaymentMethodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EligiblePaymentMethod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availabilityStatus"},arguments:[],directives:[]}]}}],loc:{start:0,end:91}};n.loc.source={body:"fragment eligiblePaymentMethodFragment on EligiblePaymentMethod {\nname\navailabilityStatus\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"GA+j":function(e,t,n){e.exports=n.p+"assets/paypal_1x-a2a2f7d96b4384f9f1d7.png"},GDu8:function(e,t,n){},GGWn:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("/7QA");function r(e){switch(e.toUpperCase()){case"AB":return Object(i.d)("Alberta","format-canada-state");case"BC":return Object(i.d)("British Columbia","format-canada-state");case"MB":return Object(i.d)("Manitoba","format-canada-state");case"NB":return Object(i.d)("New Brunswick","format-canada-state");case"NL":return Object(i.d)("Newfoundland and Labrador","format-canada-state");case"NT":return Object(i.d)("Northwest Territories","format-canada-state");case"NS":return Object(i.d)("Nova Scotia","format-canada-state");case"NU":return Object(i.d)("Nunavut","format-canada-state");case"ON":return Object(i.d)("Ontario","format-canada-state");case"PE":return Object(i.d)("Prince Edward Island","format-canada-state");case"QC":return Object(i.d)("Quebec","format-canada-state");case"SK":return Object(i.d)("Saskatchewan","format-canada-state");case"YT":return Object(i.d)("Yukon","format-canada-state");default:return e}}var a=["AB","BC","MB","NB","NL","NT","NS","NU","ON","PE","QC","SK","YT"]},GIun:function(e,t,n){"use strict";var i=n("q1tI"),r=function(e){var t=i.Children.only(e.children);return i.cloneElement(t,{"data-selectable":!0,tabIndex:-1,role:"option"})};n.d(t,"a",(function(){return r}))},GOKC:function(e,t,n){},GOVP:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"giftRecipientUserSubscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gifting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"recipientLogin"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:241}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\nfragment giftRecipientUserSubscriptionProduct on SubscriptionProduct {\nid\ngifting {\nstandard(recipientLogin: $giftRecipientID) {\noffer {\n...subProductOfferFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("Wd+u").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},GsKU:function(e,t,n){"use strict";var i,r=n("pVnL"),a=n.n(r),o=n("q1tI"),s=n("SWse"),c=n("kV5U"),l=n("vCsY"),u=n("7d/q"),d=n("uKd/"),p=n("Ws8v"),m=n("yymn"),f=n("sUnt"),h=n("ap5Y"),g=n("HH5h"),b=n("IbuL"),y=n("C7sF"),v=n("1/wt"),k=(n("n4RV"),(i={})[v.a.Error]=y.a.NotificationError,i[v.a.Info]=y.a.NotificationInfo,i[v.a.Success]=y.a.NotificationSuccess,i[v.a.Warning]=y.a.NotificationWarning,i),S=function(e){return o.createElement(f.a,{display:m.g.Flex,alignItems:m.b.Center,className:"tw-notification-figure tw-notification-figure--"+e.type},e.avatar?o.createElement(g.a,a()({size:30},e.avatar)):o.createElement(b.a,{asset:k[e.type]}))};S.displayName="NotificationFigure",S.displayName="NotificationFigure";var C=n("Jsra"),E=n("+80q"),O=function(e){return o.createElement(f.a,{display:m.g.Flex,flexDirection:e.inline?m.h.Row:m.h.Column,alignItems:e.inline?m.b.Baseline:void 0},o.createElement(f.a,{margin:{right:e.inline?.5:0}},o.createElement(E.a,{fontSize:m.j.Size5,fontWeight:m.k.SemiBold},e.title)),e.description&&o.createElement(f.a,{margin:{bottom:e.inline?void 0:.5,right:e.inline?.5:0}},o.createElement(E.a,{color:m.f.Alt},e.description)),e.link&&o.createElement(f.a,{margin:{bottom:e.inline?void 0:.5}},o.createElement(C.a,e.link)))};O.displayName="NotificationMessage",O.displayName="NotificationMessage";n("maHM");n.d(t,"a",(function(){return P}));var P=function(e){var t={"tw-in-feature-notification__avatar":!0,"tw-in-feature-notification__avatar--adjusted":e.message&&!e.message.inline};return o.createElement(p.a,a()({},Object(l.a)(e),Object(c.a)(e),{className:"tw-in-feature-notification tw-in-feature-notification--"+e.type,borderRadius:m.e.Medium,color:m.f.Base,position:m.n.Relative}),o.createElement(p.a,{borderRadius:m.e.Medium,background:e.background},o.createElement(f.a,{display:m.g.Flex},o.createElement(f.a,{display:m.g.Flex,fullWidth:!0},o.createElement(f.a,{padding:1,className:Object(s.a)(t)},o.createElement(S,{type:e.type,avatar:e.avatar})),o.createElement(f.a,{display:m.g.Flex,alignItems:m.b.Center,fullWidth:!0},e.children,e.message&&o.createElement(f.a,{padding:{y:1,right:1},fullWidth:!0},o.createElement(O,e.message)))),e.closeButton&&o.createElement(f.a,{className:"tw-in-feature-notification__close-button",padding:{x:1,y:.5}},o.createElement(d.a,{"aria-label":e.closeButton["aria-label"],onClick:e.closeButton.onClick,size:u.b.Small,type:u.c.Secondary}))),e.actions&&o.createElement(f.a,{padding:{x:1,bottom:1}},o.createElement(h.a,e.actions))))};P.displayName="InFeatureNotification",P.defaultProps={background:m.d.Base},P.displayName="InFeatureNotification"},Gvf2:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("4rCz"),o=n("OpME"),s=n("br9A"),c=n("sUnt"),l=n("+80q"),u=n("yymn"),d=n("b7S+"),p=n("dEDE"),m=(n("XX8v"),20),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visibleCount:m},t.onShowAllClick=function(){if(t.props.product.emotes){var e=t.props.product.emotes.length;t.setState((function(t){return{visibleCount:t.visibleCount===m?e:m}}),(function(){t.props.handleSubMenuAction({action:s.a.ClickShowMoreEmotes})}))}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.props.product.emotes||0===this.props.product.emotes.length)return null;var e=Object(o.c)(this.props.product.emotes);return r.createElement(c.a,{className:"emote-benefits",margin:{y:1}},r.createElement(l.a,null,Object(a.d)("{emoteCount, plural, one {{emoteCount} Custom Emote} other {{emoteCount} Custom Emotes}}",{emoteCount:this.props.product.emotes.length},"SubEmoteBenfits")),r.createElement(c.a,{display:u.g.Flex,flexWrap:u.i.Wrap,margin:{y:1,x:2}},e.slice(0,this.state.visibleCount).map((function(e){return r.createElement(d.a,{label:e.displayName,direction:d.c.Bottom,key:e.id,display:u.g.Flex},r.createElement(c.a,{margin:{right:1,bottom:1},className:"emote-benefits__emote"},r.createElement("img",{srcSet:e.srcSet,alt:e.displayName})))})),e.length>m&&r.createElement(p.a,{type:p.d.Text,onClick:this.onShowAllClick},this.state.visibleCount===m?Object(a.d)("Show all","SubEmoteBenefits"):Object(a.d)("Show less","SubEmoteBenfits"))))},t}(r.PureComponent);n.d(t,"a",(function(){return f}))},H82h:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("mrSG"),r=n("/7QA"),a=n("2xye"),o=n("IZXT"),s=n("a6LY"),c=n("xf5M"),l=function(e){switch(e){case s.a.DeleteMessage:case s.a.BanUser:case s.a.UnbanUser:case s.a.TimeoutUser:case s.a.UntimeoutUser:case s.a.ModUser:case s.a.UnmodUser:default:return s.d.Login}},u=function(e){var t=e.actionType,n=e.channelID,u=e.targetUserID,d=e.source,p=e.duration,m=e.page;return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e,f,h,g,b,y,v,k,S,C;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:e=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.p.apollo.client.query({query:c,variables:{channelID:n,targetUserID:u}})];case 2:return e=i.sent(),[3,4];case 3:return f=i.sent(),Object(o.d)()?r.k.warn("Moderation action tracking failed query failed."):r.k.errorAndReport(f,"Moderation action tracking failed query failed."),[3,4];case 4:return e&&e.data?(h=e.data,g=h.currentUser,b=h.channel,y=h.target,n===u?v=s.e.Broadcaster:(null===(k=null==g?void 0:g.roles)||void 0===k?void 0:k.isStaff)&&(v=s.e.Staff),(null===(S=null==b?void 0:b.self)||void 0===S?void 0:S.isEditor)?v=s.e.Editor:(null===(C=null==b?void 0:b.self)||void 0===C?void 0:C.isModerator)&&(v=s.e.Mod),r.o.track(a.SpadeEventType.ChatLoginModeration,{action:t,channel:null==b?void 0:b.login,channel_id:null==b?void 0:b.id,target_login:null==y?void 0:y.login,target_user_id:null==y?void 0:y.id,mod_status:v,args:p,page:m,type:l(t),source:d}),[2]):[2]}}))}))}},HO8p:function(e,t,n){},HiyX:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"tenure"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionTenure"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}}],loc:{start:0,end:62}};n.loc.source={body:"fragment tenure on SubscriptionTenure {\ndaysRemaining\nmonths\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"Hl/S":function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("D8NC"),s=n.n(o),c=n("yrda"),l=n.n(c),u=n("csmi"),d=n.n(u),p=n("2ORI"),m=n.n(p),f=n("ZDlU"),h=n("x1M1"),g=n("sUnt"),b=n("yymn"),y=n("+80q"),v=n("Jsra"),k=function(e){return r.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.Between,padding:{x:.5}},r.createElement(y.a,{type:y.e.H5},e.firstName?Object(a.d)("Hi, {name}",{name:e.firstName},"Greeting"):Object(a.d)("Hi!","Greeting")),r.createElement(v.a,{onClick:e.handleWrongGreeting,"data-a-target":"not-you-link"},Object(a.d)("Not you?","Greeting")))},S=n("GnwI"),C=n("XQbB"),E=n("dEDE"),O=(n("oAT0"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scriptError:!1,amazonPayReady:!1,paymentMethodSelected:!1,walletLoaded:!1,amazonProfileName:null,billingAgreementId:null},t.logger=a.p.logger.withCategory("recurly-amazon-pay-processor"),t.amazonPayScriptSelector="recurly-amazon-pay-processor__script",t.amazonPayButtonSelector="amazon-pay__button",t.amazonPayButtonWalletSelector="recurly-amazon-pay-processor__wallet",t.configureAmazonPay=function(){window.onAmazonLoginReady=function(){try{window.amazon.Login.setClientId(t.props.clientID)}catch(e){t.catchAmazonPayRuntimeError(e,"amazon.Login.setClientId runtime error: "+e.message)}},window.onAmazonPaymentsReady=function(){t.setState({amazonPayReady:!0},(function(){t.props.latencyTracking.reportInteractive(),t.props.autoLogin?t.openAmazonPayLoginManually():t.configureAmazonPayButton()}))};var e=document.querySelector("#"+t.amazonPayScriptSelector);e&&document.body.removeChild(e);var n=document.createElement("script");n.type="text/javascript",n.id=t.amazonPayScriptSelector,n.src="https://static-na.payments-amazon.com/OffAmazonPayments/us"+(t.props.isProduction?"":"/sandbox")+"/js/Widgets.js?sellerId="+t.props.sellerID,n.async=!0,document.body.appendChild(n),n.addEventListener("error",t.handleScriptLoadError)},t.openAmazonPayLoginManually=function(){t.handleAmazonPayAuthorization()},t.configureAmazonPayButton=function(){try{window.OffAmazonPayments.Button(t.amazonPayButtonSelector,t.props.sellerID,{type:"PwA",color:"DarkGray",useAmazonAddressBook:!1,agreementType:"BillingAgreement",authorization:t.handleAmazonPayAuthorization,onError:t.handleOffAmazonPaymentsButtonError}),t.state.amazonPayReady&&t.props.onAmazonPayReady&&t.props.onAmazonPayReady()}catch(e){t.catchAmazonPayRuntimeError(e,"OffAmazonPayments.Button runtime error: "+e.message)}},t.handleScriptLoadError=function(e){var n="AmazonPay script failed to load: "+e.message;t.catchAmazonPayRuntimeError(new Error(n),n)},t.handleAmazonPayAuthorization=function(){try{window.amazon.Login.authorize({scope:"profile payments:widget payments:autopay_consent payments:billing_address",popup:!0},(function(e){e&&e.access_token&&window.amazon.Login.retrieveProfile(e.access_token,(function(e){e&&e.profile&&e.profile.Name&&t.setState({amazonProfileName:e.profile.Name})})),t.configureWallet()}))}catch(e){t.catchAmazonPayRuntimeError(e,"amazon.Login.authorize runtime error: "+e.message)}},t.configureWallet=function(){try{new window.OffAmazonPayments.Widgets.Wallet({agreementType:"BillingAgreement",onReady:function(e){t.setState({billingAgreementId:e.getAmazonBillingAgreementId()})},sellerId:t.props.sellerID,design:{designMode:"responsive"},onPaymentSelect:function(){return t.setState({paymentMethodSelected:!0})},onError:t.handleOffAmazonPaymentsWidgetsWalletError}).bind(t.amazonPayButtonWalletSelector),t.setState({walletLoaded:!0})}catch(e){t.catchAmazonPayRuntimeError(e,"OffAmazonPayments.Widgets.Wallet runtime error: "+e.message)}},t.handleOffAmazonPaymentsButtonError=function(e){t.onErrorAmazonPayHandler("OffAmazonPayments.Button",e)},t.handleOffAmazonPaymentsWidgetsWalletError=function(e){t.onErrorAmazonPayHandler("OffAmazonPayments.Widgets.Wallet",e)},t.onErrorAmazonPayHandler=function(e,n){var i="source: "+e+", errorCode: "+n.getErrorCode()+", errorMessage: "+n.getErrorMessage();t.logger.errorAndReport(new Error("AmazonPay onError callback"),i),t.props.handleAmazonPayScriptError&&t.props.handleAmazonPayScriptError(i),"BuyerSessionExpired"===n.getErrorCode()&&t.logoutAmazonPaySession()},t.handleClick=function(){t.state.billingAgreementId&&t.props.handleBillingAgreementID(t.state.billingAgreementId)},t.handleNotYouClick=function(){t.logoutAmazonPaySession()},t.logoutAmazonPaySession=function(){try{window.amazon.Login.logout()}catch(e){}t.setState({amazonProfileName:null,billingAgreementId:null,paymentMethodSelected:!1,walletLoaded:!1})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.configureAmazonPay()},t.prototype.componentWillUnmount=function(){var e=document.getElementById(this.amazonPayScriptSelector);e&&e.removeEventListener("error",this.handleScriptLoadError)},t.prototype.render=function(){return this.state.scriptError?r.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.Center},r.createElement(f.PageError,null)):this.state.amazonPayReady?r.createElement(g.a,{fullWidth:!0},r.createElement(g.a,{display:this.state.walletLoaded?b.g.Hide:b.g.Block},!this.props.autoLogin&&r.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.Center},r.createElement("div",{id:this.amazonPayButtonSelector})),this.props.autoLogin&&r.createElement(r.Fragment,null,r.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.Center,margin:{bottom:1}},r.createElement(h.a,{sources:{themed:!0,dark:{"1x":d.a,"2x":m.a},light:{"1x":s.a,"2x":l.a}}})),r.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.Center,margin:{bottom:2}},r.createElement(y.a,null,Object(a.d)("Please confirm your Amazon Pay details in the pop-up window","RecurlyAmazonPayProcessor"))),r.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.Center},r.createElement(E.a,{onClick:this.openAmazonPayLoginManually},Object(a.d)("Open Amazon Pay","RecurlyAmazonPayProcessor"))))),r.createElement(g.a,{display:this.state.walletLoaded?b.g.Block:b.g.Hide},r.createElement(k,{firstName:this.state.amazonProfileName,handleWrongGreeting:this.handleNotYouClick}),r.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.Center,padding:{top:1}},r.createElement("div",{id:this.amazonPayButtonWalletSelector,className:this.amazonPayButtonWalletSelector})),r.createElement(g.a,{padding:{top:1},display:b.g.Flex,justifyContent:b.l.Center},r.createElement(E.a,{onClick:this.handleClick,state:this.props.forceLoadingState?E.c.Loading:E.c.Default,disabled:this.buttonDisabled,"data-a-target":"amazon-pay-complete-purchase-button"},this.props.callToActionButtonLabel)))):r.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.Center},r.createElement(C.a,null))},t.prototype.catchAmazonPayRuntimeError=function(e,t){this.logger.errorAndReport(e,t),this.setState({scriptError:!0,amazonPayReady:!1}),this.props.latencyTracking.reportInteractive(),this.props.handleAmazonPayScriptError&&this.props.handleAmazonPayScriptError(t)},Object.defineProperty(t.prototype,"buttonDisabled",{get:function(){return!(this.state.paymentMethodSelected&&this.state.billingAgreementId&&!this.props.forceLoadingState)},enumerable:!0,configurable:!0}),t}(r.Component)),P=Object(S.withLatencyTracking)("RecurlyAmazonPayProcessor")(O);n.d(t,"a",(function(){return P}))},HoV5:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OneClickCheckout"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"quantity"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paymentSession"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentSession"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walletType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WalletType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paymentMethods"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"paymentMethodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"balances"},arguments:[{kind:"Argument",name:{kind:"Name",value:"walletType"},value:{kind:"Variable",name:{kind:"Name",value:"walletType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"residence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userResidenceFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchaseType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"recurlyCheckoutPrice"},name:{kind:"Name",value:"checkoutPrice"},arguments:[{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"paymentProvider"},value:{kind:"EnumValue",value:"RECURLY"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkoutPriceSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkoutActions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"paymentSession"},value:{kind:"Variable",name:{kind:"Name",value:"paymentSession"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligiblePaymentMethods"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"eligiblePaymentMethodFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1293}};i.loc.source={body:'#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/payment-method-fragment.gql"\n#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/user-residence-fragment.gql"\n#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/eligible-payment-method-fragment.gql"\nquery OneClickCheckout(\n$params: PurchasableOfferParams!\n$quantity: Int!\n$paymentSession: PaymentSession!\n$walletType: WalletType!\n) {\ncurrentUser {\nid\npaymentMethods {\n...paymentMethodFragment\n}\nbalances(walletType: $walletType) {\namount\ncurrency\nexponent\n}\nresidence {\n...userResidenceFragment\n}\n}\npurchasableOffer(params: $params) {\nid\ntplr\ntagBindings {\nkey\nvalue\n}\neligibility {\nisEligible\npurchaseType\n}\npromotion {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\n}\nlisting {\nchargeModel {\ninternal {\nself {\nrecurlyCheckoutPrice: checkoutPrice(\nquantity: $quantity\npaymentProvider: RECURLY\n) {\nerrorCode\ncheckoutPriceSummary {\ncurrency\nexponent\nid\nisTaxInclusive\nprice\ntax\ntotal\ndiscount {\ntax\ntotal\n}\n}\n}\n}\n}\n}\n}\nself {\ncheckoutActions(quantity: $quantity paymentSession: $paymentSession)\neligiblePaymentMethods {\n...eligiblePaymentMethodFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("hRLk").definitions)),i.definitions=i.definitions.concat(a(n("z8ZU").definitions)),i.definitions=i.definitions.concat(a(n("G0EU").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.OneClickCheckout=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,r=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"OneClickCheckout")},HvcU:function(e,t,n){e.exports=n.p+"assets/generic_credit_card_2x-9e855c7d5c5359ac9208.png"},HzXE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomBanStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRoomBanStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}},{kind:"Argument",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:299}};n.loc.source={body:"query ChatRoomBanStatus($targetUserID: ID! $channelID: ID!) {\nchatRoomBanStatus(channelID: $channelID userID: $targetUserID) {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\ntargetUser: user (id: $targetUserID lookupType: ALL) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatRoomBanStatus=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ChatRoomBanStatus")},IKE4:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"badge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Badge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image1x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"NORMAL"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image2x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image4x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickURL"},arguments:[],directives:[]}]}}],loc:{start:0,end:170}};n.loc.source={body:"fragment badge on Badge {\nid\nsetID\nversion\ntitle\nimage1x: imageURL(size: NORMAL)\nimage2x: imageURL(size: DOUBLE)\nimage4x: imageURL(size: QUADRUPLE)\nclickAction\nclickURL\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},IKRm:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPriceInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmote"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canGiftInChannel"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gifting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subStandardGiftingFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"subCommunityGiftingFragment"},directives:[]}]}}]}}],loc:{start:0,end:891}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/sub-modal/fragments/sub-standard-gifting.gql"\n#import "twilight/features/sub-modal/fragments/sub-community-gifting.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote-modifier.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-price-info.gql"\nfragment subscriptionProduct on SubscriptionProduct {\nid\nprice\npriceInfo {\n...subscriptionProductPriceInfo\n}\nurl\nemoteSetID\ndisplayName\nname\ntier\ntype\nhasAdFree\nemotes {\n...subscriptionProductEmote\n}\nemoteModifiers {\n...subscriptionProductEmoteModifier\n}\ninterval {\nunit\n}\nself {\ncanGiftInChannel\n}\noffers {\n...subProductOfferFragment\n}\ngifting {\n...subStandardGiftingFragment\n...subCommunityGiftingFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("Wd+u").definitions)),i.definitions=i.definitions.concat(a(n("JV5c").definitions)),i.definitions=i.definitions.concat(a(n("Afio").definitions)),i.definitions=i.definitions.concat(a(n("dq0Q").definitions)),i.definitions=i.definitions.concat(a(n("8/YZ").definitions)),i.definitions=i.definitions.concat(a(n("35qb").definitions)),e.exports=i},IQPs:function(e,t,n){},IVzh:function(e,t,n){},JDoF:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("wOiE"),c=n("GnwI"),l=n("PL8s"),u=n("sUnt"),d=n("yymn"),p=n("1AzW"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={xsollaLoaded:!1},t.xsollaEnabled=Object(s.e)(),t.messageOriginWhitelist=["https://secure.xsolla.com","https://sandbox-secure.xsolla.com"],t.firstInteractFired=!1,t.onIframeLoad=function(){t.props.latencyTracking.reportInteractive(),t.props.onLoad&&t.props.onLoad(),t.setState({xsollaLoaded:!0})},t.handleXsollaEvent=function(e){var n,i,r;if((!e.origin||t.messageOriginWhitelist.includes(e.origin))&&e.data)try{var a=JSON.parse(e.data),o=a.data,s=a.command;if(t.props.onFirstInteraction&&!t.firstInteractFired&&((null===(n=null==o?void 0:o.action)||void 0===n?void 0:n.includes("click-"))||"open-payment"===(null==o?void 0:o.action))&&(t.firstInteractFired=!0,t.props.onFirstInteraction()),"open-payment"===(null==o?void 0:o.action)&&t.props.onCompletePurchaseShown&&t.props.onCompletePurchaseShown(),"status"===s&&(null==o?void 0:o.paymentInfo))switch(null===(i=null==o?void 0:o.paymentInfo)||void 0===i?void 0:i.status){case"troubled":t.props.onFail&&t.props.onFail();break;case"done":t.props.onSuccess&&t.props.onSuccess(null===(r=null==o?void 0:o.paymentInfo)||void 0===r?void 0:r.invoice)}}catch(e){}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){window.addEventListener("message",this.handleXsollaEvent)},t.prototype.componentDidUpdate=function(e){e.xsollaToken!==this.props.xsollaToken&&this.setState({xsollaLoaded:!1}),this.state.xsollaLoaded&&this.props.latencyTracking.reportInteractive()},t.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.handleXsollaEvent)},t.prototype.render=function(){if(!this.xsollaEnabled)return r.createElement(p.a,null);var e=this.state.xsollaLoaded&&!this.props.refreshingIframe;return r.createElement(r.Fragment,null,!e&&r.createElement(l.a,{lineCount:(this.props.height||650)/20}),r.createElement(u.a,{fullWidth:!0,display:e?d.g.Inline:d.g.Hide},r.createElement("iframe",{title:Object(o.d)("Xsolla Paystation","XsollaIframe"),onLoad:this.onIframeLoad,id:"xsolla",src:this.xsollaIframeURL,width:"100%",height:(this.props.height||650)+"px"})))},Object.defineProperty(t.prototype,"xsollaIframeURL",{get:function(){return this.props.xsollaToken?this.props.isSandbox?"https://sandbox-secure.xsolla.com/paystation2?access_token="+this.props.xsollaToken:"https://secure.xsolla.com/paystation2?access_token="+this.props.xsollaToken:""},enumerable:!0,configurable:!0}),t}(r.Component),f=Object(a.d)(Object(c.withLatencyTracking)("XsollaIframe"))(m);n.d(t,"a",(function(){return f}))},JHQz:function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("fQWD"),o=n("66/j"),s=n("sUnt"),c=n("yymn"),l=n("Z2sP"),u=n("X2PJ"),d=n("+80q"),p=n("FFH0"),m=(n("Wkcw"),3),f=function(e){var t=e.cumulativeTenure,n=e.expired,f=e.sortedSubBadges;if(0===f.length)return null;var g=f.findIndex((function(e){return parseInt(e.version,10)>t.months})),b=f[-1===g?f.length-1:g-1],y=f[g];if(!b)return null;var v=m;return y&&(v+=h(t,b.version,y.version)||0),y?i.createElement(s.a,{className:"sub-badge-progress",display:c.g.Flex,justifyContent:c.l.Center},i.createElement(p.a,{badge:b,className:"sub-badge-progress__current-badge"}),i.createElement(s.a,{className:"sub-badge-progress__progress-bar"+(n?"--expired":""),flexGrow:1,margin:{x:.5},padding:{top:2}},i.createElement(l.a,{borderRadius:c.e.Large,mask:!0,size:l.c.Small,value:v})),i.createElement(p.a,{badge:y,className:"sub-badge-progress__next-badge"})):i.createElement(i.Fragment,null,i.createElement(s.a,{className:"sub-badge-progress",display:c.g.Flex,flexWrap:c.i.Wrap,justifyContent:c.l.Center,padding:{x:2}},f.map((function(e){return i.createElement(s.a,{key:"sub-badge-progress-"+e.id,flexShrink:0,margin:.5},i.createElement(a.a,{badge:Object(o.b)(e),large:!0}))}))),i.createElement(u.a,{textAlign:c.p.Center},i.createElement(d.a,{className:"sub-badge-progress__all-badges--text",fontSize:c.j.Size7},Object(r.d)("Congrats! You've unlocked all Sub Badges.","SubBadgeProgress"))))};function h(e,t,n){var i=e.daysRemaining,r=e.months,a=(new Date).getTime(),o=new Date(a+24*i*60*60*1e3);o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0);var s=new Date(o.getTime());s.setMonth(o.getMonth()-1);var c=o.getTime(),l=s.getTime(),u=c-l,d=a-l;if(0===u)return null;var p=parseInt(t,10),f=0===p?1:p,h=parseInt(n,10)-f;if(h<=0)return null;var g=(r-f+d/u)/h;return Math.min(Math.max(g,0),1)*(100-m)}n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}))},JMwM:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("ANjH"),s=n("/7QA"),c=n("yR8l"),l=n("1/iK"),u=n("kRBY"),d=n("8EUQ"),p=n("GnwI"),m=n("PZ6D"),f=n("dEDE"),h=n("k91D"),g=n("8hIN"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){var e,n,i;if(!t.props.userLoggedIn)return t.props.showLoginModal();var r=null===(i=null===(n=null===(e=t.props.subProductData)||void 0===e?void 0:e.user)||void 0===n?void 0:n.subscriptionProducts)||void 0===i?void 0:i.find((function(e){return(null==e?void 0:e.id)===t.props.subProductId}));return t.props.onClick&&t.props.onClick(Object(m.k)(r))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t,n,i,a,o=!!(null===(n=null===(t=null===(e=this.props.eligibilityData)||void 0===e?void 0:e.user)||void 0===t?void 0:t.self)||void 0===n?void 0:n.canGift);return this.props.checkoutURL?(i=Object(s.d)("Gift a Subscription","GiftSubscribeButton"),a="checkout-gift-subscribe-button"):(i=Object(s.d)("Gift a Sub","GiftSubscribeButton"),a="gift-subscribe-button"),r.createElement(f.a,{targetBlank:!0,disabled:!o&&this.props.userLoggedIn,onClick:this.handleClick,"data-test-selector":a,purchase:this.props.purchase},this.props.buttonMessage||i)},t}(r.Component);var y=Object(o.d)(Object(a.b)((function(e){return{userLoggedIn:Object(u.f)(e)}}),(function(e){return Object(o.b)({showLoginModal:d.a.showLoginModalWithCheckoutDispatch(l.a.ChannelSubscriptionButton)},e)})),Object(p.withLatencyTracking)("GiftSubscribeButton",{autoReportInteractive:!0}),Object(c.a)(h,{name:"eligibilityData",options:function(e){return{variables:{recipientLogin:e.giftRecipient,subProductId:e.subProductId}}},skip:function(e){return!e.giftRecipient||!e.subProductId}}),Object(c.a)(g,{name:"subProductData",options:function(e){return{skip:!e.channelId||!e.giftRecipient,variables:{channelOwnerID:e.channelId||"",giftRecipientID:e.giftRecipient||""}}}}))(b);n.d(t,"a",(function(){return y}))},JRpg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PrimeSubscribe_UserPrimeData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primeSubCreditBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"willRenew"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewalDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paidUpgrade"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gifter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:362}};n.loc.source={body:"query PrimeSubscribe_UserPrimeData($login: String!) {\nuser(login: $login) {\nid\nself {\ncanPrimeSubscribe\nprimeSubCreditBenefit {\nwillRenew\nrenewalDate\n}\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nplatform\nrenewsAt\nendsAt\npaidUpgrade {\nprice\nstartsAt\n}\ngift {\nisGift\ngifter {\nid\ndisplayName\n}\n}\n}\n}\n}\ncurrentUser {\nid\nhasPrime\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PrimeSubscribe_UserPrimeData=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"PrimeSubscribe_UserPrimeData")},JV5c:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subStandardGiftingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionGifting"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"recipientLogin"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientLogin"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withStandardGifting"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:253}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\nfragment subStandardGiftingFragment on SubscriptionGifting {\nstandard(recipientLogin: $giftRecipientLogin) @include(if: $withStandardGifting){\noffer {\n...subProductOfferFragment\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("Wd+u").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},Jgup:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("/7QA");function r(e){switch(e.toUpperCase()){case"A1":return Object(i.d)("Anonymous Proxy","format-country");case"A2":return Object(i.d)("Satellite Provider","format-country");case"AD":return Object(i.d)("Andorra","format-country");case"AE":return Object(i.d)("United Arab Emirates","format-country");case"AF":return Object(i.d)("Afghanistan","format-country");case"AG":return Object(i.d)("Antigua and Barbuda","format-country");case"AI":return Object(i.d)("Anguilla","format-country");case"AL":return Object(i.d)("Albania","format-country");case"AM":return Object(i.d)("Armenia","format-country");case"AO":return Object(i.d)("Angola","format-country");case"AP":return Object(i.d)("Asia/Pacific Region","format-country");case"AQ":return Object(i.d)("Antarctica","format-country");case"AR":return Object(i.d)("Argentina","format-country");case"AS":return Object(i.d)("American Samoa","format-country");case"AT":return Object(i.d)("Austria","format-country");case"AU":return Object(i.d)("Australia","format-country");case"AW":return Object(i.d)("Aruba","format-country");case"AX":return Object(i.d)("Aland Islands","format-country");case"AZ":return Object(i.d)("Azerbaijan","format-country");case"BA":return Object(i.d)("Bosnia and Herzegovina","format-country");case"BB":return Object(i.d)("Barbados","format-country");case"BD":return Object(i.d)("Bangladesh","format-country");case"BE":return Object(i.d)("Belgium","format-country");case"BF":return Object(i.d)("Burkina Faso","format-country");case"BG":return Object(i.d)("Bulgaria","format-country");case"BH":return Object(i.d)("Bahrain","format-country");case"BI":return Object(i.d)("Burundi","format-country");case"BJ":return Object(i.d)("Benin","format-country");case"BL":return Object(i.d)("Saint Bartelemey","format-country");case"BM":return Object(i.d)("Bermuda","format-country");case"BN":return Object(i.d)("Brunei","format-country");case"BO":return Object(i.d)("Bolivia","format-country");case"BQ":return Object(i.d)("Bonaire, Saint Eustatius, and Saba","format-country");case"BR":return Object(i.d)("Brazil","format-country");case"BS":return Object(i.d)("Bahamas","format-country");case"BT":return Object(i.d)("Bhutan","format-country");case"BV":return Object(i.d)("Bouvet Island","format-country");case"BW":return Object(i.d)("Botswana","format-country");case"BY":return Object(i.d)("Belarus","format-country");case"BZ":return Object(i.d)("Belize","format-country");case"CA":return Object(i.d)("Canada","format-country");case"CC":return Object(i.d)("Cocos (Keeling) Islands","format-country");case"CD":return Object(i.d)("Congo, The Democratic Republic of the","format-country");case"CF":return Object(i.d)("Central African Republic","format-country");case"CG":return Object(i.d)("Congo","format-country");case"CH":return Object(i.d)("Switzerland","format-country");case"CI":return Object(i.d)("Ivory Coast","format-country");case"CK":return Object(i.d)("Cook Islands","format-country");case"CL":return Object(i.d)("Chile","format-country");case"CM":return Object(i.d)("Cameroon","format-country");case"CN":return Object(i.d)("China","format-country");case"CO":return Object(i.d)("Colombia","format-country");case"CR":return Object(i.d)("Costa Rica","format-country");case"CU":return Object(i.d)("Cuba","format-country");case"CV":return Object(i.d)("Cape Verde","format-country");case"CW":return Object(i.d)("Curacao","format-country");case"CX":return Object(i.d)("Christmas Island","format-country");case"CY":return Object(i.d)("Cyprus","format-country");case"CZ":return Object(i.d)("Czech Republic","format-country");case"DE":return Object(i.d)("Germany","format-country");case"DJ":return Object(i.d)("Djibouti","format-country");case"DK":return Object(i.d)("Denmark","format-country");case"DM":return Object(i.d)("Dominica","format-country");case"DO":return Object(i.d)("Dominican Republic","format-country");case"DZ":return Object(i.d)("Algeria","format-country");case"EC":return Object(i.d)("Ecuador","format-country");case"EE":return Object(i.d)("Estonia","format-country");case"EG":return Object(i.d)("Egypt","format-country");case"EH":return Object(i.d)("Western Sahara","format-country");case"ER":return Object(i.d)("Eritrea","format-country");case"ES":return Object(i.d)("Spain","format-country");case"ET":return Object(i.d)("Ethiopia","format-country");case"EU":return Object(i.d)("Europe","format-country");case"FI":return Object(i.d)("Finland","format-country");case"FJ":return Object(i.d)("Fiji","format-country");case"FK":return Object(i.d)("Falkland Islands (Malvinas)","format-country");case"FM":return Object(i.d)("Micronesia","format-country");case"FO":return Object(i.d)("Faroe Islands","format-country");case"FR":return Object(i.d)("France","format-country");case"GA":return Object(i.d)("Gabon","format-country");case"GB":return Object(i.d)("United Kingdom","format-country");case"GD":return Object(i.d)("Grenada","format-country");case"GE":return Object(i.d)("Georgia","format-country");case"GF":return Object(i.d)("French Guiana","format-country");case"GG":return Object(i.d)("Guernsey","format-country");case"GH":return Object(i.d)("Ghana","format-country");case"GI":return Object(i.d)("Gibraltar","format-country");case"GL":return Object(i.d)("Greenland","format-country");case"GM":return Object(i.d)("Gambia","format-country");case"GN":return Object(i.d)("Guinea","format-country");case"GP":return Object(i.d)("Guadeloupe","format-country");case"GQ":return Object(i.d)("Equatorial Guinea","format-country");case"GR":return Object(i.d)("Greece","format-country");case"GS":return Object(i.d)("South Georgia and the South Sandwich Islands","format-country");case"GT":return Object(i.d)("Guatemala","format-country");case"GU":return Object(i.d)("Guam","format-country");case"GW":return Object(i.d)("Guinea-Bissau","format-country");case"GY":return Object(i.d)("Guyana","format-country");case"HK":return Object(i.d)("Hong Kong","format-country");case"HM":return Object(i.d)("Heard Island and McDonald Islands","format-country");case"HN":return Object(i.d)("Honduras","format-country");case"HR":return Object(i.d)("Croatia","format-country");case"HT":return Object(i.d)("Haiti","format-country");case"HU":return Object(i.d)("Hungary","format-country");case"ID":return Object(i.d)("Indonesia","format-country");case"IE":return Object(i.d)("Ireland","format-country");case"IL":return Object(i.d)("Israel","format-country");case"IM":return Object(i.d)("Isle of Man","format-country");case"IN":return Object(i.d)("India","format-country");case"IO":return Object(i.d)("British Indian Ocean Territory","format-country");case"IQ":return Object(i.d)("Iraq","format-country");case"IR":return Object(i.d)("Iran","format-country");case"IS":return Object(i.d)("Iceland","format-country");case"IT":return Object(i.d)("Italy","format-country");case"JE":return Object(i.d)("Jersey","format-country");case"JM":return Object(i.d)("Jamaica","format-country");case"JO":return Object(i.d)("Jordan","format-country");case"JP":return Object(i.d)("Japan","format-country");case"KE":return Object(i.d)("Kenya","format-country");case"KG":return Object(i.d)("Kyrgyzstan","format-country");case"KH":return Object(i.d)("Cambodia","format-country");case"KI":return Object(i.d)("Kiribati","format-country");case"KM":return Object(i.d)("Comoros","format-country");case"KN":return Object(i.d)("Saint Kitts and Nevis","format-country");case"KP":return Object(i.d)("North Korea","format-country");case"KR":return Object(i.d)("South Korea","format-country");case"KW":return Object(i.d)("Kuwait","format-country");case"KY":return Object(i.d)("Cayman Islands","format-country");case"KZ":return Object(i.d)("Kazakhstan","format-country");case"LA":return Object(i.d)("Laos","format-country");case"LB":return Object(i.d)("Lebanon","format-country");case"LC":return Object(i.d)("Saint Lucia","format-country");case"LI":return Object(i.d)("Liechtenstein","format-country");case"LK":return Object(i.d)("Sri Lanka","format-country");case"LR":return Object(i.d)("Liberia","format-country");case"LS":return Object(i.d)("Lesotho","format-country");case"LT":return Object(i.d)("Lithuania","format-country");case"LU":return Object(i.d)("Luxembourg","format-country");case"LV":return Object(i.d)("Latvia","format-country");case"LY":return Object(i.d)("Libya","format-country");case"MA":return Object(i.d)("Morocco","format-country");case"MC":return Object(i.d)("Monaco","format-country");case"MD":return Object(i.d)("Moldova","format-country");case"ME":return Object(i.d)("Montenegro","format-country");case"MF":return Object(i.d)("Saint Martin","format-country");case"MG":return Object(i.d)("Madagascar","format-country");case"MH":return Object(i.d)("Marshall Islands","format-country");case"MK":return Object(i.d)("Macedonia","format-country");case"ML":return Object(i.d)("Mali","format-country");case"MM":return Object(i.d)("Myanmar","format-country");case"MN":return Object(i.d)("Mongolia","format-country");case"MO":return Object(i.d)("Macao","format-country");case"MP":return Object(i.d)("Northern Mariana Islands","format-country");case"MQ":return Object(i.d)("Martinique","format-country");case"MR":return Object(i.d)("Mauritania","format-country");case"MS":return Object(i.d)("Montserrat","format-country");case"MT":return Object(i.d)("Malta","format-country");case"MU":return Object(i.d)("Mauritius","format-country");case"MV":return Object(i.d)("Maldives","format-country");case"MW":return Object(i.d)("Malawi","format-country");case"MX":return Object(i.d)("Mexico","format-country");case"MY":return Object(i.d)("Malaysia","format-country");case"MZ":return Object(i.d)("Mozambique","format-country");case"NA":return Object(i.d)("Namibia","format-country");case"NC":return Object(i.d)("New Caledonia","format-country");case"NE":return Object(i.d)("Niger","format-country");case"NF":return Object(i.d)("Norfolk Island","format-country");case"NG":return Object(i.d)("Nigeria","format-country");case"NI":return Object(i.d)("Nicaragua","format-country");case"NL":return Object(i.d)("Netherlands","format-country");case"NO":return Object(i.d)("Norway","format-country");case"NP":return Object(i.d)("Nepal","format-country");case"NR":return Object(i.d)("Nauru","format-country");case"NU":return Object(i.d)("Niue","format-country");case"NZ":return Object(i.d)("New Zealand","format-country");case"O1":return Object(i.d)("Other Country","format-country");case"OM":return Object(i.d)("Oman","format-country");case"PA":return Object(i.d)("Panama","format-country");case"PE":return Object(i.d)("Peru","format-country");case"PF":return Object(i.d)("French Polynesia","format-country");case"PG":return Object(i.d)("Papua New Guinea","format-country");case"PH":return Object(i.d)("Philippines","format-country");case"PK":return Object(i.d)("Pakistan","format-country");case"PL":return Object(i.d)("Poland","format-country");case"PM":return Object(i.d)("Saint Pierre and Miquelon","format-country");case"PN":return Object(i.d)("Pitcairn","format-country");case"PR":return Object(i.d)("Puerto Rico","format-country");case"PS":return Object(i.d)("Palestine","format-country");case"PT":return Object(i.d)("Portugal","format-country");case"PW":return Object(i.d)("Palau","format-country");case"PY":return Object(i.d)("Paraguay","format-country");case"QA":return Object(i.d)("Qatar","format-country");case"RE":return Object(i.d)("Reunion","format-country");case"RO":return Object(i.d)("Romania","format-country");case"RS":return Object(i.d)("Serbia","format-country");case"RU":return Object(i.d)("Russia","format-country");case"RW":return Object(i.d)("Rwanda","format-country");case"SA":return Object(i.d)("Saudi Arabia","format-country");case"SB":return Object(i.d)("Solomon Islands","format-country");case"SC":return Object(i.d)("Seychelles","format-country");case"SD":return Object(i.d)("Sudan","format-country");case"SE":return Object(i.d)("Sweden","format-country");case"SG":return Object(i.d)("Singapore","format-country");case"SH":return Object(i.d)("Saint Helena","format-country");case"SI":return Object(i.d)("Slovenia","format-country");case"SJ":return Object(i.d)("Svalbard and Jan Mayen","format-country");case"SK":return Object(i.d)("Slovakia","format-country");case"SL":return Object(i.d)("Sierra Leone","format-country");case"SM":return Object(i.d)("San Marino","format-country");case"SN":return Object(i.d)("Senegal","format-country");case"SO":return Object(i.d)("Somalia","format-country");case"SR":return Object(i.d)("Suriname","format-country");case"SS":return Object(i.d)("South Sudan","format-country");case"ST":return Object(i.d)("Sao Tome and Principe","format-country");case"SV":return Object(i.d)("El Salvador","format-country");case"SX":return Object(i.d)("Sint Maarten","format-country");case"SY":return Object(i.d)("Syria","format-country");case"SZ":return Object(i.d)("Swaziland","format-country");case"TC":return Object(i.d)("Turks and Caicos Islands","format-country");case"TD":return Object(i.d)("Chad","format-country");case"TF":return Object(i.d)("French Southern Territories","format-country");case"TG":return Object(i.d)("Togo","format-country");case"TH":return Object(i.d)("Thailand","format-country");case"TJ":return Object(i.d)("Tajikistan","format-country");case"TK":return Object(i.d)("Tokelau","format-country");case"TL":return Object(i.d)("East Timor","format-country");case"TM":return Object(i.d)("Turkmenistan","format-country");case"TN":return Object(i.d)("Tunisia","format-country");case"TO":return Object(i.d)("Tonga","format-country");case"TR":return Object(i.d)("Turkey","format-country");case"TT":return Object(i.d)("Trinidad and Tobago","format-country");case"TV":return Object(i.d)("Tuvalu","format-country");case"TW":return Object(i.d)("Taiwan","format-country");case"TZ":return Object(i.d)("Tanzania","format-country");case"UA":return Object(i.d)("Ukraine","format-country");case"UG":return Object(i.d)("Uganda","format-country");case"UM":return Object(i.d)("United States Minor Outlying Islands","format-country");case"US":return Object(i.d)("United States","format-country");case"UY":return Object(i.d)("Uruguay","format-country");case"UZ":return Object(i.d)("Uzbekistan","format-country");case"VA":return Object(i.d)("Vatican City","format-country");case"VC":return Object(i.d)("Saint Vincent and the Grenadines","format-country");case"VE":return Object(i.d)("Venezuela","format-country");case"VG":return Object(i.d)("British Virgin Islands","format-country");case"VI":return Object(i.d)("U.S. Virgin Islands","format-country");case"VN":return Object(i.d)("Vietnam","format-country");case"VU":return Object(i.d)("Vanuatu","format-country");case"WF":return Object(i.d)("Wallis and Futuna","format-country");case"WS":return Object(i.d)("Samoa","format-country");case"YE":return Object(i.d)("Yemen","format-country");case"YT":return Object(i.d)("Mayotte","format-country");case"ZA":return Object(i.d)("South Africa","format-country");case"ZM":return Object(i.d)("Zambia","format-country");case"ZW":return Object(i.d)("Zimbabwe","format-country");default:return e}}var a=["US","CA","AF","AX","AL","DZ","AS","AD","AO","AI","A1","AQ","AG","AR","AM","AW","AP","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BQ","BA","BW","BV","BR","IO","VG","BN","BG","BF","BI","KH","CM","CV","KY","CF","TD","CL","CN","CX","CC","CO","KM","CG","CD","CK","CR","HR","CU","CW","CY","CZ","DK","DJ","DM","DO","TL","EC","EG","SV","GQ","ER","EE","ET","EU","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","CI","JM","JP","JE","JO","KZ","KE","KI","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MK","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","NF","KP","MP","NO","OM","O1","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RO","RU","RW","BL","SH","KN","LC","MF","PM","VC","WS","SM","ST","A2","SA","SN","RS","SC","SL","SG","SX","SK","SI","SB","SO","ZA","GS","KR","SS","ES","LK","SD","SR","SJ","SZ","SE","CH","SY","TW","TJ","TZ","TH","TG","TK","TO","TT","TN","TR","TM","TC","TV","VI","UG","UA","AE","GB","UM","UY","UZ","VU","VA","VE","VN","WF","EH","YE","ZM","ZW"]},Jhy1:function(e,t,n){},KL9a:function(e,t,n){e.exports=n.p+"assets/mastercard_dark-a85ba185886a8899fef1.svg"},KZQ4:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("GA+j"),c=n.n(s),l=n("FBRg"),u=n.n(l),d=n("2xEe"),p=n.n(d),m=n("q8H6"),f=n.n(m),h=n("x1M1"),g=n("ER7f"),b=n("GnwI"),y=n("XQbB"),v=n("sUnt"),k=n("yymn"),S=n("+80q"),C=n("dEDE"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={paypalConfigured:!1,processing:!1},t.openPayPalLogin=function(){t.setState({processing:!0}),t.paypalInstance.start()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.checkRecurlyInstance(this.props)},t.prototype.componentDidUpdate=function(e){(!e.recurlyInstance&&this.props.recurlyInstance||this.props.recurlyLoadFailed)&&this.checkRecurlyInstance(this.props)},t.prototype.render=function(){return this.state.paypalConfigured?r.createElement(r.Fragment,null,this.props.autoLogin&&r.createElement(r.Fragment,null,r.createElement(v.a,{display:k.g.Flex,justifyContent:k.l.Center,margin:{bottom:1}},r.createElement(h.a,{sources:{themed:!0,dark:{"1x":p.a,"2x":f.a},light:{"1x":c.a,"2x":u.a}}})),r.createElement(v.a,{display:k.g.Flex,justifyContent:k.l.Center,margin:{bottom:2}},r.createElement(S.a,null,Object(o.d)("Please confirm your PayPal details in the pop-up window","RecurlyPayPalProcessor")))),r.createElement(v.a,{display:k.g.Flex,justifyContent:k.l.Center},r.createElement(C.a,{"data-a-target":"recurly-paypal__button",onClick:this.openPayPalLogin,state:this.state.processing||this.props.forceLoadingState?C.c.Loading:C.c.Default,disabled:this.state.processing||this.props.forceLoadingState||this.props.disableCallToActionButton},this.props.autoLogin?Object(o.d)("Open PayPal","RecurlyPayPalProcessor"):this.props.callToActionButtonLabel))):r.createElement(y.a,{fillContent:!0})},t.prototype.checkRecurlyInstance=function(e){var t=e.recurlyInstance,n=e.recurlyLoadFailed;t&&!this.recurlyInstance?(this.props.latencyTracking.reportInteractive(),this.recurlyInstance=t,this.setupConfigs(this.recurlyInstance)):n&&this.props.latencyTracking.reportInteractive()},t.prototype.setupConfigs=function(e){var t=this;e.configure(this.props.publicKey),this.paypalInstance=e.PayPal({braintree:{clientAuthorization:this.props.braintreeClientAuthorization}}),this.paypalInstance.on("token",(function(e){t.setState({processing:!1}),t.props.handleTokenResponse(e)})),this.paypalInstance.on("error",(function(e){t.props.handleTokenError&&t.props.handleTokenError(e),t.setState({processing:!1})})),this.paypalInstance.on("cancel",(function(){t.setState({processing:!1})})),this.paypalInstance.on("ready",(function(){t.setState({paypalConfigured:!0},(function(){t.props.onPayPalReady&&t.props.onPayPalReady(),t.props.autoLogin&&t.openPayPalLogin()}))}))},t}(r.Component),O=Object(a.d)(Object(b.withLatencyTracking)("RecurlyPayPalProcessor"),Object(g.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(E);n.d(t,"a",(function(){return O}))},LKxS:function(e,t,n){"use strict";var i,r,a=n("mrSG"),o=n("q1tI"),s=n("/MKj"),c=n("ANjH"),l=n("/7QA"),u=n("/0dD"),d=n("XDQu"),p=n("ER7f");!function(e){e.NotConfigured="not-configured",e.MissingPublicKey="missing-public-key",e.InvalidPublicKey="invalid-public-key",e.AlreadyConfigured="already-configured",e.MissingHostedFieldTarget="missing-hosted-field-target",e.Validation="validation",e.InvalidParameter="invalid-parameter",e.APIError="api-error",e.PayPalNotConfigured="paypal-not-configured",e.PayPalCanceled="paypal-canceled",e.PayPalError="paypal-error",e.InvalidRoutingNumber="invalid-routing-number",e.NotFound="not-found",e.MissingPlan="missing-plan",e.InvalidAddon="invalid-addon",e.InvalidCurrency="invalid-currency",e.GiftCardCurrencyMisMatch="gift-card-currency-mismatch"}(i||(i={})),function(e){e.FirstName="first_name",e.LastName="last_name",e.Country="country",e.StreetAddress="address1",e.City="city",e.StateOrProvince="state",e.PostalCode="postal_code",e.CreditCardNumber="number",e.ExpMonth="month",e.ExpYear="year",e.CVV="cvv",e.Token="token"}(r||(r={}));var m=n("GnwI"),f=n("sUnt"),h=n("yymn"),g=n("PL8s"),b=n("TSYQ"),y=n("fvsf"),v=n("KnXG"),k=n("GGWn"),S=n("6+Z+"),C=n("D7An"),E=n("TbBp"),O=n("GsKU"),P=n("1/wt"),N=n("+80q"),j=n("dEDE"),D=n("DUmW"),T=n("+Zug"),w=n("3aAs"),I=n("DY5q"),x=(n("Bgni"),function(){return{cvv:!1,first_name:!1,last_name:!1,month:!1,number:!1,year:!1,country:!1,address1:!1,city:!1,postal_code:!1}}),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={errorState:x(),processing:!1,firstName:"",lastName:"",countryCode:Object(v.a)()||"US",streetAddress:"",city:"",stateOrProvince:"",postalCode:""},t.firstInteractFired=!1,t.usaStateSelections=S.a.map((function(e){return o.createElement("option",{value:e,key:"usaStateCode-"+e},Object(S.b)(e))})),t.canadaProvinceSelections=k.a.map((function(e){return o.createElement("option",{value:e,key:"canadaState-"+e},Object(k.b)(e))})),t.onFirstNameChange=function(e){t.setState({firstName:e.target.value})},t.onLastNameChange=function(e){t.setState({lastName:e.target.value})},t.onCountryChange=function(e){var n=e.currentTarget.value,i="";"US"===n?i=S.a[0]:"CA"===n&&(i=k.a[0]),t.setState({countryCode:n,stateOrProvince:i,postalCode:""})},t.onStreetAddressChange=function(e){t.setState({streetAddress:e.target.value})},t.onCityChange=function(e){t.setState({city:e.target.value})},t.onStateOrProvinceSelectChange=function(e){t.setState({stateOrProvince:e.currentTarget.value})},t.onStateOrProvinceInputChange=function(e){t.setState({stateOrProvince:e.target.value})},t.onPostalCodeChange=function(e){t.setState({postalCode:e.target.value})},t.handleSubmit=function(e){e.preventDefault();var n=x(),i=!1,r="CA"===t.state.countryCode||"US"===t.state.countryCode,a="US"===t.state.countryCode&&"experiment"!==l.p.experiments.getAndTrackAssignment(C.c.AVSCheckout);r&&!t.validPostalCode&&(n.postal_code=!0,i=!0),a&&""===t.state.streetAddress&&(n.address1=!0,i=!0),a&&""===t.state.city&&(n.city=!0,i=!0),""===t.state.firstName&&(n.first_name=!0,i=!0),""===t.state.lastName&&(n.last_name=!0,i=!0),i?t.setState({errorMessage:t.invalidCredentialsError,errorState:n}):(t.setState({processing:!0,errorMessage:void 0,errorState:x()}),t.props.recurlyInstance?t.props.recurlyInstance.token(t.form,(function(e,n){e?(t.handleValidationError(e),t.props.handleTokenError&&t.props.handleTokenError(e)):(t.setState({processing:!1}),t.props.handleTokenResponse(n))})):(t.props.handleTokenError&&t.props.handleTokenError(),t.setState({processing:!1,errorMessage:{title:Object(l.d)("Unexpected Error Occurred","RecurlyCreditCardForm"),description:Object(l.d)("Our credit card processor is not working at the moment. Please try again later.","RecurlyCreditCardForm")}})))},t.handleValidationError=function(e){var n=x();e&&(e.code!==i.Validation&&e.code!==i.InvalidParameter||e.fields&&e.fields.forEach((function(e){n[e]=!0}))),t.setState({processing:!1,errorMessage:t.invalidCredentialsError,errorState:n})},t}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){!this.props.onFirstFormInteraction||this.firstInteractFired||t.firstName===this.state.firstName&&t.lastName===this.state.lastName&&t.countryCode===this.state.countryCode&&t.streetAddress===this.state.streetAddress&&t.city===this.state.city&&t.stateOrProvince===this.state.stateOrProvince&&t.postalCode===this.state.postalCode||(this.firstInteractFired=!0,this.props.onFirstFormInteraction())},t.prototype.render=function(){var e=this,t="US"===this.state.countryCode&&"experiment"!==l.p.experiments.getAndTrackAssignment(C.c.AVSCheckout);return o.createElement(f.a,{className:"recurly-credit-card-form"},this.state.errorMessage&&o.createElement(f.a,{margin:{y:1}},o.createElement(O.a,{type:P.a.Error,message:this.state.errorMessage})),o.createElement("form",{ref:function(t){return e.form=t}},o.createElement(f.a,{margin:{y:1}},o.createElement(N.a,{bold:!0,transform:N.d.Uppercase},Object(l.d)("Billing Information","RecurlyCreditCardForm"))),this.renderNameFields(),t&&this.renderBillingAddressFields(),o.createElement(f.a,{margin:{y:1}},o.createElement(N.a,{bold:!0,transform:N.d.Uppercase},Object(l.d)("Credit Card Information","RecurlyCreditCardForm"))),this.renderCreditCardFields(),o.createElement(f.a,{margin:{top:2},textAlign:h.p.Right},o.createElement(j.a,{onClick:this.handleSubmit,state:this.state.processing||this.props.forceLoadingState?j.c.Loading:j.c.Default,disabled:this.state.processing||this.props.disableCallToActionButton||this.props.forceLoadingState,"data-a-target":"continue-button"},this.props.callToActionButtonLabel))))},Object.defineProperty(t.prototype,"firstNameText",{get:function(){return Object(l.d)("First Name","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastNameText",{get:function(){return Object(l.d)("Last Name","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),t.prototype.renderNameFields=function(){var e="CA"===this.state.countryCode||"US"===this.state.countryCode&&"experiment"===l.p.experiments.getAndTrackAssignment(C.c.AVSCheckout);return o.createElement(D.a,{gutterSize:D.b.Medium},o.createElement(T.a,{cols:{sm:e?3:4,default:6}},o.createElement(f.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},o.createElement(f.a,{margin:{bottom:.5}},o.createElement(N.a,{bold:!0},this.firstNameText)),o.createElement(w.a,{type:w.c.Text,placeholder:this.firstNameText,value:this.state.firstName,onChange:this.onFirstNameChange,error:this.state.errorState[r.FirstName],"data-a-target":"first-name",autoComplete:"given-name"}),o.createElement("input",{type:"hidden","data-recurly":r.FirstName,value:this.state.firstName}))),o.createElement(T.a,{cols:{sm:e?3:4,default:6}},o.createElement(f.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},o.createElement(f.a,{margin:{bottom:.5}},o.createElement(N.a,{bold:!0},this.lastNameText)),o.createElement(w.a,{type:w.c.Text,placeholder:this.lastNameText,value:this.state.lastName,onChange:this.onLastNameChange,error:this.state.errorState[r.LastName],"data-a-target":"last-name",autoComplete:"family-name"}),o.createElement("input",{type:"hidden","data-recurly":r.LastName,value:this.state.lastName}))),o.createElement(T.a,{cols:{sm:e?3:4,default:6}},o.createElement(f.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},o.createElement(f.a,{margin:{bottom:.5}},o.createElement(N.a,{bold:!0},Object(l.d)("Country","RecurlyCreditCardForm"))),o.createElement(y.a,{countryCode:this.state.countryCode,countryCodeList:E.a,onChange:this.onCountryChange,error:this.state.errorState[r.Country],"data-a-target":"country"}),o.createElement("input",{type:"hidden","data-recurly":r.Country,value:this.state.countryCode}))),e&&o.createElement(T.a,{cols:{sm:3,default:6}},o.createElement(f.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},o.createElement(f.a,{margin:{bottom:.5}},o.createElement(N.a,{bold:!0},this.postalCodeText)),o.createElement(w.a,{type:w.c.Text,placeholder:this.postalCodeText,value:this.state.postalCode,onChange:this.onPostalCodeChange,error:this.state.errorState[r.PostalCode],maxLength:this.postalCodeMaxLength,"data-a-target":"postal-code",autoComplete:"postal-code"}),o.createElement("input",{type:"hidden","data-recurly":r.PostalCode,value:this.state.postalCode}))))},Object.defineProperty(t.prototype,"addressText",{get:function(){return Object(l.d)("Address","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cityText",{get:function(){return Object(l.d)("City","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateOrProvinceText",{get:function(){return Object(l.d)("State/Province","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"postalCodeText",{get:function(){return Object(l.d)("Postal Code","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),t.prototype.renderBillingAddressFields=function(){return o.createElement(o.Fragment,null,o.createElement(D.a,{gutterSize:D.b.Medium},o.createElement(T.a,{cols:{default:12,sm:8}},o.createElement(f.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},o.createElement(f.a,{margin:{bottom:.5}},o.createElement(N.a,{bold:!0},this.addressText)),o.createElement(w.a,{type:w.c.Text,placeholder:this.addressText,value:this.state.streetAddress,onChange:this.onStreetAddressChange,error:this.state.errorState[r.StreetAddress],"data-a-target":"street-address",autoComplete:"street-address"}),o.createElement("input",{type:"hidden","data-recurly":r.StreetAddress,value:this.state.streetAddress}))),o.createElement(T.a,{cols:{default:12,sm:4}},o.createElement(f.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},o.createElement(f.a,{margin:{bottom:.5}},o.createElement(N.a,{bold:!0},this.cityText)),o.createElement(w.a,{type:w.c.Text,placeholder:this.cityText,value:this.state.city,onChange:this.onCityChange,error:this.state.errorState[r.City],"data-a-target":"city",autoComplete:"address-level2"}),o.createElement("input",{type:"hidden","data-recurly":r.City,value:this.state.city})))),o.createElement(D.a,{gutterSize:D.b.Medium},o.createElement(T.a,{cols:{default:12,sm:6}},o.createElement(f.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},o.createElement(f.a,{margin:{bottom:.5}},o.createElement(N.a,{bold:!0},this.stateOrProvinceText)),"US"===this.state.countryCode||"CA"===this.state.countryCode?o.createElement(I.a,{onChange:this.onStateOrProvinceSelectChange,value:this.state.stateOrProvince,error:this.state.errorState[r.StateOrProvince],"data-a-target":"state-dropdown",autoComplete:"address-level1"},"US"===this.state.countryCode?this.usaStateSelections:this.canadaProvinceSelections):o.createElement(w.a,{type:w.c.Text,placeholder:this.stateOrProvinceText,value:this.state.stateOrProvince,onChange:this.onStateOrProvinceInputChange,error:this.state.errorState[r.StateOrProvince],"data-a-target":"state-input",autoComplete:"address-level1"}),o.createElement("input",{type:"hidden","data-recurly":r.StateOrProvince,value:this.state.stateOrProvince}))),o.createElement(T.a,{cols:{default:12,sm:6}},o.createElement(f.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},o.createElement(f.a,{margin:{bottom:.5}},o.createElement(N.a,{bold:!0},this.postalCodeText)),o.createElement(w.a,{type:w.c.Text,placeholder:this.postalCodeText,value:this.state.postalCode,onChange:this.onPostalCodeChange,error:this.state.errorState[r.PostalCode],maxLength:this.postalCodeMaxLength,"data-a-target":"postal-code",autoComplete:"postal-code"}),o.createElement("input",{type:"hidden","data-recurly":r.PostalCode,value:this.state.postalCode})))))},t.prototype.renderCreditCardFields=function(){var e=b({"recurly-error":this.state.errorState[r.ExpMonth],"recurly-dark-theme":this.props.darkModeEnabled}),t=b({"recurly-error":this.state.errorState[r.ExpMonth],"recurly-dark-theme":this.props.darkModeEnabled}),n=b({"recurly-error":this.state.errorState[r.CreditCardNumber],"secure-lock":!0,"recurly-dark-theme":this.props.darkModeEnabled}),i=b({"recurly-error":this.state.errorState[r.CVV],"secure-lock":!0,"recurly-dark-theme":this.props.darkModeEnabled});return o.createElement(D.a,{gutterSize:D.b.Medium},o.createElement(T.a,{cols:{default:12,sm:6}},o.createElement(f.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},o.createElement(f.a,{margin:{bottom:.5}},o.createElement(N.a,{bold:!0},Object(l.d)("Credit Card Number","RecurlyCreditCardForm"))),o.createElement("div",{id:"recurly-number","data-recurly":r.CreditCardNumber,className:n}))),o.createElement(T.a,{cols:{default:12,sm:4}},o.createElement(f.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},o.createElement(f.a,{margin:{bottom:.5}},o.createElement(N.a,{bold:!0},Object(l.d)("Expiry Date","RecurlyCreditCardForm"))),o.createElement(D.a,{gutterSize:D.b.Medium},o.createElement(T.a,{cols:6},o.createElement("div",{id:"recurly-month","data-recurly":r.ExpMonth,className:e})),o.createElement(T.a,{cols:6},o.createElement("div",{id:"recurly-year","data-recurly":r.ExpYear,className:t}))))),o.createElement(T.a,{cols:{default:12,sm:2}},o.createElement(f.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},o.createElement(f.a,{margin:{bottom:.5}},o.createElement(N.a,{bold:!0},Object(l.d)("CVV","RecurlyCreditCardForm"))),o.createElement("div",{id:"recurly-cvv","data-recurly":r.CVV,className:i}))),o.createElement("input",{type:"hidden","data-recurly":r.Token}))},Object.defineProperty(t.prototype,"postalCodeMaxLength",{get:function(){switch(this.state.countryCode){case"US":return 5;case"CA":return 7;default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalidCredentialsError",{get:function(){return{title:Object(l.d)("Valid Credentials Required","RecurlyCreditCardForm"),description:Object(l.d)("Please enter valid credentials in the highlighted areas and try again.","RecurlyCreditCardForm")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validPostalCode",{get:function(){switch(this.state.countryCode){case"US":case"CA":return 0!==this.state.postalCode.length;default:return!0}},enumerable:!0,configurable:!0}),t}(o.Component),M={light:"#000",dark:"#fff"},_={light:"#53535f",dark:"#c4c4c5"},F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={recurlyReady:!1},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.checkRecurlyInstance()},t.prototype.componentDidUpdate=function(e){!e.recurlyInstance&&this.props.recurlyInstance||this.props.recurlyLoadFailed?this.checkRecurlyInstance():this.props.recurlyInstance&&this.props.darkModeEnabled!==e.darkModeEnabled&&this.setupConfigs()},t.prototype.componentWillUnmount=function(){window.clearInterval(this.hostedFieldPollId)},t.prototype.render=function(){return this.props.recurlyLoadFailed?null:o.createElement(o.Fragment,null,o.createElement(f.a,{display:this.state.recurlyReady?h.g.Hide:h.g.Block,padding:{y:1}},o.createElement(g.a,{lineCount:18})),o.createElement(f.a,{display:this.state.recurlyReady?h.g.Block:h.g.Hide},o.createElement(A,{onFirstFormInteraction:this.props.onFirstFormInteraction,callToActionButtonLabel:this.props.callToActionButtonLabel,darkModeEnabled:this.props.darkModeEnabled,disableCallToActionButton:this.props.disableCallToActionButton,forceLoadingState:this.props.forceLoadingState,handleTokenResponse:this.props.handleTokenResponse,handleTokenError:this.props.handleTokenError,recurlyInstance:this.props.recurlyInstance})))},t.prototype.checkRecurlyInstance=function(){this.props.recurlyInstance?(this.props.latencyTracking.reportInteractive(),this.setupConfigs(),this.pollForHostedField()):this.props.recurlyLoadFailed&&this.props.latencyTracking.reportInteractive()},t.prototype.pollForHostedField=function(){var e=this;this.hostedFieldPollId=window.setInterval((function(){document.querySelector(".recurly-hosted-field > iframe")&&(e.setState({recurlyReady:!0}),e.props.onRecurlyReady&&e.props.onRecurlyReady(),window.clearInterval(e.hostedFieldPollId))}),500)},t.prototype.setupConfigs=function(){if(this.props.recurlyInstance){var e=[r.CVV,r.Country];this.props.recurlyInstance.configure({publicKey:this.props.publicKey,fraud:{kount:{dataCollector:!0}},required:e,fields:{all:{style:{height:"auto",fontSize:"12px",fontColor:this.props.darkModeEnabled?M.dark:M.light,placeholder:{color:this.props.darkModeEnabled?_.dark:_.light}}},number:{selector:"#recurly-number",style:{placeholder:{content:Object(l.d)("Card Number","RecurlyCreditCardProcessor")}}},month:{selector:"#recurly-month",inputType:"select",style:{placeholder:{content:Object(l.d)("Month","RecurlyCreditCardProcessor")}}},year:{selector:"#recurly-year",inputType:"select",style:{placeholder:{content:Object(l.d)("Year","RecurlyCreditCardProcessor")}}},cvv:{selector:"#recurly-cvv",style:{placeholder:{content:Object(l.d)("CVV","RecurlyCreditCardProcessor")}}}}})}},t}(o.Component);var R=Object(c.d)(Object(m.withLatencyTracking)("RecurlyCreditCardProcessor"),Object(s.b)((function(e){return{darkModeEnabled:Object(d.a)(e)===u.a.Dark}})),Object(p.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(F);n.d(t,"a",(function(){return R}))},M9G0:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SubsProductDescription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeGiftRecipientQuery"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productName"},value:{kind:"Variable",name:{kind:"Name",value:"productName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"giftRecipient"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeGiftRecipientQuery"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"benefitsStartAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchaseType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"renewalPolicy"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:527}};n.loc.source={body:"query SubsProductDescription(\n$productName: String!\n$giftRecipientID: ID\n$includeGiftRecipientQuery: Boolean!\n$params: PurchasableOfferParams!\n) {\nsubscriptionProduct(productName: $productName) {\nid\ntier\nowner {\nid\nlogin\ndisplayName\nprofileImageURL(width: 150)\n}\n}\ngiftRecipient: user(id: $giftRecipientID)\n@include(if: $includeGiftRecipientQuery) {\nid\ndisplayName\n}\npurchasableOffer(params: $params) {\nid\ngiftType\neligibility {\nbenefitsStartAt\npurchaseType\n}\nlisting {\nchargeModel {\ninternal {\nplan {\nrenewalPolicy\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SubsProductDescription=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"SubsProductDescription")},Mb07:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l}));var i,r=n("5yce"),a=n("a5fV");function o(e,t){return null==t?void 0:t.find((function(t){var n;return(null===(n=t.promotion)||void 0===n?void 0:n.name)===e}))}function s(e,t){return c(e,t)?l(e):{}}function c(e,t){return!!e&&(!(Object(r.c)(e)&&!Object(r.b)())&&(!!e.eligibility.isEligible&&(!t||!!e.quantity&&e.quantity.min<=t&&t<=e.quantity.max)))}function l(e){var t,n,i,r,o,s,c,l,u=null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.promoDisplay.discountPercent,d=null===(i=null===(n=null==e?void 0:e.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===i?void 0:i.previewPrice,p=null===(c=null===(s=null===(o=null===(r=null==e?void 0:e.listing)||void 0===r?void 0:r.chargeModel.internal)||void 0===o?void 0:o.previewPrice)||void 0===s?void 0:s.discount)||void 0===c?void 0:c.price;return d&&(l=Object(a.a)(Object(a.c)(d.total,d.exponent),d.currency)),{discountPercent:u,discountPrice:p,price:l}}!function(e){e.FirstPaidSubOffer="first_paid_sub_offer_20_perc_off",e.FirstPaidGiftOffer="first_paid_gift_offer_20_perc_off",e.FirstPaidSingleGiftOffer="single_paid_gift_offer_20_perc_off",e.FirstPaidMulitMonthOffer="single_paid_multi_month_gift_offer_20_perc_off",e.MultiMonthIntroOffer="multimonth_intro_10_perc_off"}(i||(i={}))},N3I0:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("u5aL"),s=n("8Ad5"),c=n("f00E"),l=n("3Law"),u=n("Ws8v"),d=n("yymn"),p=n("sUnt"),m=n("ygYM"),f=n("7uM4"),h=n("C7sF"),g=n("hnjF"),b=n("+80q"),y=function(){return r.createElement(p.a,{display:d.g.Flex,flexDirection:d.h.Column,justifyContent:d.l.Center,alignItems:d.b.Center,flexGrow:1,fullHeight:!0,padding:{y:1},zIndex:d.s.Above},r.createElement(u.a,{color:d.f.Alt2,textAlign:d.p.Center,flexShrink:1},r.createElement(f.a,{asset:h.a.DeadGlitch,width:46,height:48})),r.createElement(g.a,{margin:{top:1},textAlign:d.p.Center},r.createElement(b.a,{type:b.e.H4,"data-test-selector":"search-error-message"},Object(a.d)("Search is not available at this time","DropdownSearchError"))),r.createElement(b.a,{type:b.e.P},Object(a.d)("Please try again later","DropdownSearchError")))},v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={focusSelectable:!1,isInputFocused:!1,isOpen:!1},n.handleChange=function(e){n.props.onChange(e.target.value)},n.handleFocus=function(){n.props.onFocusInput&&n.props.onFocusInput(),n.setState({isInputFocused:!0})},n.handleBlur=function(){n.setState({isInputFocused:!1})},n.onKeyDown=function(e){var t=function(){e.preventDefault(),e.stopPropagation()};e.keyCode===s.a.Esc?n.setState({isOpen:!1}):e.keyCode===s.a.Up?(t(),n.focusNext(-1)):e.keyCode===s.a.Down&&(t(),n.focusNext(1))},n.onClickOut=function(){n.state.isOpen&&n.setState({isOpen:!1}),n.props.onClose&&n.props.onClose()},n.onMouseOver=function(e){var t=e.target.closest("[data-selectable]");t&&(t.focus(),t.tabIndex=0,n.setState((function(e){var n=e.currentFocus;return n&&(n.tabIndex=-1),{currentFocus:t}})),n.props.onFocusChange&&n.props.onFocusChange(t))},n.getInputRef=function(e){n.inputRef=e},n.controlsId=Object(c.a)(8),n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=void 0===this.props.showDropdown||this.props.showDropdown,t=this.props.isErrored?r.createElement(y,null):r.Children.only(this.props.children),n=r.createElement("div",{role:"combobox","aria-owns":this.controlsId,"aria-haspopup":"listbox","aria-expanded":this.state.isOpen&&this.props.showDropdown},r.createElement(l.a,{"aria-label":this.props.placeholder,"aria-autocomplete":"list","aria-controls":this.controlsId,onChange:this.handleChange,onKeyDown:this.onKeyDown,onBlur:this.handleBlur,onFocus:this.handleFocus,placeholder:this.props.placeholder,id:"dropdown-search-input","data-a-target":"dropdown-search-input",spellCheck:!1,refDelegate:this.getInputRef,size:this.props.inputSize,autoFocus:this.props.autoFocus})),s=r.createElement("div",{id:this.controlsId,"aria-label":Object(a.d)("Search Results","DropdownSearch"),role:"listbox",tabIndex:0,onKeyDown:this.onKeyDown,onMouseOver:this.props.enableMouseEvents?this.onMouseOver:void 0},t);return this.props.inline?r.createElement(o.a,{onClickOut:this.onClickOut},r.createElement(u.a,{background:this.state.isInputFocused||this.state.isOpen?d.d.Base:void 0,borderRadius:d.e.Large,padding:.5,position:d.n.Relative,elevation:this.state.isInputFocused||this.state.isOpen?3:void 0},n,e&&r.createElement(u.a,{attachLeft:!0,background:d.d.Base,borderRadius:{bottomLeft:d.e.Large,bottomRight:d.e.Large},display:this.state.isOpen?d.g.Block:d.g.Hide,fullWidth:!0,padding:{y:1},position:d.n.Absolute,zIndex:d.s.Above,elevation:3},s))):r.createElement(o.a,{onClickOut:this.onClickOut},r.createElement(p.a,{position:d.n.Relative},n,e&&r.createElement(m.a,Object(i.__assign)({},this.props.balloonProps,{show:this.state.isOpen}),s)))},t.prototype.focus=function(){this.inputRef&&this.inputRef.focus()},t.prototype.toggle=function(e){e!==this.state.isOpen&&this.setState({isOpen:e})},t.prototype.setValue=function(e){this.inputRef.value=e},t.prototype.focusNext=function(e){var t,n=document.querySelectorAll("[data-selectable=true]"),i=document.activeElement,r=Array.prototype.indexOf.call(n,i);if((t=r<0?e>0?0:n.length-1:r+e)<0&&(t=0),!(t>=n.length)){var a=n.item(t);a.focus(),a.tabIndex=0,this.setState((function(e){var t=e.currentFocus;return t&&(t.tabIndex=-1),{currentFocus:a}})),this.props.onFocusChange&&this.props.onFocusChange(a)}},t}(r.Component);n.d(t,"a",(function(){return v}))},N868:function(e,t,n){},NB5H:function(e,t,n){"use strict";var i=n("q1tI"),r=n("/7QA"),a=n("fQWD"),o=n("sUnt"),s=n("yymn"),c=n("wp5a"),l="https://static-cdn.jtvnw.net/badges/v1/511b78a9-ab37-472f-9569-457753bbe7d3",u=function(e){var t={clickAction:null,clickURL:"",id:"founder-badge",image1x:l+"/1",image2x:l+"/2",image4x:l+"/3",setID:"founder-badge-set",title:"",version:"1"};return i.createElement(o.a,{alignItems:s.b.Center,className:e.className,display:s.g.Flex,flexDirection:s.h.Column,flexShrink:0,margin:{top:1}},i.createElement(a.a,{badge:t,hideTooltip:!0,large:!0,isLocked:e.isLocked}),i.createElement(o.a,{margin:{top:.5}},i.createElement(c.a,{label:Object(r.d)("LIMITED QTY","TenureBadgeProgressFounderBadge"),type:c.b.Brand})))};n.d(t,"a",(function(){return u}))},NYFu:function(e,t,n){e.exports=n.p+"assets/sub-only-chat-432211050c885b3070f1.png"},NoAt:function(e,t,n){e.exports=n.p+"assets/custom-username-9977ae65e403e35e9f17.png"},O1pM:function(e,t,n){},OCZ4:function(e,t,n){},OIet:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("VbXa"),r=n.n(i),a=n("q1tI"),o=n("hnjF"),s=n("yymn"),c=(n("hxuZ"),function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.props.children.split(" ");return e.map((function(t,n){return a.createElement(a.Fragment,{key:t+n},a.createElement(o.a,{display:s.g.InlineBlock},a.createElement("span",{className:"tw-animated-title__segment tw-animated-title__segment--"+n,style:{animationDelay:30*n+"ms"}},t)),n<e.length&&a.createElement("span",null," "))}))},t}(a.Component));c.displayName="AnimatedTitle"},OjAq:function(e,t,n){},OkDP:function(e,t,n){},PZ6D:function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return b}));var i=n("DMoW"),r=n("VURH"),a=n("Mb07"),o=n("8Csb");function s(e,t){if((null==e?void 0:e.offers)&&0!==e.offers.length)return 1===e.offers.length?e.offers[0]:c(e.offers,t)}function c(e,t){return null==e?void 0:e.slice().sort((function(e,n){var i,r,o,s,c,l,u,d;if(!Object(a.e)(e,t)&&Object(a.e)(n,t))return 1;if(Object(a.e)(e,t)&&!Object(a.e)(n,t))return-1;var p=null===(o=null===(r=null===(i=e.listing)||void 0===i?void 0:i.chargeModel)||void 0===r?void 0:r.internal)||void 0===o?void 0:o.previewPrice,m=null===(l=null===(c=null===(s=n.listing)||void 0===s?void 0:s.chargeModel)||void 0===c?void 0:c.internal)||void 0===l?void 0:l.previewPrice;return p&&m?((null===(u=null==p?void 0:p.discount)||void 0===u?void 0:u.total)||(null==p?void 0:p.total))-((null===(d=null==m?void 0:m.discount)||void 0===d?void 0:d.total)||(null==m?void 0:m.total)):0}))[0]}function l(e){if((null==e?void 0:e.offers)&&0!==e.offers.length)return function(e){var t=[];if(!e)return t;var n=c(u(e,1,i.O.MONTHS));n&&t.push(n);if(Object(o.b)()){var r=c(u(e,3,i.O.MONTHS));r&&t.push(r);var a=c(u(e,6,i.O.MONTHS));a&&t.push(a)}return t}(e.offers)}function u(e,t,n){return e.filter((function(e){var i,r,a,o,s=null===(o=null===(a=null===(r=null===(i=e.listing)||void 0===i?void 0:i.chargeModel)||void 0===r?void 0:r.internal)||void 0===a?void 0:a.plan)||void 0===o?void 0:o.interval;return(null==s?void 0:s.duration)===t&&(null==s?void 0:s.unit)===n}))}function d(e,t){var n;return(null===(n=p(e,t))||void 0===n?void 0:n.id)||""}function p(e,t){var n,o=null===(n=null==e?void 0:e.community)||void 0===n?void 0:n.map((function(e){return e.offer})).filter((function(e){return(null==e?void 0:e.platform)===i.Kc.WEB&&(null==e?void 0:e.tplr)===r.b.ChannelSubCommunityGift})),s=null==o?void 0:o.find((function(e){var t;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.FirstPaidGiftOffer}));return Object(a.e)(s,t)?s||void 0:c(o,t)}function m(e){var t;return(null===(t=f(e))||void 0===t?void 0:t.id)||""}function f(e){var t,n,o=null===(n=null===(t=null==e?void 0:e.gifting)||void 0===t?void 0:t.standard)||void 0===n?void 0:n.map((function(e){return e.offer})).filter((function(e){var t,n,a;return(null==e?void 0:e.platform)===i.Kc.WEB&&(null==e?void 0:e.tplr)===r.b.ChannelSubStandardGift&&1===(null===(a=null===(n=null===(t=null==e?void 0:e.listing)||void 0===t?void 0:t.chargeModel.internal)||void 0===n?void 0:n.plan)||void 0===a?void 0:a.interval.duration)})),s=null==o?void 0:o.find((function(e){var t;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.FirstPaidSingleGiftOffer}));return Object(a.e)(s)?s||void 0:c(o)}function h(e,t){if(t)return e.map((function(e){return b(e,t)}))}function g(e){var t,n;return null===(n=null===(t=e.gifting)||void 0===t?void 0:t.standard)||void 0===n?void 0:n.map((function(e){return e.offer})).filter((function(e){var t,n,a,o,s,c,l;if(!e)return!1;var u=null===(a=null===(n=null===(t=e.listing)||void 0===t?void 0:t.chargeModel.internal)||void 0===n?void 0:n.plan)||void 0===a?void 0:a.interval,d=1===(null==u?void 0:u.duration)||3===(null==u?void 0:u.duration)||6===(null==u?void 0:u.duration)||12===(null==u?void 0:u.duration);return e.platform===i.Kc.WEB&&e.tplr===r.b.ChannelSubStandardGift&&(null===(l=null===(c=null===(s=null===(o=e.listing)||void 0===o?void 0:o.chargeModel.internal)||void 0===s?void 0:s.plan)||void 0===c?void 0:c.interval)||void 0===l?void 0:l.unit)===i.O.MONTHS&&d}))}function b(e,t){var n=!1,i=null==t?void 0:t.filter((function(t){var i,r,o;if(!t)return!1;Object(a.e)(t)&&(n=!0);var s=null===(o=null===(r=null===(i=t.listing)||void 0===i?void 0:i.chargeModel.internal)||void 0===r?void 0:r.plan)||void 0===o?void 0:o.interval;return(null==s?void 0:s.duration)===e}));return n?null==i?void 0:i.slice().sort((function(e,t){var n,i,r,o,s,c,l,u;if(!Object(a.e)(e)&&Object(a.e)(t))return 1;if(Object(a.e)(e)&&!Object(a.e)(t))return-1;var d=null===(r=null===(i=null===(n=null==e?void 0:e.listing)||void 0===n?void 0:n.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.previewPrice,p=null===(c=null===(s=null===(o=null==t?void 0:t.listing)||void 0===o?void 0:o.chargeModel)||void 0===s?void 0:s.internal)||void 0===c?void 0:c.previewPrice;return d&&p?((null===(l=null==d?void 0:d.discount)||void 0===l?void 0:l.total)||(null==d?void 0:d.total))-((null===(u=null==p?void 0:p.discount)||void 0===u?void 0:u.total)||(null==p?void 0:p.total)):0}))[0]:null==i?void 0:i.slice().sort((function(e,t){var n,i,r,o,s,c,l,u;if(!Object(a.e)(e)&&Object(a.e)(t))return 1;if(Object(a.e)(e)&&!Object(a.e)(t))return-1;var d=null===(r=null===(i=null===(n=null==e?void 0:e.listing)||void 0===n?void 0:n.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.previewPrice,p=null===(c=null===(s=null===(o=null==t?void 0:t.listing)||void 0===o?void 0:o.chargeModel)||void 0===s?void 0:s.internal)||void 0===c?void 0:c.previewPrice;return d&&p?((null===(l=null==p?void 0:p.discount)||void 0===l?void 0:l.total)||(null==p?void 0:p.total))-((null===(u=null==d?void 0:d.discount)||void 0===u?void 0:u.total)||(null==d?void 0:d.total)):0}))[0]}},PwAB:function(e,t,n){e.exports=n.p+"assets/xsolla_2x-b8ef30f34626976fddc4.png"},Q7xm:function(e,t,n){e.exports=n.p+"assets/blue-gem-3d8ce5988f1af3a9da13.png"},QCvd:function(e,t,n){e.exports=n.p+"assets/apple_1x-37e2db56c962df2a5704.svg"},QDWv:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("yR8l"),l=n("esZd"),u=n("KnXG"),d=n("SDEh"),p=n("geRD"),m=n("f00E"),f=n("D7An"),h=n("DMoW"),g=n("kRBY"),b=n("4rCz"),y=n("w1PT"),v=n("obzc"),k=n("ABd2"),S=n("Ws8v"),C=n("PL8s"),E=n("sUnt"),O=function(e){switch(e.oneClickDisplayType){case H.SubModal:return e.isQuickSub?a.createElement(S.a,{padding:2,borderBottom:!0},a.createElement(C.a,{lineCount:2})):a.createElement(S.a,{padding:2,border:!0},a.createElement(C.a,{lineCount:2}));default:return a.createElement(E.a,{padding:{y:1}},a.createElement(C.a,{lineCount:2}))}},P=n("CuSU"),N=n("yymn"),j=n("+80q"),D=n("Jsra");n("AP5F");!function(e){e.PaymentHint="PaymentHint",e.Terms="Terms",e.Privacy="Privacy"}(i||(i={}));var T,w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(E.a,{display:N.g.Flex,className:"one-click-spm-display "+(this.props.addFrame?"frame":"")+" "+this.paymentImageClass,flexDirection:N.h.Column,alignItems:N.b.Start},a.createElement(E.a,{alignItems:N.b.Center},a.createElement(E.a,{padding:{right:.5,bottom:1},display:N.g.InlineBlock},a.createElement(P.a,{paymentProvider:this.props.paymentProvider,paymentInstrumentType:this.props.paymentInstrumentType,cardType:this.props.cardType})),a.createElement(E.a,{padding:{right:1,bottom:1},display:N.g.InlineBlock},a.createElement(j.a,{"data-test-selector":i.PaymentHint,type:j.e.Span,fontSize:N.j.Size6,fontWeight:N.k.Bold},this.props.paymentHint)),a.createElement(E.a,{padding:{right:1,bottom:1},display:N.g.InlineBlock},a.createElement(D.a,{onClick:this.props.onChangePaymentMethodClick},Object(b.d)("Change Payment Method","OneClickSPMDisplayChangeMethod")))),a.createElement(j.a,{type:j.e.Span,fontSize:N.j.Size7,color:N.f.Alt},Object(b.d)("By purchasing you agree to Twitch's <x:terms>Terms of Sale</x:terms> and acknowledge our <x:privacy>Privacy Notice</x:privacy> applies.",{"x:terms":function(t){return a.createElement(D.a,{"data-test-selector":i.Terms,onClick:e.props.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(D.a,{"data-test-selector":i.Privacy,onClick:e.props.onPrivacyPolicyLinkClick},t)}},"OneClickSPMDisclaimer")))},Object.defineProperty(t.prototype,"paymentImageClass",{get:function(){return this.props.paymentInstrumentType===h.Tc.CREDIT_CARD?"payment-cc":"payment-other"},enumerable:!0,configurable:!0}),t}(a.Component),I=n("azJ+"),x=n("br9A"),A=n("DUmW"),M=n("+Zug"),_=n("uG/k"),F=n("dEDE"),R=n("C7sF");n("obMS");!function(e){e.TierSub="TierSub",e.GiftButton="GiftButton",e.OneClickButton="OneClickButton"}(T||(T={}));var B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e;Object(x.c)({action:x.a.OneClickCheckoutShowRecurringSubButton,channelID:this.props.channelID,channelLogin:this.props.channelLogin,subLocation:x.b.ChannelPageModal,checkoutButtonTier:(null===(e=this.props.tierNumber)||void 0===e?void 0:e.toString())||void 0,cumulativeTenureMonths:null,modalSessionId:this.props.modalSessionID})},t.prototype.render=function(){var e,t,n,i,r;return a.createElement(S.a,{border:!0,borderRadius:N.e.Medium,margin:this.props.isQuickSub?{x:2,top:2}:0},this.props.isQuickSub&&this.props.discountPrice&&this.props.discountPercent?a.createElement(A.a,null,a.createElement(M.a,{cols:3},a.createElement(E.a,{position:N.n.Relative,display:N.g.Block,className:"one-click-sub-plan__fpso-image-container",fullHeight:!0,padding:{top:2}},a.createElement(E.a,{position:N.n.Absolute,attachBottom:!0},a.createElement(_.a,{className:"one-click-sub-plan__fpso-glow",alt:Object(b.d)("Glow","OneClickCheckoutSubPlan"),src:I.a+"/fpso-glow-4x.png"})),a.createElement(E.a,{position:N.n.Absolute,attachBottom:!0},a.createElement(_.a,{className:"one-click-sub-plan__fpso-sparkle",alt:Object(b.d)("Sparkle","OneClickCheckoutSubPlan"),src:I.a+"/fpso-sparkles.gif"})))),a.createElement(M.a,{cols:9},a.createElement(E.a,{padding:1},a.createElement(E.a,{margin:{bottom:.5}},a.createElement(j.a,{bold:!0,fontSize:N.j.Size4,lineHeight:j.b.Heading},Object(b.d)("First Sub, First Month: {offerPercentage}% Off",{offerPercentage:this.props.discountPercent},"OneClickCheckoutSubPlan"))),a.createElement(E.a,{margin:{bottom:1}},a.createElement(j.a,{fontSize:N.j.Size6,color:N.f.Alt2},this.props.renewsMessage)),a.createElement(E.a,{display:N.g.Flex,justifyContent:N.l.End},this.subscribeButton)))):a.createElement(S.a,{display:N.g.Flex,flexDirection:N.h.Row,justifyContent:N.l.End,padding:1,flexWrap:N.i.Wrap},a.createElement(E.a,{flexGrow:1,padding:1},a.createElement(j.a,{bold:!0,"data-test-selector":T.TierSub},this.props.tierNumber?Object(b.d)("Tier {tierNumber} Subscription",{tierNumber:this.props.tierNumber},"OneClickCheckoutSubPlan"):Object(b.d)("Subscription","OneClickCheckoutSubPlan")),a.createElement(j.a,null,this.props.renewsMessage)),a.createElement(E.a,{display:N.g.Flex,justifyContent:N.l.End,alignItems:N.b.Start,margin:1},this.props.onGift&&a.createElement(E.a,{margin:{right:1}},a.createElement(F.a,{type:F.d.Secondary,icon:R.a.Gift,onClick:this.props.onGift,"data-test-selector":T.GiftButton},Object(b.d)("Gift","OneClickCheckoutSubPlanGift"))),a.createElement(E.a,{display:N.g.Flex},this.subscribeButton))),a.createElement(w,{paymentProvider:null===(e=this.props.recurlySPM)||void 0===e?void 0:e.provider,paymentInstrumentType:null===(t=this.props.recurlySPM)||void 0===t?void 0:t.paymentType,cardType:(null===(n=this.props.recurlySPM)||void 0===n?void 0:n.cardType)||void 0,paymentHint:(null===(i=this.props.recurlySPM)||void 0===i?void 0:i.lastFour)||(null===(r=this.props.recurlySPM)||void 0===r?void 0:r.billingEmail)||void 0,onChangePaymentMethodClick:this.props.onChangePaymentMethodClick,onPrivacyPolicyLinkClick:this.props.onPrivacyPolicyLinkClick,onTermsOfSaleLinkClick:this.props.onTermsOfSaleLinkClick,addFrame:!0}))},Object.defineProperty(t.prototype,"subscribeButton",{get:function(){return a.createElement(F.a,{"data-test-selector":T.OneClickButton,icon:R.a.Star,onClick:this.props.oneClickAction,purchase:this.props.discountPrice||this.props.buttonPrice,disabled:this.props.purchasing},Object(b.d)("Subscribe with 1-Click","OneClickCheckoutSubPlan"))},enumerable:!0,configurable:!0}),t}(a.Component),L=n("/7QA"),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e;Object(x.c)({action:x.a.OneClickCheckoutShowSingleGiftSubButton,channelID:this.props.channelID,channelLogin:this.props.channelLogin,subLocation:x.b.ViewerCard,cumulativeTenureMonths:null,checkoutButtonTier:(null===(e=this.props.tierNumber)||void 0===e?void 0:e.toString())||void 0})},t.prototype.render=function(){var e,t,n,i,r;return a.createElement(a.Fragment,null,a.createElement(E.a,{display:N.g.Flex,alignItems:N.b.Center,justifyContent:N.l.Start},a.createElement(F.a,{icon:R.a.Gift,onClick:this.props.oneClickAction,purchase:this.props.buttonPrice,disabled:this.props.purchasing},Object(L.d)("Gift with 1-Click","OneClickSubTierButtonGift")),this.props.preDiscountPrice&&a.createElement(E.a,{margin:{left:1}},a.createElement(j.a,{decoration:j.c.Strikethrough,color:N.f.Alt2},this.props.preDiscountPrice))),a.createElement(w,{paymentProvider:null===(e=this.props.recurlySPM)||void 0===e?void 0:e.provider,paymentInstrumentType:null===(t=this.props.recurlySPM)||void 0===t?void 0:t.paymentType,cardType:(null===(n=this.props.recurlySPM)||void 0===n?void 0:n.cardType)||void 0,paymentHint:(null===(i=this.props.recurlySPM)||void 0===i?void 0:i.lastFour)||(null===(r=this.props.recurlySPM)||void 0===r?void 0:r.billingEmail)||void 0,onChangePaymentMethodClick:this.props.onChangePaymentMethodClick,onPrivacyPolicyLinkClick:this.props.onPrivacyPolicyLinkClick,onTermsOfSaleLinkClick:this.props.onTermsOfSaleLinkClick}))},t}(a.Component);var G="one_click_checkout_eu_country_allowlist",q="one_click_checkout_blocklist";function z(e){var t;if(!e)return!1;var n=(null===(t=Object(u.a)())||void 0===t?void 0:t.toUpperCase())||"US",i=b.b.get(G,[]),r=!b.b.get(q,[]).includes(e);return r&&(r="KR"===n?"variant"===b.q.experiments.getAndTrackAssignment(f.c.OneClickCheckoutKR):"BR"===n?"variant"===b.q.experiments.getAndTrackAssignment(f.c.OneClickCheckoutBR):"AU"===n?"variant"===b.q.experiments.getAndTrackAssignment(f.c.OneClickCheckoutAU):!!i.includes(n)&&"variant"===b.q.experiments.getAndTrackAssignment(f.c.OneClickCheckoutEU)),r}var H,V=n("KriR"),W=n("a5fV"),Y=n("qiem"),Q=n("C7ht"),K=n("HoV5");!function(e){e[e.SubModal=0]="SubModal",e[e.ViewerCardGift=1]="ViewerCardGift"}(H||(H={}));var J=[h.qd.PAYMENT_PENDING,h.qd.SUCCESS],Z=[h.qd.BENEFITS_CANCELLED,h.qd.CANCEL_BENEFITS_INITIATED,h.qd.FAILED,h.qd.REFUND_APPLIED,h.qd.REFUND_FAILED,h.qd.REFUND_INITIATED],X="one_click_checkout_country_allowlist",$=function(e){function t(){var t,n=e.apply(this,arguments)||this;return n.state={purchasing:!1},n.trackingContext={source:n.props.oneClickDisplayType===H.SubModal?V.a.ChannelSubscribeButton:V.a.ViewerCard,detail:"OneClickCheckout",tenantTracking:{sub_session_id:n.props.modalSessionID}},n.validCountries=b.b.get(X,[]),n.ipCountryCode=(null===(t=Object(u.a)())||void 0===t?void 0:t.toUpperCase())||"US",n.handlePurchaseFailure=function(e,t,i){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return clearInterval(this.pollingID),clearTimeout(this.timeoutID),[4,null===(n=this.props.data)||void 0===n?void 0:n.refetch({purchaseOrderID:"",includeOrder:!1})];case 1:return r.sent(),this.checkoutSessionTracker.track(k.b.CompletePurchaseClickFailure,e),this.props.showSubscriptionCheckout({isAnonymous:this.props.giftingAnonymously,productName:this.props.productName,recipientLogin:this.props.recipientLogin,offerID:this.props.offerID,trackingContext:this.trackingContext,purchaseOfferErrorCode:t,purchaseOrderFailureReason:i,checkoutSessionTracker:this.checkoutSessionTracker}),this.setState({purchasing:!1}),this.props.onCheckoutFormOpen&&this.props.onCheckoutFormOpen(),[2]}}))}))},n.completePurchase=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e,t,n,i,a,o,s,c,l,u,d,m;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!(e=null===(s=this.props.data)||void 0===s?void 0:s.currentUser))return[2];this.setState({purchasing:!0}),Object(x.c)({action:this.props.oneClickDisplayType===H.ViewerCardGift?x.a.BuyGiftSubOneClick:this.props.isQuickSub?x.a.ClickOneClickCheckoutQuickSub:x.a.ClickOneClickCheckoutSub,channelID:this.props.channelID,channelLogin:this.props.channelLogin,subLocation:this.props.oneClickDisplayType===H.ViewerCardGift?x.b.ViewerCard:x.b.ChannelPageModal,cumulativeTenureMonths:null,checkoutButtonTier:(null===(c=this.props.tierNumber)||void 0===c?void 0:c.toString())||void 0,modalSessionId:this.props.modalSessionID}),this.trackCommonEvents(),this.checkoutSessionTracker.track(k.b.CompletePurchaseClickAttempt),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.props.purchaseOfferMutation(Object(p.a)({giftRecipientUserIDs:this.props.giftRecipientIDs,offerID:this.props.offerID||"",paymentSession:this.props.paymentSession,purchasingUserID:e.id,quantity:this.props.quantity||1,tagBindings:this.props.tagBindings,tenantTracking:this.checkoutSessionTracker.getTenantTracking()}))];case 2:return t=r.sent(),n=t.data,i=t.errors,a=null===(u=null===(l=n.purchaseOffer)||void 0===l?void 0:l.purchaseOrder)||void 0===u?void 0:u.id,i?(this.handlePurchaseFailure(JSON.stringify(i)),[2]):(null===(d=n.purchaseOffer)||void 0===d?void 0:d.error)?(this.handlePurchaseFailure(JSON.stringify({purchase_offer_error:n.purchaseOffer.error}),(null===(m=n.purchaseOffer)||void 0===m?void 0:m.error)||void 0),[2]):a?(this.startPolling(a),[3,4]):(this.handlePurchaseFailure("missing purchase order ID"),[2]);case 3:return o=r.sent(),this.handlePurchaseFailure(null==o?void 0:o.message),[3,4];case 4:return[2]}}))}))},n.onChangePaymentMethodClick=function(){n.trackCommonEvents(),n.checkoutSessionTracker.track(k.b.ChangePaymentMethodClick),n.props.showSubscriptionCheckout({isAnonymous:n.props.giftingAnonymously,productName:n.props.productName,recipientLogin:n.props.recipientLogin,offerID:n.props.offerID,trackingContext:n.trackingContext,checkoutSessionTracker:n.checkoutSessionTracker,multiMonthGiftAmount:n.props.multiMonthGiftAmount}),n.props.onCheckoutFormOpen&&n.props.onCheckoutFormOpen()},n.onTermsOfSaleLinkClick=function(){var e;Object(x.c)({action:x.a.ClickCheckoutTermsOfService,channelID:n.props.channelID,channelLogin:n.props.channelLogin,subLocation:n.props.oneClickDisplayType===H.SubModal?x.b.ChannelPageModal:x.b.ViewerCard,cumulativeTenureMonths:null,checkoutButtonTier:(null===(e=n.props.tierNumber)||void 0===e?void 0:e.toString())||void 0,modalSessionId:n.props.modalSessionID}),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},n.onPrivacyPolicyLinkClick=function(){var e;Object(x.c)({action:x.a.ClickCheckoutPrivacyPolicy,channelID:n.props.channelID,channelLogin:n.props.channelLogin,subLocation:n.props.oneClickDisplayType===H.SubModal?x.b.ChannelPageModal:x.b.ViewerCard,cumulativeTenureMonths:null,checkoutButtonTier:(null===(e=n.props.tierNumber)||void 0===e?void 0:e.toString())||void 0,modalSessionId:n.props.modalSessionID}),window.open("https://www.twitch.tv/p/legal/privacy-notice")},n}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){var n,i,r,a,o,s,c,l,u;(null===(r=null===(i=null===(n=this.props.orderData)||void 0===n?void 0:n.currentUser)||void 0===i?void 0:i.purchaseOrder)||void 0===r?void 0:r.state)&&J.includes(this.props.orderData.currentUser.purchaseOrder.state)&&this.onPurchaseSuccess(),(null===(s=null===(o=null===(a=this.props.orderData)||void 0===a?void 0:a.currentUser)||void 0===o?void 0:o.purchaseOrder)||void 0===s?void 0:s.state)&&Z.includes(this.props.orderData.currentUser.purchaseOrder.state)&&t.purchasing&&(null===(u=null===(l=null===(c=e.orderData)||void 0===c?void 0:c.currentUser)||void 0===l?void 0:l.purchaseOrder)||void 0===u?void 0:u.state)!==this.props.orderData.currentUser.purchaseOrder.state&&this.handlePurchaseFailure(JSON.stringify({purchase_order_error:this.props.orderData.currentUser.purchaseOrder.failureReason}),void 0,this.props.orderData.currentUser.purchaseOrder.failureReason||void 0)},t.prototype.componentWillUnmount=function(){clearInterval(this.pollingID),clearTimeout(this.timeoutID)},t.prototype.render=function(){var e;if(null===(e=this.props.data)||void 0===e?void 0:e.loading)return a.createElement(O,{oneClickDisplayType:this.props.oneClickDisplayType,isQuickSub:this.props.isQuickSub});if(!this.props.offerID||!this.props.data||!this.isEligible)return a.createElement(a.Fragment,null,this.props.children);switch(this.props.oneClickDisplayType){case H.ViewerCardGift:return a.createElement(U,{buttonPrice:this.discountedCheckoutPrice||this.checkoutPrice||"",channelID:this.props.channelID,channelLogin:this.props.channelLogin,preDiscountPrice:this.discountedCheckoutPrice?this.checkoutPrice:void 0,oneClickAction:this.completePurchase,purchasing:this.state.purchasing,recurlySPM:this.recurlySPM,onChangePaymentMethodClick:this.onChangePaymentMethodClick,onPrivacyPolicyLinkClick:this.onPrivacyPolicyLinkClick,onTermsOfSaleLinkClick:this.onTermsOfSaleLinkClick,tierNumber:this.props.tierNumber});case H.SubModal:return a.createElement(B,{productName:this.props.productName,buttonPrice:this.checkoutPrice||"",discountPrice:this.discountedCheckoutPrice,discountPercent:this.discountPercent,onGift:this.props.onGift,recurlySPM:this.recurlySPM,renewsMessage:this.props.renewsMessage,tierNumber:this.props.tierNumber,oneClickAction:this.completePurchase,purchasing:this.state.purchasing,isQuickSub:this.props.isQuickSub,onChangePaymentMethodClick:this.onChangePaymentMethodClick,onPrivacyPolicyLinkClick:this.onPrivacyPolicyLinkClick,onTermsOfSaleLinkClick:this.onTermsOfSaleLinkClick,channelID:this.props.channelID,channelLogin:this.props.channelLogin,modalSessionID:this.props.modalSessionID});default:return a.createElement(a.Fragment,null,this.props.children)}},t.prototype.onPurchaseSuccess=function(){var e,t,n;this.checkoutSessionTracker.track(k.b.CompletePurchaseClickSuccess,JSON.stringify({origin_id:null===(n=null===(t=null===(e=this.props.orderData)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.purchaseOrder)||void 0===n?void 0:n.id})),this.props.showCheckoutSuccess({offerID:this.props.offerID||"",quantity:this.props.quantity||1,productName:this.props.productName,giftRecipientIDs:this.props.giftRecipientIDs,checkoutSessionTracker:this.checkoutSessionTracker,tagBindings:this.props.tagBindings,multimonthGiftOffers:this.props.multimonthGiftOffers,orderHelpType:this.props.oneClickDisplayType===H.SubModal?v.b.Subscription:v.b.GiftSubscription}),this.props.onCheckoutFormOpen&&this.props.onCheckoutFormOpen()},t.prototype.createOneClickCheckoutSessionTracker=function(){var e,t,n,i,r,a,o=new k.a({checkoutSessionID:this.props.paymentSession.checkoutSessionID||"",source:this.trackingContext.source,sourceDetail:this.trackingContext.detail,tenantTracking:JSON.stringify(this.trackingContext.tenantTracking)||"",offerID:this.props.offerID||"",quantity:this.props.quantity||1,subsTicketOwnerID:this.props.channelID,productType:"subscription"});switch(null===(e=this.recurlySPM)||void 0===e?void 0:e.paymentType.toUpperCase()){case h.Tc.CREDIT_CARD:o.activePaymentMethod="credit_card";break;case h.Tc.PAYPAL:o.activePaymentMethod="paypal";break;case h.Tc.AMAZON:o.activePaymentMethod="amazon_pay"}return o.activePaymentProvider="recurly",o.savedPaymentInstrumentType=null===(t=this.recurlySPM)||void 0===t?void 0:t.paymentType,o.paymentProvider=h.Vc.RECURLY,o.tagBindings=null===(i=null===(n=this.props.data)||void 0===n?void 0:n.purchasableOffer)||void 0===i?void 0:i.tagBindings,o.tplr=null===(a=null===(r=this.props.data)||void 0===r?void 0:r.purchasableOffer)||void 0===a?void 0:a.tplr,o.countryCode=this.residenceCountry,o.checkoutPrice=this.checkoutPriceSummary,o},Object.defineProperty(t.prototype,"checkoutSessionTracker",{get:function(){return this.oneClickCheckoutSessionTracker||(this.oneClickCheckoutSessionTracker=this.createOneClickCheckoutSessionTracker()),this.oneClickCheckoutSessionTracker},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEligible",{get:function(){var e,t,n,i,r,a;return!this.hasWalletBallance&&!this.spmBlocked&&this.eligibleRecurlySPM&&this.paymentMethodEnabled&&!!this.checkoutPrice&&(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.purchaseType)===h.Lc.DEFAULT_PURCHASE&&!!(null===(a=null===(r=null===(i=this.props.data)||void 0===i?void 0:i.purchasableOffer)||void 0===r?void 0:r.eligibility)||void 0===a?void 0:a.isEligible)&&"variant"===b.q.experiments.getAndTrackAssignment(f.c.OneClickCheckoutV01)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlySPM",{get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.paymentMethods)||void 0===n?void 0:n.find((function(e){return e.provider.toUpperCase()===h.Vc.RECURLY}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"residenceCountry",{get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.residence)||void 0===n?void 0:n.countryCode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eligibleRecurlySPM",{get:function(){return!!this.recurlySPM&&(this.ipCountryCode===this.recurlySPM.billingCountry?this.validCountries.includes(this.recurlySPM.billingCountry):!!this.residenceCountry&&this.validCountries.includes(this.residenceCountry))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentMethodEnabled",{get:function(){var e,t,n,i,r=this;return!!this.recurlySPM&&!!(null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.eligiblePaymentMethods)||void 0===i?void 0:i.some((function(e){var t,n,i;if(e.availabilityStatus!==h.Uc.AVAILABLE)return!1;switch(e.name){case h.Tb.AMAZON_PAY:return(null===(t=r.recurlySPM)||void 0===t?void 0:t.paymentType)===h.Tc.AMAZON;case h.Tb.CREDIT_CARD:return(null===(n=r.recurlySPM)||void 0===n?void 0:n.paymentType)===h.Tc.CREDIT_CARD;case h.Tb.PAYPAL:return(null===(i=r.recurlySPM)||void 0===i?void 0:i.paymentType)===h.Tc.PAYPAL;default:return!1}})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spmBlocked",{get:function(){var e;return!!(null===(e=this.checkoutActions)||void 0===e?void 0:e.includes(h.R.BLOCK_SAVED_PAYMENT_METHOD))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutPrice",{get:function(){var e,t,n;if((null===(e=this.checkoutPriceSummary)||void 0===e?void 0:e.total)&&void 0!==!(null===(t=this.checkoutPriceSummary)||void 0===t?void 0:t.exponent)&&(null===(n=this.checkoutPriceSummary)||void 0===n?void 0:n.currency))return Object(W.a)(Object(W.c)(this.checkoutPriceSummary.total,this.checkoutPriceSummary.exponent),this.checkoutPriceSummary.currency)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"discountedCheckoutPrice",{get:function(){var e,t,n,i,r,a;if((null===(t=null===(e=this.checkoutPriceSummary)||void 0===e?void 0:e.discount)||void 0===t?void 0:t.total)&&void 0!==(null===(n=this.checkoutPriceSummary)||void 0===n?void 0:n.exponent)&&(null===(i=this.checkoutPriceSummary)||void 0===i?void 0:i.currency))return Object(W.a)(Object(W.c)(null===(a=null===(r=this.checkoutPriceSummary)||void 0===r?void 0:r.discount)||void 0===a?void 0:a.total,this.checkoutPriceSummary.exponent),this.checkoutPriceSummary.currency)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"discountPercent",{get:function(){var e,t,n,i;return null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.promotion)||void 0===n?void 0:n.promoDisplay)||void 0===i?void 0:i.discountPercent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutPriceSummary",{get:function(){var e,t,n,i,r,a;return null===(a=null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===i?void 0:i.self)||void 0===r?void 0:r.recurlyCheckoutPrice)||void 0===a?void 0:a.checkoutPriceSummary},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutActions",{get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutActions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasWalletBallance",{get:function(){var e,t,n,i=this;return!!(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.balances)||void 0===n?void 0:n.some((function(e){var t;return!!e&&e.currency===(null===(t=i.checkoutPriceSummary)||void 0===t?void 0:t.currency)&&e.amount>0})))},enumerable:!0,configurable:!0}),t.prototype.trackCommonEvents=function(){var e,t,n;this.checkoutSessionTracker.track(k.b.CheckoutActionCheck,JSON.stringify({rules_triggered:null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutActions})),this.checkoutSessionTracker.track(k.b.LoadSuccess),this.checkoutSessionTracker.track(k.b.CompletePurchaseShown)},t.prototype.startPolling=function(e){var t,n=this;null===(t=this.props.orderData)||void 0===t||t.refetch({purchaseOrderID:e,includeOrder:!0}),this.pollingID=setInterval((function(){var t;null===(t=n.props.orderData)||void 0===t||t.refetch({purchaseOrderID:e,includeOrder:!0})}),1e3),this.timeoutID=setTimeout((function(){clearInterval(n.pollingID),n.handlePurchaseFailure()}),6e4)},t}(a.Component);var ee=Object(s.d)(Object(o.b)((function(e){return{user:Object(g.e)(e)}}),(function(e){return Object(s.b)({showSubscriptionCheckout:y.b,showCheckoutSuccess:y.a},e)})),Object(l.a)((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{paymentSession:{deviceID:b.q.session.deviceID,localStorageDeviceID:b.q.session.localStorageDeviceID,tabSessionID:b.q.session.tabID,pageSessionID:b.q.session.pageviewID,checkoutSessionID:e.checkoutSessionID||Object(m.b)()},tagBindings:(t=e.giftingAnonymously,n=e.productID,i=e.channelID,a=[],a.push({key:"is_anonymous",value:t?"true":"false"}),n&&a.push({key:"product_id",value:n}),i&&a.push({key:"channel_id",value:i}),a)});var t,n,i,a})),Object(c.a)(K,{options:function(e){return{variables:{params:{offerID:e.offerID||"",tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs},quantity:e.quantity||1,paymentSession:e.paymentSession,walletType:h.Ue.GIFT_CARD}}},skip:function(e){var t;return Object(d.c)()||!z(null===(t=e.user)||void 0===t?void 0:t.id)}}),Object(c.a)(Y,{name:"orderData",options:function(){return{variables:{purchaseOrderID:"",includeOrder:!1}}},skip:function(e){var t;return Object(d.c)()||!z(null===(t=e.user)||void 0===t?void 0:t.id)}}),Object(c.a)(Q,{name:"purchaseOfferMutation"}))($);n.d(t,"b",(function(){return H})),n.d(t,"a",(function(){return ee}))},QHJn:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pendingSubscription"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PendingSubscription"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:80}};n.loc.source={body:"fragment pendingSubscription on PendingSubscription {\nprice\nstartsAt\ntier\ntype\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},QOn5:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("3Bft"),s=n("DMoW"),c=n("4rCz"),l=n("QDWv"),u=n("YVOQ"),d=n("PZ6D"),p=n("DnOo"),m=n("a5fV"),f=n("0WFu"),h=n("br9A"),g=n("yymn"),b=n("Ws8v"),y=n("sUnt"),v=n("+80q"),k=n("dEDE"),S=n("C7sF"),C=n("/7QA"),E=n("w09P"),O=n("ANjH"),P=n("yR8l"),N=n("esZd"),j=n("8qOS"),D=n("geRD"),T=n("2xye"),w=n("a6LY"),I=n("GnwI"),x=n("O4UZ"),A=n("7uM4"),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(x.f)(this.props.errorType);return a.createElement(b.a,{background:g.d.Alt2,display:g.g.Flex,justifyContent:g.l.Center,padding:{y:1},margin:{bottom:1},textAlign:g.p.Center,"data-test-selector":this.props.testTarget,"data-a-target":this.props.testTarget},a.createElement(v.a,{type:v.e.H4,align:g.q.Middle},a.createElement(b.a,{padding:1,display:g.g.InlineFlex,flexGrow:1,flexWrap:g.i.NoWrap,alignItems:g.b.Center,textAlign:g.p.Left,fontSize:this.props.fontSize?this.props.fontSize:g.j.Size5,"data-a-target":"prime-error-glitch"},a.createElement(y.a,{margin:{right:1},display:g.g.InlineFlex,flexGrow:1,flexWrap:g.i.NoWrap,alignItems:g.b.Center},a.createElement(A.a,{asset:S.a.DeadGlitch,type:A.b.Alert,width:20,height:20})),a.createElement(v.a,{type:v.e.P},e))))},t}(a.Component),_=Object(I.withLatencyTracking)("PrimeError",{autoReportInteractive:!0})(M),F=n("Rjl4"),R=n("vCsY"),B=n("PL8s"),L=n("D/KL"),U=n("JRpg"),G="subscribe-button__prime-subscribe",q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isSubscribing:!1,primeSubFailure:!1,error:void 0},t.referralID=Object(F.e)(),t.handleStartPrimeTrialClick=function(){t.props.handleSubMenuAction({action:h.a.ClickSignupForPrime}),Object(F.t)({tp_refcode:t.referralID,content:T.PageviewContent.ChannelSubscribeButton,medium:T.PageviewMedium.Channel,tp_campaign:F.b.TrackingAlpha})},t.getErrorType=function(){return t.state.error||x.b.UNABLE_TO_SPEND},t.spendPrimeCredit=function(){t.setState({isSubscribing:!0});var e=t.props,n=e.data;if(t.isUserDataReady(e)&&n.currentUser&&n.currentUser.id&&n.user&&n.user.id){var i=n.user.id,a=n.currentUser.id,c=Object(D.a)({broadcasterID:i,userID:a});t.props.handleSubMenuAction({action:h.a.SubWithPrime}),t.props.spendPrimeSubscriptionCredit(c).then((function(e){var n=e.data&&e.data.spendSubscriptionCredit&&e.data.spendSubscriptionCredit.error;if(n){var i=x.b[n.code];t.setState({isSubscribing:!1,primeSubFailure:!0,error:i||x.b.UNABLE_TO_SPEND})}else t.setState({isSubscribing:!1,primeSubFailure:!1,error:void 0}),Object(D.j)(U,{login:t.props.channelLogin},(function(e){var t=e.user;return t&&t.self&&t.id?E(e,(function(e){return e.user.self}),(function(e){var n=e.subscriptionBenefit||{__typename:"SubscriptionBenefit",id:t.id,purchasedWithPrime:!0,tier:o.a.Prime,platform:s.he.WEB,gift:{__typename:"SubscriptionGift",isGift:!1,gifter:null},renewsAt:null,endsAt:null,paidUpgrade:null};return Object(r.__assign)(Object(r.__assign)({},e),{canPrimeSubscribe:!1,subscriptionBenefit:n})})):e}))})).catch((function(){t.setState({isSubscribing:!1,primeSubFailure:!0,error:x.b.UNABLE_TO_SPEND})}))}},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.data.loading&&!this.props.data.error||this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.props.data.loading&&!this.props.data.error||this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){if(this.state.isSubscribing)return a.createElement(k.a,Object(r.__assign)({"data-test-selector":G,disabled:this.state.isSubscribing,icon:S.a.CrownFilled,state:k.c.Loading},Object(R.a)(this.props)));if(this.state.primeSubFailure){var e=this.getErrorType();return a.createElement(_,{fontSize:g.j.Size6,testTarget:"prime-sub-error",errorType:e})}if(!this.isUserDataReady(this.props))return a.createElement(B.a,{width:82,height:30});var t=this.canPrimeSubscribe(this.props),n=this.canResub(this.props),i=this.willPrimeSubCreditRenew(),o=this.primeSubCreditRenewalDate();if(!this.props.data.currentUser||!this.props.data.currentUser.hasPrime){var s=Object(C.d)("Start Your Free Trial","PrimeSubscribe");return a.createElement(k.a,Object(r.__assign)({"aria-label":s,"data-test-selector":G,icon:S.a.CrownFilled,linkTo:Object(F.d)(C.a.tryPrimeURI,this.referralID),onClick:this.handleStartPrimeTrialClick},Object(R.a)(this.props),{targetBlank:!0}),s)}if(this.isSubscribed(this.props)&&!n){var c=Object(C.d)("Subscribed","PrimeSubscribe");return a.createElement(k.a,Object(r.__assign)({"aria-label":c,"data-a-target":"subscribe-with-prime-button","data-test-selector":G,disabled:!0,icon:S.a.CrownFilled},Object(R.a)(this.props)),c)}var l=Object(C.d)("Subscribe Free","PrimeSubscribe");if(!t){var u=i&&o&&Object(C.c)(new Date(o),{month:"long",day:"numeric"}),d=u&&Object(C.d)("Prime Subscription available {availableDate}",{availableDate:u},"PrimeSubscribe");return a.createElement(y.a,{display:g.g.Flex,flexWrap:g.i.NoWrap,alignItems:g.b.Center},d&&a.createElement(y.a,{margin:{right:2},breakpointLarge:{margin:{right:1}}},a.createElement(v.a,{color:g.f.Alt2,bold:!0,align:g.q.Middle},d)),a.createElement(k.a,Object(r.__assign)({"aria-label":l,"data-test-selector":G,disabled:!0,icon:S.a.CrownFilled},Object(R.a)(this.props)),l))}var p=n?Object(C.d)("Resubscribe Free","PrimeSubscribe"):l;return a.createElement(k.a,Object(r.__assign)({"aria-label":p,"data-test-selector":G,"data-a-target":"subscribe-with-prime-button",disabled:this.state.isSubscribing,icon:S.a.CrownFilled,state:this.state.isSubscribing?k.c.Loading:k.c.Default,onClick:this.spendPrimeCredit},Object(R.a)(this.props)),p)},t.prototype.isUserDataReady=function(e){return e.data&&e.data.user&&!e.data.loading&&!e.data.error},t.prototype.canPrimeSubscribe=function(e){var t,n;return e.data&&e.data.user&&e.data.user.self&&e.data.user.self.canPrimeSubscribe&&!(null===(n=null===(t=e.userBanStatus)||void 0===t?void 0:t.chatRoomBanStatus)||void 0===n?void 0:n.isPermanent)},Object.defineProperty(t.prototype,"primeSubCreditBenefit",{get:function(){return this.props.data&&this.props.data.user&&this.props.data.user.self&&this.props.data.user.self.primeSubCreditBenefit},enumerable:!0,configurable:!0}),t.prototype.willPrimeSubCreditRenew=function(){return this.primeSubCreditBenefit&&this.primeSubCreditBenefit.willRenew},t.prototype.primeSubCreditRenewalDate=function(){return this.primeSubCreditBenefit&&this.primeSubCreditBenefit.renewalDate},t.prototype.canResub=function(e){return e.data&&e.data.user&&e.data.user.self&&e.data.user.self.subscriptionBenefit&&e.data.user.self.subscriptionBenefit.purchasedWithPrime&&this.canPrimeSubscribe(this.props)},t.prototype.isSubscribed=function(e){var t=e.data,n=t&&t.user,i=n&&n.self;return i&&i.subscriptionBenefit},t}(a.Component),z=Object(O.d)(Object(I.withLatencyTracking)("PrimeSubscribe"),Object(P.a)(U,{options:function(e){var t;return{variables:{login:null!==(t=e.channelLogin)&&void 0!==t?t:""}}},skip:function(e){return!e.channelLogin}}),Object(P.a)(L,{name:"spendPrimeSubscriptionCredit"}),Object(N.a)((function(e){var t,n,i,a,o,s;return Object(r.__assign)(Object(r.__assign)({},e),{targetID:null!==(i=null===(n=null===(t=e.data)||void 0===t?void 0:t.currentUser)||void 0===n?void 0:n.id)&&void 0!==i?i:"",channelID:null!==(s=null===(o=null===(a=e.data)||void 0===a?void 0:a.user)||void 0===o?void 0:o.id)&&void 0!==s?s:"",source:w.c.ReadOnly})})),j.a)(q),H=n("Jsra"),V=function(e){return a.createElement(a.Fragment,null,a.createElement(y.a,{"data-test-selector":i.PrimeSubPlan,flexGrow:2,padding:1},a.createElement(v.a,{bold:!0},Object(C.d)("Free Subscription with Prime","SubPlan")),a.createElement(v.a,null,e.hasPrime?Object(C.d)("Use your free sub to support your favorite streamer. <x:link>Learn more</x:link>",{"x:link":function(e){return a.createElement(H.a,{linkTo:"https://www.amazongames.com/en-us/support/twitch-prime/",targetBlank:!0},e)}},"SubPlan"):Object(C.d)("Get monthly games and in-game loot, a monthly Twitch channel subscription, and loads more with Prime.","SubPlan"))),a.createElement(y.a,{display:g.g.Flex,alignItems:g.b.Center,justifyContent:g.l.End,fullHeight:!0,margin:1},a.createElement(z,{"data-a-target":"subscribe-with-prime-button",handleSubMenuAction:e.handleSubMenuAction,channelLogin:e.channelLogin})))};!function(e){e.RenewsMessage="subplanrenews",e.PrimeSubPlan="primesubplan",e.TieredSubPlan="tieredsubplan"}(i||(i={}));var W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onGift=function(){var e,n,i,r,a,s,c,l;switch(Object(f.b)(t.props.product.tier)){case 1:null===(n=(e=t.props).onGift)||void 0===n||n.call(e,o.b.Tier1);break;case 2:null===(r=(i=t.props).onGift)||void 0===r||r.call(i,o.b.Tier2);break;case 3:null===(s=(a=t.props).onGift)||void 0===s||s.call(a,o.b.Tier3);break;default:null===(l=(c=t.props).onGift)||void 0===l||l.call(c,o.b.Tier1)}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=Object(f.b)(this.props.product.tier),n=Object(d.i)(this.props.product),o=null==n?void 0:n[0],s=Object(m.d)(o)||Object(m.e)(this.props.product),u=this.props.isQuickSub?{borderBottom:!0,borderRadius:g.e.None}:{border:!0,borderRadius:g.e.Medium};return this.props.primeSubPlan?a.createElement(b.a,Object(r.__assign)({},u,{display:g.g.Flex,flexDirection:g.h.Row,justifyContent:g.l.End,padding:1,flexWrap:g.i.Wrap}),a.createElement(V,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,hasPrime:this.props.primeSubPlan.hasPrime})):a.createElement(l.a,{oneClickDisplayType:l.b.SubModal,productName:this.props.product.name,offerID:null==o?void 0:o.id,productID:this.props.product.id,channelID:this.props.channelID,channelLogin:this.props.channelLogin,onGift:this.props.onGift?this.onGift:void 0,renewsMessage:Y(this.props.product,o),tierNumber:Object(f.b)(this.props.product.tier),isQuickSub:this.props.isQuickSub,modalSessionID:this.props.modalSessionID,checkoutSessionID:this.props.checkoutSessionID},a.createElement(b.a,Object(r.__assign)({},u,{display:g.g.Flex,flexDirection:g.h.Row,justifyContent:g.l.End,padding:1,flexWrap:g.i.Wrap}),a.createElement(a.Fragment,null,a.createElement(y.a,{flexGrow:1,"data-test-selector":i.TieredSubPlan,padding:1},a.createElement(v.a,{bold:!0},t?Object(c.d)("Tier {tierNumber} Subscription",{tierNumber:t},"SubModalPlan"):Object(c.d)("Subscription","SubModalPlan")),a.createElement(v.a,{"data-test-selector":i.RenewsMessage},Y(this.props.product,o))),a.createElement(y.a,{display:g.g.Flex,justifyContent:g.l.End,alignItems:g.b.Start,margin:1},this.props.onGift&&a.createElement(y.a,{margin:{right:1}},a.createElement(k.a,{"data-a-target":"gift-a-subscription",type:k.d.Secondary,icon:S.a.Gift,onClick:this.onGift},Object(c.d)("Gift","SubModalPlan"))),a.createElement(p.a,{"data-a-target":"subscribe-button-tier-"+this.props.product.tier,handleSubAction:this.props.handleSubMenuAction,icon:S.a.Star,isSubbedToTier:Q(this.props.product,this.props.subscriptionBenefit),overrideSubEventAction:this.props.isQuickSub?h.a.BuyQuickSub:void 0,productName:this.props.product.name,tierPrice:s,url:this.props.product.url,offerID:null==o?void 0:o.id,isEligible:null===(e=null==o?void 0:o.eligibility)||void 0===e?void 0:e.isEligible,multiMonthOffers:n,product:this.props.product,subscriptionBenefit:this.props.subscriptionBenefit})))))},t}(a.Component);function Y(e,t){var n=Object(m.b)(e.priceInfo),i=Object(m.d)(t)||Object(m.e)(e);switch(e.interval.unit){case s.ge.MONTH:return n===i?Object(c.d)("Renews monthly at {price}",{price:n},"SubModalPlan"):Object(c.d)("First month for {discountedPrice}, renews monthly thereafter at {price}",{price:n,discountedPrice:i},"SubModalPlan");case s.ge.WEEK:return Object(c.d)("Renews weekly at {price}",{price:n},"SubModalPlan");case s.ge.YEAR:return Object(c.d)("Renews yearly at {price}",{price:n},"SubModalPlan");case s.ge.ONE_TIME:return Object(c.d)("One-time purchase","SubModalPlan");default:return null}}function Q(e,t){if(!t)return!1;var n=Number(t.tier);isNaN(n)&&(n=1e3);var i=Number(e.tier);return isNaN(i)&&(i=1e3),i===n}var K=Object(u.b)((function(e){return{channelID:e.channel.id,modalSessionID:e.modalSessionId,checkoutSessionID:e.checkoutSessionID}}))(W);n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return Q})),n.d(t,"a",(function(){return K}))},Qyjw:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("/7QA"),l=n("y5D0"),u=n("4uwt"),d=n("D/1V"),p=n("rACw"),m=n("EMHe"),f=n("8Z7p"),h=n("aw6k"),g=n("sUnt"),b=n("+80q"),y=n("akKH"),v=n("3aAs"),k=n("Jsra"),S=n("GsKU"),C=n("1/wt");!function(e){e.AddEmailButton="add-email-form__add-email-button"}(i||(i={}));var E,O,P;!function(e){e[e.AddressNotAllowed=1]="AddressNotAllowed",e[e.DomainNotAllowed=2]="DomainNotAllowed",e[e.DomainNotAllowedForAdmins=3]="DomainNotAllowedForAdmins",e[e.InvalidAddress=4]="InvalidAddress",e[e.UnknownError=5]="UnknownError"}(E||(E={})),function(e){e[e.EnterEmail=0]="EnterEmail",e[e.VerifyPassword=1]="VerifyPassword"}(O||(O={})),function(e){e[e.Modal=0]="Modal",e[e.Inline=1]="Inline"}(P||(P={}));var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:"",saveStatus:m.b.NoChanges,formStep:O.EnterEmail},t.logger=c.k.withCategory("add-email-form"),t.onChange=function(e){var n=m.b.DirtyChanges;Object(p.b)(e.currentTarget.value)||(n=m.b.NoChanges),t.setState({saveStatus:n,value:e.currentTarget.value})},t.saveForm=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return this.props.currentUserID?(this.setState({saveStatus:m.b.Working,submitError:void 0}),e=m.b.Error,t=O.EnterEmail,n=void 0,[4,Object(h.b)(this.state.value,this.props.currentUserID,this.logger)]):[2];case 1:return i=r.sent(),a=i&&i.error&&i.error.message,i&&200===i.status?(e=m.b.Success,this.props.onSaveSuccess()):i&&a&&(this.props.onSaveError&&this.props.onSaveError(a),n=E.UnknownError,a.includes(f.a.EmailNotValid)?n=E.InvalidAddress:a.includes(f.a.EmailAdminDomainRequired)?n=E.DomainNotAllowedForAdmins:a.includes(f.a.EmailDomainNotAllowed)?n=E.DomainNotAllowed:a.includes(f.a.EmailNotAllowed)?n=E.AddressNotAllowed:a.includes(f.a.SudoTokenInvalid)||a.includes(f.a.SudoTokenMissing)?this.props.verificationType===P.Inline?t=O.VerifyPassword:this.props.verifyPassword(this.props.passportActionSource,{onComplete:this.saveForm}):Object(h.a)(i,this.props.currentUserID,this.logger)),this.setState({saveStatus:e,submitError:n,formStep:t}),[2]}}))}))},t.handleNotificationClose=function(){t.setState({submitError:void 0})},t.onPasswordVerificationComplete=function(){return t.setState({formStep:O.EnterEmail}),t.saveForm(),Promise.resolve()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){if(this.state.formStep===O.VerifyPassword&&this.props.verificationType===P.Inline)return a.createElement(u.a,{flow:d.a.PasswordVerification,action:this.props.passportActionSource,onAuthenticated:this.onPasswordVerificationComplete});var e=this.state.submitError;return a.createElement(a.Fragment,null,e&&a.createElement(g.a,{margin:{bottom:1}},this.renderErrorNotification(e)),a.createElement(g.a,{margin:{bottom:1}},a.createElement(b.a,null,this.props.descriptionText)),a.createElement(y.a,{label:Object(c.d)("Email Address","AddEmailForm"),error:!!e},a.createElement(g.a,{margin:{y:1}},a.createElement(v.a,{id:"add-email-form__email-input",onChange:this.onChange,type:v.c.Email,value:this.state.value,placeholder:Object(c.d)("pog@champ.com","AddEmailForm")})),a.createElement(m.a,{status:this.state.saveStatus,onClick:this.saveForm,"data-a-target":"add-email-to-account-button"},this.state.saveStatus===m.b.Error?Object(c.d)("Failed to add email. Try again.","AddEmailForm"):Object(c.d)("Add Email to Account","AddEmailForm"))))},t.prototype.renderErrorNotification=function(e){var t,n=Object(c.d)("Error adding email","AddEmailForm");switch(e){case E.AddressNotAllowed:n=Object(c.d)("Email not allowed","AddEmailForm"),t=Object(c.d)("Unable to change email address - Please use a different email address.","AddEmailForm");break;case E.InvalidAddress:t=Object(c.d)("Please provide a valid email address.","AddEmailForm");break;case E.DomainNotAllowed:t=Object(c.d)("Emails using that domain are not allowed - Please use a different email address.","AddEmailForm");break;case E.DomainNotAllowedForAdmins:t=Object(c.d)("Admins must use their work email address.","AddEmailForm");break;default:n=Object(c.d)("An unexpected error occurred","AddEmailForm"),t=Object(c.d)("Your email could not be added at this time. Please try again. If the problem persists, <x:link>contact support</x:link>.",{"x:link":function(e){return a.createElement(k.a,{linkTo:"https://help.twitch.tv/customer/portal/emails/new",targetBlank:!0},e)}},"AddEmailForm")}return a.createElement(S.a,{type:C.a.Error,message:{title:n,description:t},closeButton:{"aria-label":Object(c.d)("Close notification","AddEmailForm"),onClick:this.handleNotificationClose}})},t}(a.Component);var j=Object(o.b)((function(e){return{currentUserID:e.session.user&&e.session.user.id||null}}),(function(e){return Object(s.b)({verifyPassword:function(e,t){return Object(l.h)(e,t)}},e)}))(N);n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return P}))},S2z6:function(e,t,n){},SPyc:function(e,t,n){e.exports=n.p+"assets/discover-d67f6b00db816208999c.svg"},SXhr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsBundleSuccessScreen"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsBundleOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asin"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:119}};n.loc.source={body:"query BitsBundleSuccessScreen {\ncurrentUser {\nid\nbitsBalance\nbitsOffers {\nid\nbits\n... on BitsBundleOffer {\nasin\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BitsBundleSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"BitsBundleSuccessScreen")},TSpM:function(e,t,n){e.exports=n.p+"assets/amazon_pay_2x-2eccd73373faaefa6764.png"},TbBp:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Jgup"),r=new Set(["A1","A2","AP","AQ","CU","EU","IR","KP","MM","O1","SD","SS","SY","TL"]),a=i.a.filter((function(e){return!r.has(e)}))},TjQE:function(e,t,n){e.exports=n.p+"assets/sub_token-d2a8ccd2958eaf734587.svg"},UI0n:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("3Bft"),s=n("4rCz"),c=n("JHQz"),l=n("+80q"),u=n("sUnt"),d=n("yymn"),p=n("hnjF"),m=n("Z2sP"),f=n("Ws8v"),h=n("NB5H"),g=n("/7QA"),b=n("fQWD"),y=n("66/j"),v=function(e){var t=e.badge,n=parseInt(t.version,10);return a.createElement(u.a,{alignItems:d.b.Center,className:e.className,display:d.g.Flex,flexDirection:d.h.Column,flexShrink:0,margin:{top:1}},a.createElement(b.a,{badge:Object(y.b)(t),hideTooltip:!0,large:!0}),a.createElement(u.a,{margin:{top:.5}},a.createElement(l.a,{className:e.className+"--text",fontSize:d.j.Size7},n>=12?Object(g.d)("{years}-Year",{years:n/12},"SubBadge"):Object(g.d)("{months}-Month",{months:0===n?1:n},"SubBadge"))))};n("hWJn");n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return P})),n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return j})),function(e){e.Anniversarymessage="subanniversarymessage",e.RenewsMessage="subrenewsmessage",e.TenureMessage="subtenuremessage",e.FounderBadge="founderbadge"}(i||(i={}));var k=96,S=5,C=2e3,E=2999,O=3e3,P=3999,N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=j(function(e,t){if(!t||(null==t?void 0:t.tier)===o.a.Tier1||(null==t?void 0:t.tier)===o.a.Custom)return e.filter((function(e){return parseInt(e.version,10)<=k}));switch(t.tier){case o.a.Tier2:return e.filter((function(e){return parseInt(e.version,10)>=C&&parseInt(e.version,10)<=E})).map((function(e){return Object.assign({},e,{version:(parseInt(e.version,10)-C).toString()})}));case o.a.Tier3:return e.filter((function(e){return parseInt(e.version,10)>=O&&parseInt(e.version,10)<=P})).map((function(e){return Object.assign({},e,{version:(parseInt(e.version,10)-O).toString()})}))}return e}(this.props.subBadges,this.props.subscriptionBenefit),this.props.tenure),t=this.getMonthsRemaining(e.slice(0,2)),n=null;if(this.props.subscriptionBenefit){var r=null;if(this.props.tenure){var c=this.props,m=c.tenure,f=c.streakTenure,h=c.formattedDisplayName,g=c.subscriptionBenefit;r=f?Object(s.d)("You've been subscribed to {channelName} for <x:bold>{monthCount} months</x:bold> with a current streak of <x:bold>{streakCount}</x:bold> months.",{channelName:h,monthCount:m.months,streakCount:f.months,"x:bold":function(e){return a.createElement(l.a,{bold:!0,type:l.e.Span},e)}},"SubTenureBadgeProgress"):Object(s.d)("You've been subscribed to {channelName} for <x:bold>{monthCount} months</x:bold>.",{channelName:h,monthCount:m.months,"x:bold":function(e){return a.createElement(l.a,{bold:!0,type:l.e.Span},e)}},"SubTenureBadgeProgress");var b=new Date;b.setDate(b.getDate()+m.daysRemaining);var y=Object(s.d)("Next Sub Anniversary on <x:bold>{formattedDate}</x:bold> ({relativeDate})",{formattedDate:Object(s.c)(b,{month:"short",day:"numeric"}),relativeDate:Object(s.i)(b,{units:"day"}),"x:bold":function(e){return a.createElement(l.a,{bold:!0,type:l.e.Span},e)}},"SubTenureBadgeProgress"),v=null;if(g.renewsAt){var N=new Date(g.renewsAt);v=Object(s.d)("Sub renews on <x:bold>{formattedDate}</x:bold> ({relativeDate})",{formattedDate:Object(s.c)(N,{month:"short",day:"numeric"}),relativeDate:Object(s.i)(N,{units:"day"}),"x:bold":function(e){return a.createElement(l.a,{bold:!0,type:l.e.Span},e)}},"SubTenureBadgeProgress")}n=a.createElement(u.a,{display:d.g.Flex,flexDirection:d.h.Column,justifyContent:d.l.Center,textAlign:d.p.Center,padding:{x:2,top:2}},a.createElement(l.a,{"data-test-selector":i.TenureMessage},r),a.createElement(u.a,{display:d.g.Flex,flexDirection:d.h.Row,justifyContent:d.l.Center},a.createElement(l.a,{"data-test-selector":i.Anniversarymessage},y),v&&a.createElement(a.Fragment,null,a.createElement(u.a,{margin:{x:1}},Object(s.d)("|","SubTenureBadgeProgress")),a.createElement(l.a,{"data-test-selector":i.RenewsMessage},v))))}}else n=a.createElement(l.a,null,this.getBadgeBenefitMessage(t));return a.createElement(u.a,null,a.createElement(p.a,{margin:{bottom:1}},n),this.getNextBadgeProgress(e,S))},t.prototype.getNextBadgeProgress=function(e,t){var n=e.slice(0,t),i=n.slice(0,2),r=n.slice(2),o=this.props.isFounder||this.props.isFounderBadgeAvailable,s=null;2===i.length&&this.props.tenure&&(s=Object(c.b)(this.props.tenure,i[0].version,i[1].version));var l=a.createElement(u.a,{className:"tenure-badge-progress__to-next-"+n.length},a.createElement(u.a,{display:d.g.Flex,fullWidth:!0,justifyContent:1!==n.length?d.l.Between:d.l.Center},i.map((function(e){return a.createElement(p.a,{zIndex:d.s.Above,key:e.version},a.createElement(v,{badge:e}))}))),i.length>1&&a.createElement(u.a,{className:"tenure-badge-progress__bar",position:d.n.Relative,margin:{left:2,right:3}},a.createElement(m.a,{size:m.c.Small,mask:!0,value:s||0}))),f=r.length>0&&a.createElement(u.a,{flexGrow:2,className:"tenure-badge-progress__future"},a.createElement(u.a,{display:d.g.Flex,fullWidth:!0,justifyContent:d.l.Between},a.createElement("div",{className:"tenure-badge-progress__placeholder-"+n.length}),r.map((function(e,t){return a.createElement(p.a,{zIndex:d.s.Above,key:e.version},a.createElement(v,{badge:e,className:t>1?"tenure-badge-progress__more-badges":void 0}))}))),a.createElement(u.a,{className:"tenure-badge-progress__bar",position:d.n.Relative},a.createElement(m.a,{size:m.c.Small,mask:!0,value:0}))),h=o?{right:2}:{x:2};return a.createElement(u.a,{display:d.g.Flex,padding:h,justifyContent:d.l.Center},o&&this.getFounderBadgeUpsellMarkup(),l,f)},t.prototype.getFounderBadgeUpsellMarkup=function(){return a.createElement(u.a,{padding:{right:2},"data-test-selector":i.FounderBadge},a.createElement(f.a,{borderRight:!0,display:d.g.Flex,fullWidth:!0,justifyContent:d.l.Center,padding:{right:2}},a.createElement(p.a,{zIndex:d.s.Above},a.createElement(h.a,{className:"tenure-badge-progress__founder"}))))},t.prototype.getMonthsRemaining=function(e){if(this.props.tenure){var t=this.props.tenure.months,n=e[1];if(n)return Math.max(Number(n.version)-t,0)}return 0},t.prototype.getBadgeBenefitMessage=function(e){var t=Object(s.d)("Instantly unlock your first Sub Badge and show your support.","SubTenureBadgeProgress");if(this.props.tenure&&this.props.tenure.months>0){var n=this.props.tenure.months;t=0===e?this.props.isFounder?Object(s.d)("Resubscribe to reclaim your <x:bold>Founder Badge</x:bold> and your highest unlocked Sub Badge. Total Months Subscribed: {totalMonths}",{totalMonths:n,"x:bold":function(e){return a.createElement(l.a,{bold:!0,type:l.e.Span},e)}},"SubTenureBadgeProgress"):Object(s.d)("Resubscribe to retrieve your highest unlocked Sub Badge. Total Months Subscribed: {totalMonths}",{totalMonths:n},"SubTenureBadgeProgress"):this.props.isFounder?Object(s.d)("{monthsRemaining, plural, one {Resubscribe to reclaim your <x:bold>Founder Badge</x:bold> and achieve your next Sub Badge in {monthsRemaining} month. Total Months Subscribed: {totalMonths}} other {Resubscribe to reclaim your <x:bold>Founder Badge</x:bold> and achieve your next Sub Badge in {monthsRemaining} months. Total Months Subscribed: {totalMonths}}}",{monthsRemaining:e,totalMonths:n,"x:bold":function(e){return a.createElement(l.a,{bold:!0,type:l.e.Span},e)}},"SubTenureBadgeProgress"):Object(s.d)("{monthsRemaining, plural, one {Resubscribe to achieve your next Sub Badge in {monthsRemaining} month. Total Months Subscribed: {totalMonths}} other {Resubscribe to achieve your next Sub Badge in {monthsRemaining} months. Total Months Subscribed: {totalMonths}}}",{monthsRemaining:e,totalMonths:n},"SubTenureBadgeProgress")}else this.props.isFounderBadgeAvailable&&(t=Object(s.d)("Unlock a <x:bold>Founder Badge</x:bold> as one of the first Subscribers, in addition to Sub Badges.",{"x:bold":function(e){return a.createElement(l.a,{bold:!0,type:l.e.Span},e)}},"SubTenureBadgeProgress"));return t},t}(a.Component);function j(e,t){var n=e;if(t){n=[];for(var i=null,r=0,a=e;r<a.length;r++){var o=a[r];Number(o.version)<=t.months?i=o:n.push(o)}null!==i&&n.unshift(i)}return n.length>S&&(n=n.slice(0,S)),n}},Uh2Q:function(e,t,n){"use strict";var i,r=n("NAv5"),a=n("/7QA"),o=(n("3Bft"),n("HGFl")),s=n("mrSG"),c=n("q1tI"),l=n("/MKj"),u=n("XDQu"),d=n("2tXM"),p=n("RiD7"),m=n("uG/k"),f=n("Jsra"),h=n("Ws8v"),g=n("yymn"),b=n("sUnt"),y=n("+80q");n("iJU5");!function(e){e.Container="lazy-carousel-container",e.Prev="lazy-carousel-prev-button",e.Next="lazy-carousel-next-button",e.NavDot="lazy-carousel-nav-dot",e.NavDotContainer="lazy-carousel-nav-dot-container",e.Animation="lazy-carousel-animation-container"}(i||(i={}));var v=[{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperJump/112.png",emoteString:"HyperJump"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperCheese/112.png",emoteString:"HyperCheese"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperSlam/112.png",emoteString:"HyperSlam"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperTiger/112.png",emoteString:"HyperTiger"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperCrown/112.png",emoteString:"HyperCrown"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperHex/112.png",emoteString:"HyperHex"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/hyperscape-megacommerce/hyperscape_emotes/HyperGravity/112.png",emoteString:"HyperGravity"}],k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currIndex:0},t.renderEmotes=v.map((function(e){return c.createElement(m.a,{key:e.emoteString,className:"mega-commerce-bitscard__emote",src:e.src,srcSet:{"112w":e.src},sizes:[{size:"28px"}],alt:e.emoteString})})),t.learnMoreElement=function(e){return c.createElement(f.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/s/article/hyper-scape",onClick:t.learnMoreClick},e)},t.learnMoreClick=function(){Object(p.o)({user_id:t.props.currentUserID||"",source:p.e.BitsCard})},t}return Object(s.__extends)(t,e),t.prototype.render=function(){return c.createElement(h.a,{className:"mega-commerce-bitscard__bg",borderRadius:g.e.Large,padding:{x:2,top:2}},c.createElement(b.a,null,c.createElement(y.a,{className:"mega-commerce-banner__title",fontSize:g.j.Size4,fontWeight:g.k.SemiBold,"data-test-selector":"MegaCommerceBitsCardCalloutTitle"},T()),c.createElement(b.a,{padding:{top:.5,bottom:1}},c.createElement(y.a,null,I(this.learnMoreElement)))),c.createElement(b.a,{display:g.g.Flex,justifyContent:g.l.Center,flexDirection:g.h.Row},this.renderEmotes),c.createElement(b.a,{padding:{bottom:1}},c.createElement(d.a,{onClickHelp:this.props.onClickHelp})))},t}(c.Component);var S,C=Object(l.b)((function(e){return{theme:Object(u.a)(e),currentUserID:e.session.user&&e.session.user.id||null}}))(k),E=n("5zXJ");n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return P})),n.d(t,"h",(function(){return j})),n.d(t,"c",(function(){return D})),n.d(t,"f",(function(){return T})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return I})),function(e){e.Cheer="CHEER",e.Subscription="SUBSCRIPTION",e.SubGift="SUBGIFT"}(S||(S={}));var O={startDateDynamicSetting:"megacommerce_hyperscape_start_date",endDateDynamicSetting:"megacommerce_hyperscape_end_date",eventDomain:"pride_megacommerce_2020",eventTestDomain:"pride_megacommerce_2020",intro:C,tier1ImageUrl:E.g+"/creator_luv/MegaCheer-01.png",tier2ImageUrl:E.g+"/creator_luv/MegaCheer-02.png",tier3ImageUrl:E.g+"/creator_luv/MegaCheer-03.png",tier4ImageUrl:E.g+"/creator_luv/MegaCheer-04.png"};function P(e){if(!e)return!1;var t=a.b.get(e.startDateDynamicSetting,"2020-05-01T20:00:00Z");if(Object(r.isAfter)(Object(o.e)(t),Date.now()))return!1;var n=a.b.get(e.endDateDynamicSetting,"2020-05-31T06:59:59Z");return Object(r.isAfter)(Object(o.e)(n),Date.now())}function N(e){var t=a.b.get(e.endDateDynamicSetting,"2020-05-31T06:59:59Z");return Object(o.e)(t)}function j(e,t){return!!t&&(e===t.eventDomain||e===t.eventTestDomain)}function D(){return"https://help.twitch.tv/s/article/hyper-scape"}function T(){return Object(a.d)("Unlock Hyper Scape Emotes","HyperScapeMegaCommerce")}function w(e){return Object(a.d)("Through {date}, Subscribe or Gift a sub to permanently unlock exclusive emotes to celebrate the Hyper Scape launch. <x:link>Learn More</x:link>",{date:Object(a.c)(N(O),{day:"numeric",month:"numeric"}),"x:link":function(t){return e(t)}},"HyperScapeMegaCommerce")}function I(e){return Object(a.d)("Be the first to permanently unlock Hyper Scape emotes! Through {date}, Cheer at least 300 Bits, Subscribe, or Gift a Sub to earn emotes and gift them to your community! <x:link>Learn More</x:link>",{date:Object(a.c)(N(O),{day:"numeric",month:"numeric"}),"x:link":function(t){return e(t)}},"HyperScapeMegaCommerce")}},"UxA+":function(e,t,n){e.exports=n.p+"assets/turbo-avatar-9ecb4d9e242f8782bad6.png"},"V/nq":function(e,t,n){"use strict";var i=n("obzc");n.d(t,"a",(function(){return i.a}))},V0gd:function(e,t,n){},V7AV:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.AllPaidTiers=0]="AllPaidTiers",e[e.CurrentSubscription=1]="CurrentSubscription",e[e.GiftSelect=2]="GiftSelect",e[e.UnsubbedTop=3]="UnsubbedTop",e[e.CommunityGiftSelect=4]="CommunityGiftSelect"}(i||(i={}))},VRha:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TurboSuccessScreen"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"query TurboSuccessScreen {\ncurrentUser {\nid\navailableBadges {\nid\nimageURL(size: QUADRUPLE)\nsetID\ntitle\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.TurboSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"TurboSuccessScreen")},VURH:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("1/iK"),l=n("f00E"),u=n("y5D0"),d=n("kRBY"),p=n("4rCz"),m=n("GnwI"),f=n("sUnt"),h=n("1rIY"),g=n("KriR"),b=Object(h.a)("CheckoutFormContext",{offerID:"",quantity:0,tagBindings:[],trackingContext:{source:g.a.Direct},giftRecipientIDs:[],isAnonymous:!1,paymentSession:{},onPurchaseSuccess:function(){},checkoutSessionTracker:{}}),y=b.context,v=b.withContext,k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(y.Provider,{value:this.contextValue},this.props.children)},Object.defineProperty(t.prototype,"contextValue",{get:function(){return{offerID:this.props.offerID,quantity:this.props.quantity,tagBindings:this.props.tagBindings,trackingContext:this.props.trackingContext,giftRecipientIDs:this.props.giftRecipientIDs,isAnonymous:this.props.isAnonymous,paymentSession:this.props.paymentSession,productName:this.props.productName,onPurchaseSuccess:this.props.onPurchaseSuccess,closeModal:this.props.closeModal,checkoutSessionTracker:this.props.checkoutSessionTracker,chargeInterval:this.props.chargeInterval,reportCustomLatency:this.props.reportCustomLatency,multimonthGiftOffers:this.props.multimonthGiftOffers,offerQuantityOverrides:this.props.offerQuantityOverrides,multiMonthOffers:this.props.multiMonthOffers,initialPurchaseOfferErrorCode:this.props.initialPurchaseOfferErrorCode,initialPurchaseOrderFailureReason:this.props.initialPurchaseOrderFailureReason}},enumerable:!0,configurable:!0}),t}(a.Component),S=Object(m.withLatencyTracking)("CheckoutFormContextManager",{autoReportInteractive:!0})(k),C=n("dMq0"),E=n("cZKs"),O=n("yR8l"),P=n("DMoW"),N=n("/7QA"),j=n("ABd2"),D=n("Qyjw"),T=n("+80q"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onEmailSaveSuccess=function(){t.props.checkoutSessionTracker.track(j.b.AddEmailClickAttempt),t.props.checkoutSessionTracker.track(j.b.AddEmailClickSuccess),t.props.onEmailSaveSuccess()},t.onEmailSaveError=function(e){t.props.checkoutSessionTracker.track(j.b.AddEmailClickAttempt),t.props.checkoutSessionTracker.track(j.b.AddEmailClickFailure,JSON.stringify({error:e}))},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.checkoutSessionTracker.track(j.b.AddEmailPrompt)},t.prototype.render=function(){return a.createElement(f.a,null,a.createElement(f.a,{margin:{bottom:1}},a.createElement(T.a,{type:T.e.H4},Object(N.d)("Add Email Address","CheckoutFormEmailScreen"))),a.createElement(D.a,{descriptionText:Object(N.d)("An email address is required to manage your purchases and payments. Enter a valid email address to be used with this account going forward and continue with your purchase.","CheckoutFormEmailScreen"),passportActionSource:c.a.SubsCheckoutPage,onSaveSuccess:this.onEmailSaveSuccess,onSaveError:this.onEmailSaveError,verificationType:D.b.Inline}))},t}(a.Component),I=Object(s.d)(Object(m.withLatencyTracking)("CheckoutFormEmailScreen",{autoReportInteractive:!0}),v((function(e){return Object(r.__assign)({},e)})))(w),x=n("ZDlU"),A=n("yymn"),M=n("dEDE"),_=(n("5RPz"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeModal=function(){t.props.checkoutSessionTracker.track(j.b.Close,JSON.stringify({close_button:"close_button"})),t.props.closeModal&&t.props.closeModal()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(f.a,{className:"checkout-form-error__content-container",display:A.g.Flex,justifyContent:A.l.Center,alignItems:A.b.Center,margin:{x:"auto"},padding:{y:5}},a.createElement(x.PageError,{inline:!0}),a.createElement(f.a,{display:A.g.Inline},a.createElement(T.a,{fontSize:A.j.Size5},Object(N.d)("Sorry, Something seems to have gone wrong. Please try again later.","CheckoutFormError")),!!this.props.closeModal&&a.createElement(f.a,{margin:{y:2}},a.createElement(M.a,{onClick:this.closeModal},Object(N.d)("Close","CheckoutFormError")))))},t}(a.PureComponent)),F=Object(s.d)(Object(m.withLatencyTracking)("CheckoutFormError",{autoReportInteractive:!0}),v((function(e){return Object(r.__assign)({},e)})))(_),R=n("GsKU"),B=n("1/wt"),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(R.a,{type:B.a.Error,message:{title:Object(N.d)("You are not eligible to make this purchase.","CheckoutFormIneligibleScreen"),description:""}})},t}(a.Component),U=Object(s.d)(Object(m.withLatencyTracking)("CheckoutFormIneligibleScreen",{autoReportInteractive:!0}))(L),G=n("geRD"),q=n("fgOK"),z=n("PL8s"),H=n("vZNl");!function(e){e.PhoneBillingMismatch="phone_billing_mismatch",e.GiftCardBalanceUsage="gc_balance_usage"}(i||(i={}));var V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSetResidenceSuccess=function(){t.props.checkoutSessionTracker.track(j.b.CountryOfResidenceAttempt,t.props.details),t.props.checkoutSessionTracker.track(j.b.CountryOfResidenceSuccess,t.props.details),t.props.onSetResidenceSuccess()},t.onSetResidenceFailure=function(){t.props.checkoutSessionTracker.track(j.b.CountryOfResidenceAttempt,t.props.details),t.props.checkoutSessionTracker.track(j.b.CountryOfResidenceFailure,t.props.details)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.checkoutSessionTracker.track(j.b.CountryOfResidencePrompt,this.props.details)},t.prototype.render=function(){return this.dataReady&&this.props.data.currentUser?a.createElement(f.a,null,a.createElement(T.a,{type:T.e.H4},Object(N.d)("Confirm Country of Residence","ConfirmCountryOfResidence")),a.createElement(f.a,{margin:{top:2}},a.createElement(q.a,{userID:this.props.data.currentUser.id,defaultCountryCode:this.defaultCountryCode,defaultPostalCode:this.defaultPostalCode,onSetResidenceSuccess:this.onSetResidenceSuccess,onSetResidenceFailure:this.onSetResidenceFailure}))):a.createElement(z.a,{lineCount:8})},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultCountryCode",{get:function(){var e,t,n;return(null===(t=null===(e=this.props.data.currentUser)||void 0===e?void 0:e.residence)||void 0===t?void 0:t.countryCode)||(null===(n=this.props.data.requestInfo)||void 0===n?void 0:n.countryCode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultPostalCode",{get:function(){var e,t;return(null===(t=null===(e=this.props.data.currentUser)||void 0===e?void 0:e.residence)||void 0===t?void 0:t.postalCode)||""},enumerable:!0,configurable:!0}),t}(a.Component),W=Object(s.d)(Object(m.withLatencyTracking)("ConfirmCountryOfResidence",{autoReportInteractive:!0}),v((function(e){return Object(r.__assign)({},e)})),Object(O.a)(H))(V);W.defaultProps={details:i.PhoneBillingMismatch};var Y,Q=n("Jsra"),K=n("hnjF"),J=n("hNTM"),Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTermsOfSaleLinkClick=function(){t.props.onTermsOfSaleLinkClick&&t.props.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},t.onPrivacyPolicyLinkClick=function(){t.props.onPrivacyPolicyLinkClick&&t.props.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")},t}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"chargeStatementCopy",{get:function(){return Object(N.d)("Actual amount to be charged may vary depending on the exchange rate. Conversion fees and other incidental costs may be additionally included.","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refundStatementCopy",{get:function(){return Object(N.d)("Your subscription will start immediately after payment. You may cancel the subscription within seven days from the date of subscription, provided that the charges for the period already used are not refundable. Purchases made by a minor may be cancelled by the minor or the minor’s parent or legal guardian in case the parent or legal representative does not consent to the purchase made by the minor.","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renewalStatementCopy",{get:function(){return Object(N.d)("You may choose not to renew your Subscription at any time by selecting “Do Not Renew” on your <x:subs>subscriptions page</x:subs>. Your cancellation is effective at the end of the current subscription term.",{"x:subs":function(e){return a.createElement(Q.a,{targetBlank:!0,linkTo:"https://twitch.tv/subscriptions"},e)}},"CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"termsOfSaleCopy",{get:function(){var e=this;return Object(N.d)("Please refer to the <x:tos>Terms of Sale</x:tos> for additional details.",{"x:tos":function(t){return a.createElement(Q.a,{onClick:e.onTermsOfSaleLinkClick},t)}},"CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"twitchCopy",{get:function(){return Object(N.d)("Twitch Interactive, Inc.","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"representativeCopy",{get:function(){return Object(N.d)("Name of Representative: Emmett Shear, CEO","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addressCopy",{get:function(){return Object(N.d)("Address: 350 Bush Street, 2nd Floor, San Francisco, California 94104, USA","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"termsAndConditionsCopy",{get:function(){var e=this;return Object(N.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and <x:privacy>Privacy Policy</x:privacy>. Your payment method will be saved for future purchases, and, if applicable, recurring subscription payments.',{"x:tos":function(t){return a.createElement(Q.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(Q.a,{onClick:e.onPrivacyPolicyLinkClick},t)}},"CheckoutDisclaimer")},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.data.requestInfo&&"KR"===this.props.data.requestInfo.countryCode;return!this.props.data.loading||this.props.data.requestInfo&&this.props.data.requestInfo.countryCode?e?a.createElement(f.a,{padding:{y:2}},a.createElement(K.a,{padding:{bottom:1}},a.createElement(T.a,{type:T.e.P,fontSize:A.j.Size7},this.termsAndConditionsCopy)),a.createElement(K.a,{padding:{bottom:1}},a.createElement(T.a,{type:T.e.P,fontSize:A.j.Size7},this.chargeStatementCopy)),a.createElement(K.a,{padding:{bottom:1}},a.createElement(T.a,{type:T.e.P,fontSize:A.j.Size7},this.refundStatementCopy)),a.createElement(K.a,{padding:{bottom:1}},a.createElement(T.a,{type:T.e.P,fontSize:A.j.Size7},this.renewalStatementCopy)),a.createElement(K.a,{padding:{bottom:1}},a.createElement(T.a,{type:T.e.P,fontSize:A.j.Size7},this.termsOfSaleCopy)),a.createElement(T.a,{type:T.e.P,fontSize:A.j.Size7},this.twitchCopy),a.createElement(T.a,{type:T.e.P,fontSize:A.j.Size7},this.representativeCopy),a.createElement(T.a,{type:T.e.P,fontSize:A.j.Size7},this.addressCopy)):a.createElement(f.a,{padding:{y:2}},a.createElement(T.a,{fontSize:A.j.Size7},this.termsAndConditionsCopy)):a.createElement(z.a,{lineCount:3,width:400})},t}(a.Component),X=Object(s.d)(Object(O.a)(J))(Z),$=n("fI+N"),ee=n("//su"),te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTermsOfSaleLinkClick=function(){t.props.onTermsOfSaleLinkClick&&t.props.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},t.onPrivacyPolicyLinkClick=function(){t.props.onPrivacyPolicyLinkClick&&t.props.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")},t}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"legalDisclaimerCopyKR",{get:function(){var e=this;return Object(N.d)("By clicking Complete Purchase, you agree to the <x:use>Twitch Bits Acceptable Use Policy</x:use>, <x:tos>Terms of Sale</x:tos>, and <x:privacy>Privacy Policy</x:privacy> and that we may start to deliver this order. Your payment method will be saved for future purchases, and any future payments for recurring subscriptions will also be updated.",{"x:use":function(e){return a.createElement(Q.a,{linkTo:"https://twitch.tv/p/legal/bits-acceptable-use/"},e)},"x:tos":function(t){return a.createElement(Q.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(Q.a,{onClick:e.onPrivacyPolicyLinkClick},t)}},"LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legalDisclaimerCopyNonKR",{get:function(){var e=this;return Object(N.d)("By clicking Complete Purchase, you agree to the <x:use>Twitch Bits Acceptable Use Policy</x:use>, <x:tos>Terms of Sale</x:tos>, and <x:privacy>Privacy Policy</x:privacy> and that we may start to deliver this order. You cannot cancel your order once delivery has started. Your payment method will be saved for future purchases, and any future payments for recurring subscriptions will also be updated.",{"x:use":function(e){return a.createElement(Q.a,{linkTo:"https://twitch.tv/p/legal/bits-acceptable-use/"},e)},"x:tos":function(t){return a.createElement(Q.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(Q.a,{onClick:e.onPrivacyPolicyLinkClick},t)}},"LegalDisclaimer")},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.data.requestInfo&&"KR"===this.props.data.requestInfo.countryCode;return!this.props.data.loading||this.props.data.requestInfo&&this.props.data.requestInfo.countryCode?e?a.createElement(T.a,{fontSize:A.j.Size7},this.legalDisclaimerCopyKR):a.createElement(T.a,{fontSize:A.j.Size7},this.legalDisclaimerCopyNonKR):a.createElement(z.a,{lineCount:3,width:400})},t}(a.Component),ne=Object(s.d)(Object(O.a)(ee))(te),ie=n("VUyg"),re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTermsOfSaleLinkClick=function(){t.props.onTermsOfSaleLinkClick&&t.props.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},t.onPrivacyPolicyLinkClick=function(){t.props.onPrivacyPolicyLinkClick&&t.props.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e,t,n=this;if(!this.dataReady)return null;if("KR"!==(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.requestInfo)||void 0===t?void 0:t.countryCode))return a.createElement(f.a,{margin:{y:2}},a.createElement(T.a,null,Object(N.d)('By clicking "Complete Purchase", you agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and acknowledge our <x:privacy>Privacy Policy</x:privacy> applies. Your payment method will be saved for future purchases, and, if applicable, recurring subscription payments. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun.',{"x:tos":function(e){return a.createElement(Q.a,{onClick:n.onTermsOfSaleLinkClick},e)},"x:privacy":function(e){return a.createElement(Q.a,{onClick:n.onPrivacyPolicyLinkClick},e)}},"CompletePurchaseDisclaimer")));switch(this.tplr){case Ln.BitsBundle:return a.createElement(f.a,{margin:{y:2}},a.createElement(ne,{onTermsOfSaleLinkClick:this.props.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.props.onPrivacyPolicyLinkClick}),a.createElement($.a,null));case Ln.Turbo:case Ln.ChannelSub:case Ln.ChannelSubCommunityGift:case Ln.ChannelSubStandardGift:case Ln.ChannelSubCustom:return a.createElement(X,{onTermsOfSaleLinkClick:this.props.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.props.onPrivacyPolicyLinkClick});default:return null}},Object.defineProperty(t.prototype,"tplr",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tplr)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){return!(this.props.data.loading&&!this.props.data.error&&!this.props.data.purchasableOffer)},enumerable:!0,configurable:!0}),t}(a.Component),ae=Object(s.d)(Object(m.withLatencyTracking)("CompletePurchaseDisclaimer"),v((function(e){return Object(r.__assign)({},e)})),Object(O.a)(ie,{options:function(e){return{variables:{params:{offerID:e.offerID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}}}}}))(re),oe=function(e){return a.createElement(T.a,null,Object(N.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and acknowledge our <x:privacy>Privacy Policy</x:privacy> applies. Your gift card balance will apply to this purchase and subsequent charges related to this recurring subscription until your balance reaches zero. Recurring subscriptions will expire if the amount owed exceeds your gift card balance.',{"x:tos":function(t){return a.createElement(Q.a,{onClick:function(){e.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")}},t)},"x:privacy":function(t){return a.createElement(Q.a,{onClick:function(){e.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")}},t)}},"WalletPurchaseDisclaimer"))},se=function(e){return a.createElement(T.a,null,Object(N.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and acknowledge our <x:privacy>Privacy Policy</x:privacy> applies. Your gift card balance will apply to this purchase and subsequent charges related to this recurring subscription until your balance reaches zero. Thereafter, Twitch will charge your saved payment method for the recurring subscription.',{"x:tos":function(t){return a.createElement(Q.a,{onClick:function(){e.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")}},t)},"x:privacy":function(t){return a.createElement(Q.a,{onClick:function(){e.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")}},t)}},"WalletPurchaseDisclaimer"))},ce=function(e){var t=e.hasSPM?a.createElement(se,{onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick}):a.createElement(oe,{onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick});return a.createElement(f.a,{margin:{top:1,bottom:2},padding:{top:e.hasSPM?1:0}},t)},le=function(e){return e.isWalletPurchase?a.createElement(ce,{hasSPM:e.hasSPM,onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick}):a.createElement(ae,{onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick})},ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(f.a,null,this.errorMessage)},Object.defineProperty(t.prototype,"hasPurchaseError",{get:function(){return!!this.props.productPurchaseErrorCode||!!this.props.purchaseOfferErrorCode||!!this.props.purchaseOrderFailureReason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorMessage",{get:function(){if(this.hasPurchaseError){var e=Object(N.d)("Purchase Not Complete","ReviewPurchaseDisplay"),t=Object(N.d)("An unexpected error occurred. Please try again later.","ReviewPurchaseDisplay"),n=Object(N.d)("You are not eligible to make this purchase.","ReviewPurchaseDisplay"),i=Object(N.d)("Invalid Payment Method","ReviewPurchaseDisplay"),r=Object(N.d)("Please update your payment details by clicking on Change Payment Method.","ReviewPurchaseDisplay");if(this.props.productPurchaseErrorCode)e=i,t=Object(N.d)("This payment method is not available for your purchase at this time. Please continue checkout using another payment method.","ReviewPurchaseDisplay");else if(this.props.purchaseOfferErrorCode)switch(this.props.purchaseOfferErrorCode){case P.od.INELIGIBLE:e=n,t="";break;case P.od.INVALID_PAYMENT_METHOD:e=i,t=r}else if(this.props.purchaseOrderFailureReason)switch(this.props.purchaseOrderFailureReason){case P.pd.BANK_DECLINED:e=Object(N.d)("Purchase Declined","ReviewPurchaseDisplay"),t=Object(N.d)("Please contact your bank or click on Change Payment Method to pay another way.","ReviewPurchaseDisplay");break;case P.pd.INELIGIBLE:e=n,t="";break;case P.pd.INVALID_PAYMENT_METHOD:e=i,t=r}return a.createElement(f.a,{margin:{bottom:2}},a.createElement(R.a,{type:B.a.Error,message:{title:e,description:t}}))}return null},enumerable:!0,configurable:!0}),t}(a.Component),de=Object(s.d)(Object(m.withLatencyTracking)("PurchaseErrorMessage",{autoReportInteractive:!0}))(ue),pe=function(){return a.createElement(f.a,{padding:{y:3}},a.createElement(R.a,{type:B.a.Warning,message:{title:Object(N.d)("Payment Method Unavailable","PaymentMethodUnavailableMessage"),description:Object(N.d)("The payment method you selected is temporarily unavailable. Please use a different payment method or try again later.","PaymentMethodUnavailableMessage")}}))},me=n("ER7f"),fe='[data-recurly="fraud_session_id"]',he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fraudSessionIDReady=function(){var e=document.querySelector(fe);e&&e.value?t.props.handleRecurlyFraudSessionIDReady(e.value):t.props.handleError({message:"Recurly failed to attach the fraud_session_id"})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.recurlyInstance&&!this.props.recurlyLoadFailed&&this.setupConfigs()},t.prototype.componentDidUpdate=function(e){e.recurlyInstance||!this.props.recurlyInstance||this.props.recurlyLoadFailed||this.setupConfigs()},t.prototype.render=function(){return a.createElement(f.a,{display:A.g.Hide},a.createElement("form",null,a.createElement("input",{type:"text","data-recurly":"first_name"}),a.createElement("input",{type:"text","data-recurly":"last_name"}),a.createElement("div",{"data-recurly":"number"}),a.createElement("div",{"data-recurly":"month"}),a.createElement("div",{"data-recurly":"year"}),a.createElement("div",{"data-recurly":"cvv"}),a.createElement("input",{type:"hidden",name:"recurly-token","data-recurly":"token"})))},t.prototype.setupConfigs=function(){this.props.recurlyInstance&&(this.props.recurlyInstance.configure({publicKey:this.props.recurlyPublicKey,fraud:{kount:{dataCollector:!0}}}),this.props.recurlyInstance.fraud?(this.props.recurlyInstance.fraud.on("ready",this.fraudSessionIDReady),this.props.recurlyInstance.fraud.on("error",this.props.handleError)):this.props.handleError({message:"Recurly failed to create the Fraud class"}))},t}(a.Component),ge=Object(s.d)(Object(me.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(he),be=n("8ggV"),ye=n("7uM4"),ve=n("C7sF"),ke=(n("5TAx"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(f.a,{display:A.g.InlineFlex,alignItems:A.b.Center,className:"secure-stamp",margin:this.props.margin},a.createElement(ye.a,{asset:ve.a.Lock,width:20}),a.createElement(T.a,{fontSize:A.j.Size8},Object(N.d)("Secure","SecureStamp")))},t}(a.Component)),Se=n("DYZf"),Ce=n("Ws8v"),Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleUseSavedPaymentMethod=function(){t.props.checkoutSessionTracker.track(j.b.ChangePaymentMethodClick),t.props.toggleUseSavedPaymentMethod()},t.toggleAddPaymentMethodClick=function(){t.props.checkoutSessionTracker.track(j.b.AddPaymentMethodClick),t.props.toggleUseSavedPaymentMethod()},t.handleRecurlyFraudProcessorError=function(){t.props.checkoutSessionTracker.track(j.b.Error,"failed to attach fraud session ID")},t.handleThreeDSecureChallengeShown=function(){t.props.checkoutSessionTracker.track(j.b.ThreeDS2Prompt)},t.onTermsOfSaleLinkClick=function(){t.props.checkoutSessionTracker.track(j.b.TermsOfSaleClick)},t.onPrivacyPolicyLinkClick=function(){t.props.checkoutSessionTracker.track(j.b.PrivacyPolicyClick)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;window.setTimeout((function(){e.props.checkoutSessionTracker.track(j.b.CompletePurchaseShown),e.props.productPurchaseErrorCode&&e.props.checkoutSessionTracker.track(j.b.Error,JSON.stringify({checkout_price_error_code:e.props.productPurchaseErrorCode}))}),1e3)},t.prototype.render=function(){var e,t,n,i,r,o,s,c,l;return a.createElement(f.a,null,a.createElement(de,{productPurchaseErrorCode:this.props.productPurchaseErrorCode,purchaseOfferErrorCode:this.props.purchaseOfferErrorCode,purchaseOrderFailureReason:this.props.purchaseOrderFailureReason}),this.props.eligibleSPM&&a.createElement(f.a,{margin:{bottom:2},breakpointSmall:{display:A.g.Flex,justifyContent:A.l.Between}},a.createElement(T.a,{type:T.e.H4,bold:!0},Object(N.d)("Saved Payment Method","ReviewPurchaseDisplay")),a.createElement(f.a,{margin:{top:.5},breakpointSmall:{display:A.g.Flex,alignItems:A.b.End,margin:0}},a.createElement(Q.a,{onClick:this.toggleUseSavedPaymentMethod,disabled:this.props.purchasing,"data-a-target":"change-payment-method"},Object(N.d)("Change Payment Method","ReviewPurchaseDisplay")))),(null===(e=this.props.paymentMethodAvailabilityStatus)||void 0===e?void 0:e.availabilityStatus)!==P.Uc.AVAILABLE?a.createElement(pe,null):a.createElement(me.a,null,(null===(t=this.props.eligibleSPM)||void 0===t?void 0:t.paymentType)===P.Tc.CREDIT_CARD&&this.props.recurlyPublicKey&&a.createElement(ge,{recurlyPublicKey:this.props.recurlyPublicKey,handleRecurlyFraudSessionIDReady:this.props.handleRecurlyFraudSessionIDReady,handleError:this.handleRecurlyFraudProcessorError}),this.props.recurlyPublicKey&&a.createElement(be.a,{publicKey:this.props.recurlyPublicKey,handleSuccess:this.props.handleThreeDSecureSuccess,handleError:this.props.handleThreeDSecureError,handleChallengeShown:this.handleThreeDSecureChallengeShown,threeDSecureActionTokenID:this.props.threeDSecureActionTokenID},!!this.props.eligibleSPM&&a.createElement(Ce.a,{background:A.d.Alt,border:!0,borderRadius:A.e.Small,padding:2},a.createElement(Se.a,{paymentType:null===(n=this.props.eligibleSPM)||void 0===n?void 0:n.paymentType,cardType:null===(i=this.props.eligibleSPM)||void 0===i?void 0:i.cardType,provider:null===(r=this.props.eligibleSPM)||void 0===r?void 0:r.provider,lastFour:null===(o=this.props.eligibleSPM)||void 0===o?void 0:o.lastFour,expirationYear:null===(s=this.props.eligibleSPM)||void 0===s?void 0:s.expirationYear,billingEmail:null===(c=this.props.eligibleSPM)||void 0===c?void 0:c.billingEmail,expirationMonth:null===(l=this.props.eligibleSPM)||void 0===l?void 0:l.expirationMonth})),a.createElement(le,{hasSPM:!!this.props.eligibleSPM,isWalletPurchase:this.props.isWalletPurchase,onTermsOfSaleLinkClick:this.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.onPrivacyPolicyLinkClick}),a.createElement(f.a,{margin:{y:1},display:A.g.Flex,alignItems:A.b.Center,justifyContent:A.l.End},this.props.purchasing&&a.createElement(f.a,{margin:{right:1}},a.createElement(T.a,null,Object(N.d)("Almost done! Your order will be completed soon.","ReviewPurchaseDisplay"))),a.createElement(ke,{margin:{right:2}}),!this.props.eligibleSPM&&a.createElement(f.a,{padding:{right:1}},a.createElement(M.a,{type:M.d.Secondary,onClick:this.toggleAddPaymentMethodClick,disabled:this.props.purchasing,"data-a-target":"change-payment-method"},Object(N.d)("Add a Payment Method","ReviewPurchaseDisplay"))),a.createElement(M.a,{state:this.props.purchasing?M.c.Loading:M.c.Default,onClick:this.props.handleCompletePurchaseClick,disabled:this.completePurchaseDisabled,"data-a-target":"spm-complete-purchase-button"},Object(N.d)("Complete Purchase","ReviewPurchaseDisplay"))))))},Object.defineProperty(t.prototype,"completePurchaseDisabled",{get:function(){return this.props.purchasing||!!this.props.productPurchaseErrorCode||this.props.purchaseOrderFailureReason===P.pd.INELIGIBLE||this.props.purchaseOfferErrorCode===P.od.INELIGIBLE},enumerable:!0,configurable:!0}),t}(a.Component),Oe=Object(s.d)(Object(m.withLatencyTracking)("ReviewPurchaseDisplay",{autoReportInteractive:!0}),v((function(e){return Object(r.__assign)({},e)})))(Ee),Pe=n("pXzP"),Ne=n("7DAU"),je=[P.qd.PAYMENT_PENDING,P.qd.SUCCESS],De=[P.qd.BENEFITS_CANCELLED,P.qd.CANCEL_BENEFITS_INITIATED,P.qd.FAILED,P.qd.REFUND_APPLIED,P.qd.REFUND_FAILED,P.qd.REFUND_INITIATED],Te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={updatedResidenceThisSession:!1,purchasing:!1,purchaseError:!!t.props.purchaseOfferErrorCode||!!t.props.purchaseOrderFailureReason,purchaseOfferErrorCode:t.props.purchaseOfferErrorCode,purchaseOrderFailureReason:t.props.purchaseOrderFailureReason},t.handleCompletePurchaseClick=function(){t.completePurchase()},t.initiate3DS2Challenge=function(e){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:try{t=JSON.parse(e).three_d_secure_action_token_id}catch(n){t=e}return this.stopPolling(),[4,this.props.data.refetch({purchaseOrderID:"",includeOrder:!1})];case 1:return n.sent(),this.setState({threeDSecureActionTokenID:t}),[2]}}))}))},t.handleRecurlyFraudSessionIDReady=function(e){t.recurlyFraudSessionID=e},t.handleThreeDSecureSuccess=function(e){t.setState({threeDSecureActionTokenID:void 0},(function(){t.completePurchase(e)}))},t.handleThreeDSecureError=function(e){t.props.checkoutSessionTracker.track(j.b.ThreeDS2Failure,JSON.stringify(e)),t.handlePurchaseFailure(JSON.stringify(e))},t.onSetResidenceSuccess=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.props.refetchCheckoutFormScreenManagerData()];case 1:return e.sent(),this.setState({updatedResidenceThisSession:!0}),[2]}}))}))},t.completePurchase=function(e){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,n,i,a,o,s,c,l;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!this.props.data.currentUser)return[2];this.setState({purchasing:!0,purchaseError:!1,purchaseOfferErrorCode:void 0,purchaseOrderFailureReason:void 0,threeDSecureActionTokenID:void 0}),e||this.props.checkoutSessionTracker.track(j.b.CompletePurchaseClickAttempt),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.props.purchaseOfferMutation(Object(G.a)({billingAuthInfo:{recurlyFraudSessionID:this.recurlyFraudSessionID,threeDSecureActionResultTokenID:e},giftRecipientUserIDs:this.props.giftRecipientIDs,offerID:this.props.selectedOfferID,paymentSession:this.props.paymentSession,purchasingUserID:this.props.data.currentUser.id,quantity:this.props.selectedQuantity,tagBindings:this.props.tagBindings,tenantTracking:this.props.trackingContext.tenantTracking?JSON.stringify(this.props.trackingContext.tenantTracking):""}))];case 2:return t=r.sent(),n=t.data,i=t.errors,a=null===(c=null===(s=n.purchaseOffer)||void 0===s?void 0:s.purchaseOrder)||void 0===c?void 0:c.id,i?(this.handlePurchaseFailure(JSON.stringify(i)),[2]):(null===(l=n.purchaseOffer)||void 0===l?void 0:l.error)?(this.handlePurchaseFailure(JSON.stringify({purchase_offer_error:n.purchaseOffer.error}),n.purchaseOffer.error),[2]):a?(this.startPolling(a),[3,4]):(this.handlePurchaseFailure("missing purchase order ID"),[2]);case 3:return o=r.sent(),this.handlePurchaseFailure(null==o?void 0:o.message),[3,4];case 4:return[2]}}))}))},t.handlePurchaseFailure=function(e,n,i){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.props.checkoutSessionTracker.track(j.b.CompletePurchaseClickFailure,e),this.setState({purchasing:!1,purchaseError:!0,purchaseOfferErrorCode:n,purchaseOrderFailureReason:i}),this.stopPolling(),[4,this.props.data.refetch({purchaseOrderID:"",includeOrder:!1})];case 1:return t.sent(),[2]}}))}))},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){if(this.props.isWalletPurchase&&!this.props.isSplitTender)this.props.checkoutSessionTracker.activePaymentMethod="wallet";else if(this.props.eligibleSPM)switch(this.props.eligibleSPM.paymentType.toUpperCase()){case P.Tc.CREDIT_CARD:this.props.checkoutSessionTracker.activePaymentMethod="credit_card";break;case P.Tc.PAYPAL:this.props.checkoutSessionTracker.activePaymentMethod="paypal";break;case P.Tc.AMAZON:this.props.checkoutSessionTracker.activePaymentMethod="amazon_pay"}this.props.checkoutSessionTracker.activePaymentProvider="recurly"},t.prototype.componentDidUpdate=function(e,t){var n,i,r,a,o,s,c,l,u,d,p,m,f,h,g;(null===(r=null===(i=null===(n=this.props.data)||void 0===n?void 0:n.currentUser)||void 0===i?void 0:i.purchaseOrder)||void 0===r?void 0:r.state)&&je.includes(this.props.data.currentUser.purchaseOrder.state)&&(this.props.checkoutSessionTracker.track(j.b.CompletePurchaseClickSuccess,JSON.stringify({origin_id:this.props.data.currentUser.purchaseOrder.id})),this.props.handlePurchaseSuccess()),(null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.currentUser)||void 0===o?void 0:o.purchaseOrder)||void 0===s?void 0:s.state)===P.qd.THREE_D_SECURE_CHALLENGE_REQUIRED&&(null===(u=null===(l=null===(c=this.props.data)||void 0===c?void 0:c.currentUser)||void 0===l?void 0:l.purchaseOrder)||void 0===u?void 0:u.actionTokenID)&&!this.state.threeDSecureActionTokenID&&this.initiate3DS2Challenge(this.props.data.currentUser.purchaseOrder.actionTokenID),(null===(m=null===(p=null===(d=this.props.data)||void 0===d?void 0:d.currentUser)||void 0===p?void 0:p.purchaseOrder)||void 0===m?void 0:m.state)&&De.includes(this.props.data.currentUser.purchaseOrder.state)&&!t.purchaseError&&t.purchasing&&(null===(g=null===(h=null===(f=e.data)||void 0===f?void 0:f.currentUser)||void 0===h?void 0:h.purchaseOrder)||void 0===g?void 0:g.state)!==this.props.data.currentUser.purchaseOrder.state&&this.handlePurchaseFailure(JSON.stringify({purchase_order_error:this.props.data.currentUser.purchaseOrder.failureReason}),void 0,this.props.data.currentUser.purchaseOrder.failureReason)},t.prototype.componentWillUnmount=function(){this.stopPolling()},t.prototype.render=function(){return this.askForResidence&&this.props.data.currentUser?a.createElement(W,{onSetResidenceSuccess:this.onSetResidenceSuccess}):a.createElement(f.a,null,a.createElement(Oe,{recurlyPublicKey:this.props.recurlyPublicKey,purchasing:this.state.purchasing,productPurchaseErrorCode:this.props.productPurchaseErrorCode,purchaseOrderFailureReason:this.state.purchaseOrderFailureReason,purchaseOfferErrorCode:this.state.purchaseOfferErrorCode,toggleUseSavedPaymentMethod:this.props.toggleUseSavedPaymentMethod,eligibleSPM:this.props.eligibleSPM,paymentMethodAvailabilityStatus:this.props.paymentMethodAvailabilityStatus,handleCompletePurchaseClick:this.handleCompletePurchaseClick,threeDSecureActionTokenID:this.state.threeDSecureActionTokenID,handleThreeDSecureSuccess:this.handleThreeDSecureSuccess,handleThreeDSecureError:this.handleThreeDSecureError,handleRecurlyFraudSessionIDReady:this.handleRecurlyFraudSessionIDReady,isWalletPurchase:this.props.isWalletPurchase}))},Object.defineProperty(t.prototype,"askForResidence",{get:function(){return!this.state.updatedResidenceThisSession&&(this.props.productPurchaseErrorCode===P.md.UNKNOWN_USER_RESIDENCE||!!this.props.eligibleSPM&&this.props.requestInfoCountryCode!==this.props.eligibleSPM.billingCountry)},enumerable:!0,configurable:!0}),t.prototype.startPolling=function(e){var t=this;this.props.data.refetch({purchaseOrderID:e,includeOrder:!0}),this.pollingID=setInterval((function(){t.props.data.refetch({purchaseOrderID:e,includeOrder:!0})}),1e3),this.props.handlePollingOrder(!0),this.timeoutID=setTimeout((function(){t.stopPolling(),t.handlePurchaseFailure("polling timeout")}),6e4)},t.prototype.stopPolling=function(){clearInterval(this.pollingID),clearTimeout(this.timeoutID),this.props.handlePollingOrder(!1)},t}(a.Component),we=Object(s.d)(Object(m.withLatencyTracking)("CheckoutReviewPurchaseScreen",{autoReportInteractive:!0}),v((function(e){return Object(r.__assign)({},e)})),Object(O.a)(Ne,{options:function(){return{variables:{purchaseOrderID:"",includeOrder:!1}}}}),Object(O.a)(Pe,{name:"purchaseOfferMutation"}))(Te),Ie=n("D7An"),xe=n("Hl/S"),Ae=n("eMuj"),Me=n("LKxS"),_e=n("KZQ4"),Fe=n("gn2N"),Re=n("FT7T"),Be=n("Jgup"),Le=n("JDoF"),Ue=n("1AzW"),Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showCountrySelector:!1,purchaseSuccessful:!1},t.reportInteractive=function(){t.props.latencyTracking.reportInteractive(),t.props.xsollaEnabled&&t.props.xsollaEnabled.availabilityStatus===P.Uc.AVAILABLE?t.props.xsollaToken||t.props.productPurchaseErrorCode===P.md.UNKNOWN_USER_RESIDENCE||t.props.productPurchaseErrorCode===P.md.BILLING_INFO_NOT_FOUND?t.props.checkoutSessionTracker.track(j.b.LoadSuccess):t.props.checkoutSessionTracker.track(j.b.Error,"missing xsolla iframe token"):t.props.checkoutSessionTracker.track(j.b.Error,"xsolla disabled")},t.onChangePaymentMethodClick=function(){t.props.checkoutSessionTracker.track(j.b.ChangePaymentMethodClick),t.props.onChangePaymentMethodClick()},t.onCompletePurchaseShown=function(){t.props.checkoutSessionTracker.track(j.b.CompletePurchaseShown)},t.onXsollaPurchaseSuccess=function(e){t.props.checkoutSessionTracker.track(j.b.CompletePurchaseClickAttempt),t.props.checkoutSessionTracker.track(j.b.CompletePurchaseClickSuccess,JSON.stringify({ext_transaction_id:e||""})),t.props.handlePurchaseSuccess(P.Vc.XSOLLA_V3),t.setState({purchaseSuccessful:!0})},t.onXsollaPurchaseFail=function(){t.props.checkoutSessionTracker.track(j.b.CompletePurchaseClickAttempt),t.props.checkoutSessionTracker.track(j.b.CompletePurchaseClickFailure)},t.onFirstInteraction=function(){t.props.checkoutSessionTracker.track(j.b.PaymentMethodUpdateInit,JSON.stringify({payment_provider:"xsolla"}))},t.toggleCountrySelector=function(){t.setState((function(e){return{showCountrySelector:!e.showCountrySelector}}))},t.onSetResidenceSuccess=function(){t.props.refetchCheckoutFormScreenManagerData(),t.setState({showCountrySelector:!1})},t.onTermsOfSaleLinkClick=function(){t.props.checkoutSessionTracker.track(j.b.TermsOfSaleClick)},t.onPrivacyPolicyLinkClick=function(){t.props.checkoutSessionTracker.track(j.b.PrivacyPolicyClick)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.handlePaymentProviderUpdate(P.Vc.XSOLLA_V3),this.reportInteractive()},t.prototype.render=function(){return this.state.showCountrySelector?a.createElement(W,{onSetResidenceSuccess:this.onSetResidenceSuccess}):this.props.xsollaEnabled&&this.props.xsollaEnabled.availabilityStatus===P.Uc.AVAILABLE?this.props.productPurchaseErrorCode===P.md.UNKNOWN_USER_RESIDENCE?a.createElement(W,{onSetResidenceSuccess:this.onSetResidenceSuccess}):this.props.xsollaToken?this.billingCountry||this.userResidence?a.createElement(a.Fragment,null,this.header,a.createElement(Le.a,{xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,onCompletePurchaseShown:this.onCompletePurchaseShown,onSuccess:this.onXsollaPurchaseSuccess,onFail:this.onXsollaPurchaseFail,onFirstInteraction:this.onFirstInteraction}),a.createElement(ae,{onTermsOfSaleLinkClick:this.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.onPrivacyPolicyLinkClick})):a.createElement(W,{onSetResidenceSuccess:this.onSetResidenceSuccess}):a.createElement(a.Fragment,null,this.header,a.createElement(f.a,{margin:{top:2}},a.createElement(x.PageError,null))):a.createElement(f.a,null,this.header,a.createElement(Ue.a,null))},Object.defineProperty(t.prototype,"header",{get:function(){var e=this;return a.createElement(f.a,{display:A.g.Flex,alignItems:A.b.Center,flexDirection:A.h.Row,justifyContent:A.l.Between,margin:{bottom:1}},a.createElement(f.a,null,a.createElement(f.a,{display:A.g.InlineBlock,alignItems:A.b.Center},a.createElement(T.a,{type:T.e.H4},Object(N.d)("Checkout","CheckoutWithXsolla"))),a.createElement(f.a,{display:A.g.InlineBlock,alignItems:A.b.Center,margin:{left:1}},a.createElement(T.a,{fontSize:A.j.Size6},Object(N.d)("Country • <x:link></x:link>",{"x:link":function(){return a.createElement(Q.a,{"data-a-target":"select-country-of-residence-link",onClick:e.toggleCountrySelector},Object(Be.b)(e.country))}},"CheckoutWithXsolla")))),this.showChangePaymentMethodButton&&a.createElement(Q.a,{onClick:this.onChangePaymentMethodClick,"data-a-target":"change-payment-method"},Object(N.d)("Change Payment Method","CheckoutWithXsolla")))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showChangePaymentMethodButton",{get:function(){return!(this.props.chargeInterval&&this.props.chargeInterval>1)&&(this.props.recurlyEnabled&&!this.state.purchaseSuccessful)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"savedPaymentMethod",{get:function(){var e;return null===(e=this.props.paymentMethods)||void 0===e?void 0:e.find((function(e){return e.provider===P.Vc.RECURLY}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"billingCountry",{get:function(){var e;return null===(e=this.savedPaymentMethod)||void 0===e?void 0:e.billingCountry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userResidence",{get:function(){return this.props.userResidence},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"country",{get:function(){var e;return(null===(e=this.userResidence)||void 0===e?void 0:e.countryCode)||this.props.requestInfoCountryCode||"US"},enumerable:!0,configurable:!0}),t}(a.Component),qe=Object(s.d)(Object(m.withLatencyTracking)("CheckoutWithXsolla"),v((function(e){return Object(r.__assign)({},e)})))(Ge),ze=n("uReR"),He=n.n(ze),Ve=n("SPyc"),We=n.n(Ve),Ye=n("KL9a"),Qe=n.n(Ye),Ke=n("iSjI"),Je=n.n(Ke),Ze=n("uG/k"),Xe=(n("pDmt"),function(e){var t=a.createElement(f.a,{flexGrow:1,position:A.n.Relative},a.createElement(Ce.a,{borderTop:!0,className:"pay-with-credit-card-line__line",fullWidth:!0,position:A.n.Absolute})),n=e.headerText?e.headerText:Object(N.d)("Pay with Credit Card","PayWithCreditCardLine");return a.createElement(a.Fragment,null,a.createElement(f.a,{display:A.g.Flex,textAlign:A.p.Center,margin:{y:1}},t,a.createElement(f.a,{flexGrow:0,padding:{x:1}},a.createElement(f.a,{display:A.g.Flex},a.createElement(f.a,{alignSelf:A.c.Center,margin:{right:.5}},a.createElement(T.a,{type:T.e.Span,transform:T.d.Uppercase,color:A.f.Alt2},Object(N.d)("Or","PayWithCreditCardLine"))))),t),a.createElement(f.a,{margin:{bottom:1},display:A.g.Flex,flexDirection:A.h.Row},a.createElement(T.a,{type:T.e.H4},n),a.createElement(f.a,{margin:{left:1},display:A.g.Flex,justifyContent:A.l.Center,alignItems:A.b.Center},a.createElement(f.a,{display:A.g.Flex,flexDirection:A.h.Row},a.createElement(f.a,{className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Ze.a,{src:Je.a,alt:Object(N.d)("Visa","PayWithCreditCardLine")})),a.createElement(f.a,{margin:{left:1},className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Ze.a,{src:Qe.a,alt:Object(N.d)("Master Card","PayWithCreditCardLine")})),a.createElement(f.a,{margin:{left:1},className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Ze.a,{src:He.a,alt:Object(N.d)("American Express","PayWithCreditCardLine")})),a.createElement(f.a,{margin:{left:1},className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Ze.a,{src:We.a,alt:Object(N.d)("Discover","PayWithCreditCardLine")}))))))}),$e=n("DUmW"),et=n("+Zug"),tt=n("2DIU"),nt=n.n(tt),it=n("TSpM"),rt=n.n(it),at=n("pVnL"),ot=n.n(at),st=n("8OQS"),ct=n.n(st),lt=n("SWse"),ut=n("9qaG");n("9Hw2");!function(e){e.Xsolla="tw-payment-button--xsolla",e.AmazonPay="tw-payment-button--amazon-pay",e.PaypalBlue="tw-payment-button--paypal-blue",e.PaypalYellow="tw-payment-button--paypal-yellow"}(Y||(Y={}));var dt=function(e){var t=e.children,n=e.type,i=ct()(e,["children","type"]),r={"tw-payment-button":!0,"tw-payment-button--disabled":i.disabled};return n&&(r[n]=!0),a.createElement(ut.a,ot()({},i,{className:Object(lt.a)(r),type:n===Y.Xsolla?ut.d.Secondary:void 0}),a.createElement(Ce.a,{className:"tw-payment-button__layout",position:A.n.Relative,display:A.g.Flex,alignItems:A.b.Center,padding:{x:1},color:n===Y.PaypalBlue?A.f.Overlay:void 0},t))};dt.displayName="PaymentButton",dt.displayName="PaymentButton";n("k/qa");var pt,mt=function(e){return a.createElement(dt,{type:Y.AmazonPay,onClick:e.onClick,size:ut.c.Large,fullWidth:!0},a.createElement(f.a,{className:"select-amazon-pay-button__container",display:A.g.Flex,flexDirection:A.h.Column,justifyContent:A.l.Center,padding:{top:.5}},a.createElement(Ze.a,{src:nt.a,alt:Object(N.d)("Amazon Pay","PaymentMethodSelector"),srcSet:{"1x":nt.a,"2x":rt.a}})))},ft=n("bOWA"),ht=n.n(ft),gt=(n("ami3"),function(e){return a.createElement(dt,{type:Y.Xsolla,onClick:e.onClick,size:ut.c.Large,fullWidth:!0},a.createElement(f.a,{className:"select-credit-card-button__container",padding:{y:.5},display:A.g.Flex,justifyContent:A.l.Center,alignItems:A.b.Center},a.createElement(Ze.a,{className:"select-credit-card-button__credit-card-icon",src:Je.a,alt:Object(N.d)("Visa","SelectCreditCardButton")}),a.createElement(Ze.a,{className:"select-credit-card-button__credit-card-icon",src:ht.a,alt:Object(N.d)("Master Card","SelectCreditCardButton")}),a.createElement(Ze.a,{className:"select-credit-card-button__credit-card-icon",src:He.a,alt:Object(N.d)("American Express","SelectCreditCardButton")}),a.createElement(Ze.a,{className:"select-credit-card-button__credit-card-icon",src:We.a,alt:Object(N.d)("Discover","SelectCreditCardButton")})))}),bt=n("2xEe"),yt=n.n(bt),vt=n("q8H6"),kt=n.n(vt),St=(n("YaM9"),function(e){return a.createElement(dt,{type:Y.PaypalBlue,onClick:e.onClick,size:ut.c.Large,fullWidth:!0},a.createElement(f.a,{className:"select-paypal-button__container",display:A.g.Flex,flexDirection:A.h.Column,justifyContent:A.l.Center},a.createElement(Ze.a,{src:yt.a,alt:Object(N.d)("PayPal","SelectPaypalButton"),srcSet:{"1x":yt.a,"2x":kt.a}})))});n("8sFf");!function(e){e[e.MoreMethods=0]="MoreMethods",e[e.CreditCardPlusMore=1]="CreditCardPlusMore"}(pt||(pt={}));var Ct,Et,Ot=function(e){return a.createElement(dt,{"data-a-target":"xsolla-payment-method-button",type:Y.Xsolla,onClick:e.onClick,size:ut.c.Large,fullWidth:!0},e.type===pt.MoreMethods?a.createElement(T.a,null,Object(N.d)("See More Methods","SelectXsollaButton")):a.createElement(f.a,{display:A.g.Flex,justifyContent:A.l.Center,alignItems:A.b.Center},a.createElement(Ze.a,{className:"select-xsolla-button__credit-card-icon",src:Je.a,alt:Object(N.d)("Visa","SelectXsollaButton")}),a.createElement(Ze.a,{className:"select-xsolla-button__credit-card-icon",src:ht.a,alt:Object(N.d)("Master Card","SelectXsollaButton")}),a.createElement(Ze.a,{className:"select-xsolla-button__credit-card-icon",src:He.a,alt:Object(N.d)("American Express","SelectXsollaButton")}),a.createElement(Ze.a,{className:"select-xsolla-button__credit-card-icon",src:We.a,alt:Object(N.d)("Discover","SelectXsollaButton")}),a.createElement(T.a,{type:T.e.Span,transform:T.d.Uppercase},Object(N.d)("+ More","SelectXsollaButton"))))};!function(e){e[e.AllPaymentMethods=0]="AllPaymentMethods",e[e.RecurlyCreditCard=1]="RecurlyCreditCard",e[e.RecurlyPayPal=2]="RecurlyPayPal",e[e.RecurlyAmazonPay=3]="RecurlyAmazonPay",e[e.Xsolla=4]="Xsolla"}(Ct||(Ct={})),function(e){e[e.Default=0]="Default",e[e.PaypalFirst=1]="PaypalFirst"}(Et||(Et={}));var Pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChangePaymentMethodClick=function(){t.props.checkoutSessionTracker.track(j.b.ChangePaymentMethodClick),t.props.onPaymentMethodChange(Ct.AllPaymentMethods)},t.useExistingPaymentMethod=function(){t.props.checkoutSessionTracker.track(j.b.UseExistingPaymentMethodClick),t.props.showReviewPurchaseScreen()},t.onPayPalClick=function(){t.props.checkoutSessionTracker.track(j.b.PaymentMethodUpdateInit,JSON.stringify({payment_method:"paypal",payment_provider:"recurly"})),t.props.onPaymentMethodChange(Ct.RecurlyPayPal)},t.onCreditCardClick=function(){t.props.checkoutSessionTracker.track(j.b.PaymentMethodUpdateInit,JSON.stringify({payment_method:"credit_card",payment_provider:"recurly"})),t.props.onPaymentMethodChange(Ct.RecurlyCreditCard)},t.onAmazonPayClick=function(){t.props.checkoutSessionTracker.track(j.b.PaymentMethodUpdateInit,JSON.stringify({payment_method:"amazon_pay",payment_provider:"recurly"})),t.props.onPaymentMethodChange(Ct.RecurlyAmazonPay)},t.onXsollaClick=function(){t.props.checkoutSessionTracker.track(j.b.PaymentMethodUpdateInit,JSON.stringify({payment_provider:"xsolla"})),t.props.onPaymentMethodChange(Ct.Xsolla)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return this.props.selectedPaymentMethod===Ct.Xsolla?null:this.props.selectedPaymentMethod===Ct.RecurlyPayPal||this.props.selectedPaymentMethod===Ct.RecurlyAmazonPay?a.createElement(f.a,{display:A.g.Flex,alignItems:A.b.Center,flexDirection:A.h.Row,justifyContent:A.l.Between},a.createElement(T.a,{type:T.e.H4},this.props.selectedPaymentMethod===Ct.RecurlyPayPal&&Object(N.d)("Checkout with PayPal","PaymentMethodSelector"),this.props.selectedPaymentMethod===Ct.RecurlyAmazonPay&&Object(N.d)("Checkout with Amazon Pay","PaymentMethodSelector")),a.createElement(Q.a,{onClick:this.onChangePaymentMethodClick},Object(N.d)("Change Payment Method","PaymentMethodSelector"))):a.createElement(a.Fragment,null,this.props.formHeader?this.props.formHeader:(e=this.props.hasEligibleSPM,t=this.useExistingPaymentMethod,a.createElement(f.a,{display:A.g.Flex,alignItems:A.b.Center,flexDirection:A.h.Row,justifyContent:A.l.Between,margin:{bottom:2}},a.createElement(f.a,{display:A.g.InlineFlex},a.createElement(T.a,{type:T.e.H4},Object(N.d)("Pay with","PaymentMethodSelector")),e&&a.createElement(ke,{margin:{left:1}})),e&&a.createElement(Q.a,{onClick:t},Object(N.d)("Use Existing Payment Method","PaymentMethodSelector")),!e&&a.createElement(ke,null))),a.createElement(f.a,{"data-a-target":"payment-method-selector"},a.createElement($e.a,{gutterSize:$e.b.Small},this.props.recurlyPayPalEnabled&&a.createElement(et.a,{cols:{default:12,sm:this.colWidth}},a.createElement(f.a,{margin:{bottom:1},"data-a-target":"recurly-paypal-button"},a.createElement(St,{onClick:this.onPayPalClick}))),this.props.paymentMethodLayout===Et.PaypalFirst&&this.props.recurlyCreditCardEnabled&&a.createElement(et.a,{cols:{default:12,sm:this.colWidth}},a.createElement(f.a,{margin:{bottom:1}},a.createElement(gt,{onClick:this.onCreditCardClick}))),this.props.recurlyAmazonPayEnabled&&a.createElement(et.a,{cols:{default:12,sm:this.colWidth}},a.createElement(f.a,{margin:{bottom:1},"data-a-target":"recurly-amazon-pay-button"},a.createElement(mt,{onClick:this.onAmazonPayClick}))),this.props.xsollaEnabled&&a.createElement(et.a,{cols:{default:12,sm:this.colWidth}},a.createElement(f.a,{margin:{bottom:1}},a.createElement(Ot,{type:this.props.recurlyCreditCardEnabled?pt.MoreMethods:pt.CreditCardPlusMore,onClick:this.onXsollaClick}))))),this.props.recurlyCreditCardEnabled&&this.props.paymentMethodLayout===Et.Default&&a.createElement(Xe,{headerText:this.props.ccLineHeader}));var e,t},Object.defineProperty(t.prototype,"colWidth",{get:function(){return this.props.paymentMethodLayout===Et.PaypalFirst&&this.props.recurlyCreditCardEnabled&&this.props.recurlyPayPalEnabled&&this.props.recurlyAmazonPayEnabled&&this.props.xsollaEnabled?3:4},enumerable:!0,configurable:!0}),t}(a.Component),Nt=Object(s.d)(Object(m.withLatencyTracking)("PaymentMethodSelector",{autoReportInteractive:!0}),v((function(e){return Object(r.__assign)({},e)})))(Pt),jt=n("KnXG"),Dt=["AD","AL","AT","AX","BA","BE","BG","BY","CH","CH","CY","CZ","DE","DK","EE","ES","EU","FI","FO","FR","GB","GG","GI","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MC","MD","ME","MK","MT","NL","NO","NO","PL","PT","RO","RS","SE","SI","SJ","SK","SM","UA","VA"];var Tt=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.state={selectedPaymentMethod:n.initialPaymentMethod,updatingPaymentMethodViaAPI:!1,updatePaymentMethodAPIError:!1,updatePaymentMethodAPIErrorCode:void 0,threeDSecureChallengeFailed:!1},n.inPrioritizePayPalEUExperiment=(t=Object(jt.a)()||"",Dt.includes(t.toUpperCase())&&"variant"===N.p.experiments.getAndTrackAssignment(Ie.c.PrioritizePaypalEU)),n.updateEventTrackingProperties=function(){switch(n.state.selectedPaymentMethod){case Ct.AllPaymentMethods:return void(n.recurlyCreditCardEnabled&&n.paymentMethodLayout!==Et.PaypalFirst?(n.props.checkoutSessionTracker.activePaymentMethod="credit_card",n.props.checkoutSessionTracker.activePaymentProvider="recurly"):(n.props.checkoutSessionTracker.activePaymentMethod=void 0,n.props.checkoutSessionTracker.activePaymentProvider=void 0));case Ct.RecurlyPayPal:return n.props.checkoutSessionTracker.activePaymentMethod="paypal",void(n.props.checkoutSessionTracker.activePaymentProvider="recurly");case Ct.RecurlyCreditCard:return n.props.checkoutSessionTracker.activePaymentMethod="credit_card",void(n.props.checkoutSessionTracker.activePaymentProvider="recurly");case Ct.RecurlyAmazonPay:return n.props.checkoutSessionTracker.activePaymentMethod="amazon_pay",void(n.props.checkoutSessionTracker.activePaymentProvider="recurly");case Ct.Xsolla:return n.props.checkoutSessionTracker.activePaymentMethod=void 0,void(n.props.checkoutSessionTracker.activePaymentProvider="xsolla");default:return}},n.onPaymentMethodChange=function(e){switch(e){case Ct.AllPaymentMethods:case Ct.RecurlyPayPal:case Ct.RecurlyAmazonPay:n.props.handlePaymentProviderUpdate(P.Vc.RECURLY)}n.setState({selectedPaymentMethod:e,updatePaymentMethodAPIError:!1,updatePaymentMethodAPIErrorCode:void 0,threeDSecureChallengeFailed:!1})},n.onChangePaymentMethodClick=function(){n.props.handlePaymentProviderUpdate(P.Vc.RECURLY),n.setState({selectedPaymentMethod:Ct.AllPaymentMethods})},n.handleStrongAuthSuccess=function(e){n.threeDSecureUpdatePaymentMethodArgs.billingAuthInfo={threeDSecureActionResultTokenID:e},n.state.updatingPaymentMethodViaAPI&&(n.props.checkoutSessionTracker.track(j.b.ThreeDS2Success),n.updatePaymentMethod(n.threeDSecureUpdatePaymentMethodArgs))},n.handleStrongAuthError=function(e){n.props.checkoutSessionTracker.track(j.b.ThreeDS2Failure,JSON.stringify(e)),n.setState({threeDSecureChallengeFailed:!0,updatingPaymentMethodViaAPI:!1})},n.handleStrongAuthShown=function(){n.props.checkoutSessionTracker.track(j.b.ThreeDS2Prompt)},n.handleRecurlyCreditCardToken=function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.updatePaymentMethod({paymentMethod:Fe.b.CreditCard,token:e.id,cardBINCountry:null===(t=null==e?void 0:e.billing_info)||void 0===t?void 0:t.cc_bin_country})];case 1:return n.sent(),[2]}}))}))},n.handleCreditCardFormInteraction=function(){n.props.checkoutSessionTracker.track(j.b.PaymentMethodUpdateInit,JSON.stringify({payment_method:"credit_card",payment_provider:"recurly"}))},n.handleRecurlyPayPalToken=function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updatePaymentMethod({paymentMethod:Fe.b.PayPal,token:e.id})];case 1:return t.sent(),[2]}}))}))},n.handleAmazonPayResponse=function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updatePaymentMethod({paymentMethod:Fe.b.AmazonPay,token:e})];case 1:return t.sent(),[2]}}))}))},n.handleAmazonPayScriptError=function(e){n.props.checkoutSessionTracker.track(j.b.VendorScriptFailure,JSON.stringify({error:e}))},n.updatePaymentMethod=function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t,n,i,a,o,s,c,l;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t=e.paymentMethod,n=e.token,i=e.cardBINCountry,a=e.billingAuthInfo,this.threeDSecureUpdatePaymentMethodArgs=e,this.setState({updatingPaymentMethodViaAPI:!0,updatePaymentMethodAPIError:!1,updatePaymentMethodAPIErrorCode:void 0,threeDSecureActionTokenID:void 0,threeDSecureChallengeFailed:!1}),this.props.checkoutSessionTracker.track(j.b.PaymentMethodUpdateAPIAttempt),[4,Fe.a.updatePaymentMethod({userID:this.props.currentUserID,paymentMethod:t,token:n,cardBINCountry:i,billingAuthInfo:{threeDSecureActionResultTokenID:null==a?void 0:a.threeDSecureActionResultTokenID},paymentSession:this.props.paymentSession})];case 1:if(o=r.sent().error){if(c=null===(l=null==(s=o)?void 0:s.error_details)||void 0===l?void 0:l.three_d_secure_action_token_id,this.props.checkoutSessionTracker.track(j.b.PaymentMethodUpdateAPIFailure,JSON.stringify(s)),c)return this.setState({threeDSecureActionTokenID:c}),[2];this.setState({updatePaymentMethodAPIError:!0,updatePaymentMethodAPIErrorCode:null==s?void 0:s.error_code}),this.setState({updatingPaymentMethodViaAPI:!1})}else this.props.checkoutSessionTracker.track(j.b.PaymentMethodUpdateAPISuccess),this.props.onUpdatePaymentMethodSuccess();return[2]}}))}))},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.updateEventTrackingProperties()},t.prototype.componentDidUpdate=function(){this.updateEventTrackingProperties()},t.prototype.render=function(){return this.recurlyEnabled?a.createElement(f.a,{className:"checkout-form-select-screen"},a.createElement(Nt,{selectedPaymentMethod:this.state.selectedPaymentMethod,paymentMethodLayout:this.paymentMethodLayout,onPaymentMethodChange:this.onPaymentMethodChange,showReviewPurchaseScreen:this.props.showReviewPurchaseScreen,hasEligibleSPM:this.props.hasEligibleSPM,recurlyCreditCardEnabled:!!this.recurlyCreditCardEnabled,recurlyPayPalEnabled:!!this.recurlyPayPalEnabled,recurlyAmazonPayEnabled:!!this.recurlyAmazonPayEnabled,xsollaEnabled:!!this.xsollaEnabled,formHeader:this.props.formHeader,ccLineHeader:this.props.ccLineHeader}),this.anyErrorMessage,a.createElement(Ae.a,null,this.paymentMethodProcessor)):a.createElement(f.a,{className:"checkout-form-select-screen"},a.createElement(qe,{selectedQuantity:this.props.selectedQuantity,handlePaymentProviderUpdate:this.props.handlePaymentProviderUpdate,onChangePaymentMethodClick:this.onChangePaymentMethodClick,recurlyEnabled:this.recurlyEnabled,refetchCheckoutFormScreenManagerData:this.props.refetchCheckoutFormScreenManagerData,xsollaEnabled:this.xsollaEnabled,xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,paymentMethods:this.props.paymentMethods,userResidence:this.props.userResidence,requestInfoCountryCode:this.props.requestInfoCountryCode,productPurchaseErrorCode:this.props.productPurchaseErrorCode,handlePurchaseSuccess:this.props.handlePurchaseSuccess}))},Object.defineProperty(t.prototype,"initialPaymentMethod",{get:function(){return"variant"===N.p.experiments.getAndTrackAssignment(Ie.c.PrioritizeXsolla)&&this.props.checkoutActions.includes(P.R.PRIORITIZE_XSOLLA)?Ct.Xsolla:this.recurlyEnabled?Ct.AllPaymentMethods:Ct.Xsolla},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentMethodLayout",{get:function(){return this.inPrioritizePayPalEUExperiment?Et.PaypalFirst:Et.Default},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyCreditCardEnabled",{get:function(){return this.props.checkoutActions.includes(P.R.DISABLE_NEW_CREDIT_CARD)?null:this.props.eligiblePaymentMethods.find((function(e){return e.name===P.Tb.CREDIT_CARD}))||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyPayPalEnabled",{get:function(){return this.props.eligiblePaymentMethods.find((function(e){return e.name===P.Tb.PAYPAL}))||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyAmazonPayEnabled",{get:function(){return this.props.eligiblePaymentMethods.find((function(e){return e.name===P.Tb.AMAZON_PAY}))||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyEnabled",{get:function(){return!!this.recurlyCreditCardEnabled||!!this.recurlyPayPalEnabled||!!this.recurlyAmazonPayEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xsollaEnabled",{get:function(){return this.props.eligiblePaymentMethods.find((function(e){return e.name===P.Tb.XSOLLA}))||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reviewPurchaseText",{get:function(){return Object(N.d)("Review Purchase","CheckoutFormSelectScreen")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anyErrorMessage",{get:function(){return this.state.updatePaymentMethodAPIError?a.createElement(f.a,{margin:{y:1}},a.createElement(R.a,{type:B.a.Error,message:{title:Object(N.d)("Payment not processed","CheckoutFormSelectScreen"),description:Object(Re.a)(this.state.updatePaymentMethodAPIErrorCode)}})):this.state.threeDSecureChallengeFailed?a.createElement(f.a,{margin:{y:1}},a.createElement(R.a,{type:B.a.Error,message:{title:Object(N.d)("Verification Failed","CheckoutFormSelectScreen"),description:Object(N.d)("We had a problem verifying this payment method with your bank. Please try again or use a different payment method.","CheckoutFormSelectScreen")}})):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentMethodProcessor",{get:function(){var e,t,n,i;switch(this.state.selectedPaymentMethod){case Ct.AllPaymentMethods:return!this.recurlyCreditCardEnabled||this.inPrioritizePayPalEUExperiment?null:(null===(e=this.recurlyCreditCardEnabled)||void 0===e?void 0:e.availabilityStatus)!==P.Uc.AVAILABLE?a.createElement(pe,null):a.createElement(f.a,null,a.createElement(be.a,{publicKey:this.props.recurlyConfigs.publicKey,handleSuccess:this.handleStrongAuthSuccess,handleError:this.handleStrongAuthError,handleChallengeShown:this.handleStrongAuthShown,threeDSecureActionTokenID:this.state.threeDSecureActionTokenID},a.createElement(Me.a,{publicKey:this.props.recurlyConfigs.publicKey,callToActionButtonLabel:this.reviewPurchaseText,forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleTokenResponse:this.handleRecurlyCreditCardToken,onFirstFormInteraction:this.handleCreditCardFormInteraction})));case Ct.RecurlyPayPal:return(null===(t=this.recurlyPayPalEnabled)||void 0===t?void 0:t.availabilityStatus)!==P.Uc.AVAILABLE?a.createElement(pe,null):a.createElement(f.a,{padding:{y:3}},a.createElement(_e.a,{publicKey:this.props.recurlyConfigs.publicKey,braintreeClientAuthorization:this.props.recurlyConfigs.braintreeClientAuthorization,callToActionButtonLabel:"",forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleTokenResponse:this.handleRecurlyPayPalToken,autoLogin:!0}));case Ct.RecurlyCreditCard:return(null===(n=this.recurlyCreditCardEnabled)||void 0===n?void 0:n.availabilityStatus)!==P.Uc.AVAILABLE?a.createElement(pe,null):a.createElement(f.a,null,a.createElement(be.a,{publicKey:this.props.recurlyConfigs.publicKey,handleSuccess:this.handleStrongAuthSuccess,handleError:this.handleStrongAuthError,handleChallengeShown:this.handleStrongAuthShown,threeDSecureActionTokenID:this.state.threeDSecureActionTokenID},a.createElement(Me.a,{publicKey:this.props.recurlyConfigs.publicKey,callToActionButtonLabel:this.reviewPurchaseText,forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleTokenResponse:this.handleRecurlyCreditCardToken,onFirstFormInteraction:this.handleCreditCardFormInteraction})));case Ct.RecurlyAmazonPay:return(null===(i=this.recurlyAmazonPayEnabled)||void 0===i?void 0:i.availabilityStatus)!==P.Uc.AVAILABLE?a.createElement(pe,null):a.createElement(f.a,{padding:{y:3}},a.createElement(xe.a,{clientID:this.props.recurlyConfigs.payWithAmazonConfigs.clientID,isProduction:this.props.recurlyConfigs.payWithAmazonConfigs.isProduction,sellerID:this.props.recurlyConfigs.payWithAmazonConfigs.sellerID,callToActionButtonLabel:this.reviewPurchaseText,forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleBillingAgreementID:this.handleAmazonPayResponse,handleAmazonPayScriptError:this.handleAmazonPayScriptError,autoLogin:!0}));case Ct.Xsolla:return a.createElement(qe,{selectedQuantity:this.props.selectedQuantity,handlePaymentProviderUpdate:this.props.handlePaymentProviderUpdate,onChangePaymentMethodClick:this.onChangePaymentMethodClick,recurlyEnabled:this.recurlyEnabled,refetchCheckoutFormScreenManagerData:this.props.refetchCheckoutFormScreenManagerData,xsollaEnabled:this.xsollaEnabled,xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,paymentMethods:this.props.paymentMethods,userResidence:this.props.userResidence,requestInfoCountryCode:this.props.requestInfoCountryCode,productPurchaseErrorCode:this.props.productPurchaseErrorCode,handlePurchaseSuccess:this.props.handlePurchaseSuccess});default:return null}},enumerable:!0,configurable:!0}),t}(a.Component),wt=Object(s.d)(Object(m.withLatencyTracking)("CheckoutFormSelectScreen",{autoReportInteractive:!0}),v((function(e){return Object(r.__assign)({},e)})))(Tt),It=n("V/nq"),xt=n("8EUQ"),At=n("Mb07"),Mt=n("8Csb"),_t=n("XQbB"),Ft=n("DY5q"),Rt=(n("vLiP"),function(e){function t(){var t,n=e.apply(this,arguments)||this;return n.sortedOffers=null===(t=n.props.multimonthGiftOffers)||void 0===t?void 0:t.sort((function(e,t){return e.months-t.months})),n.handleMultimonthSelect=function(e){var t=e.target.value;n.props.handleMultimonthSelect({selectedOfferID:t})},n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e;return a.createElement(f.a,{className:"month-selector"},a.createElement(Ft.a,{onChange:this.handleMultimonthSelect,value:""+this.props.selectedOfferID,"data-a-target":"checkout-month-selector"},null===(e=this.sortedOffers)||void 0===e?void 0:e.map((function(e){var t=e.offerID,n=e.months;return a.createElement("option",{key:t,value:t,"data-months":n},Object(N.d)("{months, plural, one {{months} month} other {{months} months}}",{months:n},"MonthSelector"))}))))},t}(a.Component)),Bt=n("3aAs"),Lt=(n("vK6+"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={inputString:t.props.quantity.toString()},t.handleSelectChange=function(e){var n=e.target.value;t.props.handleQuantitySelect(Number(n))},t.handleInputChange=function(e){if(""===e.target.value)return t.props.handleQuantitySelect(t.props.min),void t.setState({inputString:""});var n=parseInt(e.target.value,10);isNaN(n)||(n<t.props.min?n=t.props.min:n>t.props.max&&(n=t.props.max),t.setState({inputString:n.toString()}),t.props.handleQuantitySelect(n))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return this.props.max-this.props.min<=9?this.quantityDropdownSelector:this.customQuantitySelector},Object.defineProperty(t.prototype,"quantityDropdownSelector",{get:function(){var e=[];if(this.props.min&&this.props.max)for(var t=this.props.min;t<=this.props.max;t++)e.push(a.createElement("option",{key:t,value:t},Object(N.f)(t)));return a.createElement(Ce.a,{className:"quantity-selector"},a.createElement(Ft.a,{onChange:this.handleSelectChange,value:""+this.props.quantity,"data-a-target":"checkout-quantity-selector"},e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customQuantitySelector",{get:function(){return a.createElement(Ce.a,{className:"quantity-selector",margin:{bottom:1},display:A.g.Flex,breakpointSmall:{margin:{y:1}}},a.createElement(f.a,{margin:{right:1},display:A.g.Flex,alignItems:A.b.Center},a.createElement(T.a,{color:A.f.Alt2,fontSize:A.j.Size8},Object(N.d)("(max {limit, number})",{limit:this.props.max},"QuantitySelector"))),a.createElement(Bt.a,{max:this.props.max,min:this.props.min,onChange:this.handleInputChange,type:Bt.c.Number,value:this.state.inputString}))},enumerable:!0,configurable:!0}),t}(a.Component)),Ut=n("a5fV"),Gt=n("98dL"),qt=n("wp5a"),zt=n("K+jS"),Ht=(n("Jhy1"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderCard=function(e,n){var i,r,o,s,c,l,u=e.id===t.props.selectedOfferID,d=Object(p.d)("Renews monthly","MultiMonthOfferSelector"),m=null===(c=null===(s=null===(o=null===(r=null===(i=e.listing)||void 0===i?void 0:i.chargeModel)||void 0===r?void 0:r.internal)||void 0===o?void 0:o.plan)||void 0===s?void 0:s.interval)||void 0===c?void 0:c.duration;m&&(d=Object(p.d)("{duration, plural, one {Renews monthly} other {Renews every # months}}",{duration:m},"MultiMonthOfferSelector"));var h,g,b=Object(Ut.d)(e,1,!0),y=null===(l=e.promotion)||void 0===l?void 0:l.promoDisplay.discountPercent;return y&&(g=Object(Ut.d)(e),h=Object(p.d)("{percent}% off each month",{percent:y},"MultiMonthOfferSelector")),a.createElement(f.a,{margin:.5,flexGrow:1},a.createElement(Gt.a,{type:Gt.b.Checkbox,onChange:function(){return!u&&t.handleSelect(e.id)},key:n,disabled:t.props.disabled,borderRadius:A.e.Medium,checked:u},a.createElement(Ce.a,{padding:1,background:u?A.d.Base:A.d.Alt2},a.createElement(K.a,{padding:{bottom:1}},a.createElement(T.a,{fontSize:A.j.Size5,bold:!0},d)),a.createElement(f.a,{justifyContent:A.l.Between},g&&a.createElement(T.a,{decoration:T.c.Strikethrough,color:A.f.Alt2,type:T.e.Span},b),a.createElement(K.a,{padding:.5},a.createElement(T.a,{color:A.f.Alt,type:T.e.Span},g||b)),h&&a.createElement(K.a,{padding:.5},a.createElement(qt.a,{label:h,type:qt.b.Success}))))))},t.handleSelect=function(e){t.props.handleSelect({selectedOfferID:e})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(f.a,{margin:{y:2}},a.createElement(K.a,{padding:{bottom:1}},a.createElement(zt.a,{type:T.e.H2,size:zt.b.ExtraSmall},Object(p.d)("Select Renewal Period","MultiMonthOfferSelector"))),a.createElement(f.a,{display:A.g.Flex,flexWrap:A.i.NoWrap},this.props.multiMonthOffers.map((function(t,n){return e.renderCard(t,n)}))))},t}(a.Component)),Vt=n("Q7xm"),Wt=n.n(Vt),Yt=n("sqAG"),Qt=n.n(Yt),Kt=n("b92r"),Jt=n.n(Kt),Zt=n("3Qp8"),Xt=n.n(Zt),$t=function(e){return a.createElement(f.a,{display:A.g.Flex},a.createElement(f.a,{flexGrow:0,flexShrink:0,verticalAlign:A.q.Top,margin:{right:1},padding:{top:.5}},e.leftColumn),a.createElement(f.a,{verticalAlign:A.q.Top,flexGrow:1,flexShrink:1},e.rightColumn))},en=function(){return a.createElement($t,{leftColumn:a.createElement(ye.a,{asset:ve.a.DeadGlitch,height:30,width:30}),rightColumn:a.createElement(z.a,{lineCount:2})})},tn=function(){return a.createElement($t,{leftColumn:a.createElement(z.a,{height:30,width:30}),rightColumn:a.createElement(z.a,{lineCount:2})})},nn=n("1ZY8"),rn=(n("DFKC"),{100:Jt.a,500:Jt.a,1500:Qt.a,5e3:Wt.a,1e4:Xt.a,25e3:Xt.a}),an=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?this.props.data.error?a.createElement(en,null):a.createElement($t,{leftColumn:a.createElement(Ze.a,{className:"bits-product-description__bits-image",src:this.bitsImgSrc,alt:this.formattedBitsBundleText}),rightColumn:a.createElement(f.a,null,a.createElement(T.a,{bold:!0,"data-a-target":"bits-product-text"},this.formattedBitsBundleText),a.createElement(T.a,{color:A.f.Alt2},Object(N.d)("One-time charge on {date}.",{date:Object(N.c)(new Date(Date.now()),"medium")},"BitsProductDescription")))}):a.createElement(tn,null)},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitsAmount",{get:function(){var e=this,t=this.props.data.currentUser;if(!t||!t.bitsOffers)return null;var n=t.bitsOffers.find((function(t){return!(!t||"BitsBundleOffer"!==t.__typename||t.asin!==e.props.productID)}));return n?n.bits:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitsImgSrc",{get:function(){return this.bitsAmount&&rn[this.bitsAmount]?rn[this.bitsAmount]:Jt.a},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedBitsBundleText",{get:function(){return this.bitsAmount?Object(N.d)("{bitsAmount, number} Bits Bundle",{bitsAmount:this.bitsAmount},"BitsProductDescription"):Object(N.d)("Bits Bundle","BitsProductDescription")},enumerable:!0,configurable:!0}),t}(a.Component),on=Object(s.d)(Object(m.withLatencyTracking)("BitsProductDescription"),Object(O.a)(nn))(an),sn=n("HGFl"),cn=n("HH5h"),ln=(n("IVzh"),function(e){var t=e.channelName;return"experiment"===N.p.experiments.getAndTrackAssignment(Ie.c.CheckoutCreatorBenefits)?a.createElement(f.a,{display:A.g.Flex,flexDirection:A.h.Row,alignItems:A.b.Center,justifyContent:A.l.Start,padding:1,margin:{top:1},className:"sub-benefit-callout"},a.createElement(f.a,{margin:{right:1}},a.createElement(Ze.a,{src:"https://static-cdn.jtvnw.net/emoticons/v1/62835/3.0",alt:"bleedPurple",srcSet:{"1x":"https://static-cdn.jtvnw.net/emoticons/v1/62835/1.0","2x":"https://static-cdn.jtvnw.net/emoticons/v1/62835/2.0","3x":"https://static-cdn.jtvnw.net/emoticons/v1/62835/3.0"}})),a.createElement(T.a,null,Object(N.d)("This subscription directly supports {channelName} and their stream",{channelName:t},"SubscriptionBenefitsCallout"))):null}),un=n("M9G0"),dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?this.props.data.error?a.createElement(en,null):a.createElement($t,{leftColumn:a.createElement(cn.a,{alt:this.channelLogin,size:60,src:this.avatarSrc,userLogin:this.channelLogin}),rightColumn:a.createElement(f.a,null,a.createElement(T.a,{bold:!0},this.formattedProductName),this.upgradeRecurringSub&&a.createElement(T.a,{color:A.f.Alt2},this.upgradeWarningText),this.isGift&&a.createElement(T.a,{color:A.f.Alt2},this.giftText),a.createElement(T.a,{color:A.f.Alt2},this.formattedChargeDateText),a.createElement(ln,{channelName:this.channelOwnerDisplayName}))}):a.createElement(tn,null)},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error||!!this.props.data.purchasableOffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"upgradeWarningText",{get:function(){return Object(N.d)("You are upgrading your Subscription. You will be charged for your upgrade and will not be prorated for your previous Subscription.","SubsProductDescription")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"avatarSrc",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.profileImageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelLogin",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.login)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelOwnerDisplayName",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tier",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.tier)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedProductName",{get:function(){switch(this.tier){case"1000":return Object(N.d)("Tier 1 Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription");case"2000":return Object(N.d)("Tier 2 Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription");case"3000":return Object(N.d)("Tier 3 Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription");default:return Object(N.d)("Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefitsStartAt",{get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.benefitsStartAt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedFutureChargeDate",{get:function(){return this.benefitsStartAt?Object(N.c)(Object(sn.e)(this.benefitsStartAt),"medium"):""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurring",{get:function(){var e,t,n,i,r,a;return(null===(a=null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.plan)||void 0===a?void 0:a.renewalPolicy)===P.Ad.AUTO_RENEW},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"futureDated",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.purchaseType)===P.Lc.FUTURE_PURCHASE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"upgradeRecurringSub",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.purchaseType)===P.Lc.UPGRADE_RECURRING_SUB_TIER},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedChargeDateText",{get:function(){return this.futureDated?Object(N.d)('Monthly recurring charge, starting when your current Subscription ends on {futureDate}. Cancel anytime by selecting "Do Not Renew" on your Subscriptions page.',{futureDate:this.formattedFutureChargeDate},"SubsProductDescription"):this.recurring?this.props.chargeInterval&&this.props.chargeInterval>1?Object(N.d)('{chargeInterval, plural, one {Charged every # month starting {date}. Cancel anytime by selecting "Do Not Renew" on your Subscriptions page.} other {Charged every # months starting {date}. Cancel anytime by selecting "Do Not Renew" on your Subscriptions page.}}',{chargeInterval:this.props.chargeInterval,date:Object(N.c)(new Date(Date.now()),"medium")},"SubsProductDescription"):Object(N.d)('Monthly recurring charge, starting {date}. Cancel anytime by selecting "Do Not Renew" on your Subscriptions page.',{date:Object(N.c)(new Date(Date.now()),"medium")},"SubsProductDescription"):Object(N.d)("One-time charge on {date}.",{date:Object(N.c)(new Date(Date.now()),"medium")},"SubsProductDescription")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"singleGift",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.giftType)===P.kc.SINGLE_RECIPIENT},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"communityGift",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.giftType)===P.kc.COMMUNITY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isGift",{get:function(){return this.singleGift||this.communityGift},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftRecipient",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.giftRecipient)||void 0===t?void 0:t.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftText",{get:function(){return this.singleGift?this.props.isAnonymous?Object(N.d)("You are anonymously gifting this to {giftRecipient}.",{giftRecipient:this.giftRecipient},"SubsProductDescription"):Object(N.d)("You are gifting this to {giftRecipient}.",{giftRecipient:this.giftRecipient},"SubsProductDescription"):this.communityGift?this.props.isAnonymous?Object(N.d)("You are anonymously gifting this to the community.","SubsProductDescription"):Object(N.d)("You are gifting this to the community.","SubsProductDescription"):""},enumerable:!0,configurable:!0}),t}(a.Component),pn=Object(s.d)(Object(m.withLatencyTracking)("SubsProductDescription"),Object(O.a)(un,{options:function(e){var t="";return e.giftRecipientIDs&&(t=e.giftRecipientIDs[0]),{variables:{productName:e.productName||"",giftRecipientID:t,includeGiftRecipientQuery:!!t,params:{offerID:e.offerID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}},fetchPolicy:"network-only"}}}))(dn),mn=n("UxA+"),fn=n.n(mn),hn=(n("7m5f"),function(){var e=Object(N.d)("Twitch Turbo","TurboProductDescription");return a.createElement($t,{leftColumn:a.createElement(Ze.a,{className:"turbo-product-description__turbo-avatar-image",src:fn.a,alt:e}),rightColumn:a.createElement(a.Fragment,null,a.createElement(T.a,{bold:!0},e),a.createElement(T.a,{color:A.f.Alt2},Object(N.d)('Monthly recurring charge, starting {date}. Cancel anytime by selecting "Do Not Renew" on your Subscriptions page.',{date:Object(N.c)(new Date(Date.now()),"medium")},"TurboProductDescription")))})}),gn=n("CD86"),bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e;if(!this.dataReady)return a.createElement(tn,null);if(null===(e=this.props.data)||void 0===e?void 0:e.error)return a.createElement(en,null);switch(this.tplr){case Ln.BitsBundle:return a.createElement(on,{productID:this.productID});case Ln.ChannelSub:case Ln.ChannelSubStandardGift:case Ln.ChannelSubCommunityGift:case Ln.ChannelSubCustom:return a.createElement(pn,{offerID:this.props.selectedOfferID,tplr:this.tplr,productName:this.props.productName,giftRecipientIDs:this.props.giftRecipientIDs,isAnonymous:this.props.isAnonymous,tagBindings:this.props.tagBindings,chargeInterval:this.props.chargeInterval});case Ln.Turbo:return a.createElement(hn,null);default:return a.createElement(en,null)}},Object.defineProperty(t.prototype,"dataReady",{get:function(){var e,t;return!this.props.selectedOfferID||(!(null===(e=this.props.data)||void 0===e?void 0:e.loading)||!!(null===(t=this.props.data)||void 0===t?void 0:t.error)||!!this.props.data.purchasableOffer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tplr",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tplr)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagBindings",{get:function(){var e,t;return null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tagBindings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"productID",{get:function(){if(this.tplr===Ln.BitsBundle&&this.tagBindings){var e=this.tagBindings.find((function(e){return"product_id"===e.key}));return e&&e.value||""}return""},enumerable:!0,configurable:!0}),t}(a.Component),yn=Object(s.d)(Object(m.withLatencyTracking)("ProductDescription"),v((function(e){return Object(r.__assign)({},e)})),Object(O.a)(gn,{options:function(e){return{variables:{params:{offerID:e.selectedOfferID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}}}},skip:function(e){return!e.selectedOfferID}}))(bn),vn=(n("A1XS"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.selectorComponent?8:9,t=this.props.selectorComponent?4:3;return a.createElement(Ce.a,{className:"summary-layout",padding:2,breakpointSmall:{padding:{x:3}},borderBottom:!0},!!this.props.closeModal&&a.createElement(f.a,{margin:{bottom:2}},a.createElement(zt.a,{size:zt.b.Large,type:T.e.H1},Object(p.d)("Complete Purchase","SummaryLayout"))),this.props.multiMonthOffers&&this.props.multiMonthOffers.length>1&&a.createElement(Ht,{multiMonthOffers:this.props.multiMonthOffers,selectedOfferID:this.props.selectedOfferID,handleSelect:this.props.handleMultimonthSelect,disabled:this.props.purchaseComplete}),a.createElement(Ce.a,{borderBottom:!0,margin:{bottom:1},padding:{bottom:1}},a.createElement($e.a,null,a.createElement(et.a,{cols:{default:12,sm:e}},a.createElement(f.a,{margin:{bottom:1}},a.createElement(zt.a,{type:T.e.H2,size:zt.b.ExtraSmall},Object(p.d)("Purchase Summary","SummaryLayout"))),a.createElement(f.a,{margin:{bottom:2},breakpointSmall:{margin:0}},a.createElement(yn,{selectedOfferID:this.props.selectedOfferID}))),a.createElement(et.a,{cols:{default:12,sm:t}},a.createElement($e.a,null,this.props.selectorComponent,this.props.topContent)))),this.props.bottomContent)},t}(a.Component)),kn=Object(s.d)(Object(m.withLatencyTracking)("SummaryLayout",{autoReportInteractive:!0}),v((function(e){return Object(r.__assign)({},e)})))(vn),Sn=(n("sAl/"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleQuantitySelect=function(e){t.props.handleQuantitySelect(e)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(p.d)("Gift Card Balance: ({balanceString})",{balanceString:this.formattedBalance},"CheckoutFormSummary");if(this.inMultiMonthExperiment||this.props.paymentProvider===P.Vc.XSOLLA_V3&&!this.isTaxInclusive){var t=this.props.walletBalance?Object(p.d)("Your Gift Card Balance cannot be used with the selected payment provider. See below for total.","CheckoutFormSummary"):Object(p.d)("See below for total","CheckoutFormSummary");return a.createElement(kn,{selectedOfferID:this.props.selectedOfferID,selectorComponent:this.quantitySelector||this.monthSelector,topContent:this.subtotalDisplay,bottomContent:a.createElement($e.a,null,a.createElement(et.a,{cols:{default:12,sm:6},offset:{default:0,sm:6}},a.createElement(f.a,{textAlign:A.p.Right},a.createElement(T.a,null,t)))),handleMultimonthSelect:this.props.handleMultimonthSelect,purchaseComplete:this.props.purchaseComplete})}return this.isTaxInclusive?a.createElement(kn,{selectedOfferID:this.props.selectedOfferID,selectorComponent:this.quantitySelector||this.monthSelector,bottomContent:a.createElement($e.a,null,a.createElement(et.a,{cols:{default:12,sm:6},offset:{default:0,sm:6}},a.createElement($e.a,null,a.createElement(et.a,{cols:{default:6,sm:8}},this.discountPercent&&this.promotionLineItemDisplay,a.createElement(f.a,{textAlign:A.p.Left,breakpointSmall:{textAlign:A.p.Right}},a.createElement(T.a,{type:T.e.Strong,fontSize:A.j.Size4},Object(p.d)("Total including VAT","CheckoutFormSummary")))),a.createElement(et.a,{cols:{default:6,sm:4}},this.balanceEnabled&&a.createElement(f.a,{textAlign:A.p.Right},a.createElement(T.a,null,this.formattedBalanceDeduction)),this.discountPrice&&this.formattedDiscountDisplay,a.createElement(f.a,{textAlign:A.p.Right},this.props.updatingPrice?a.createElement(f.a,{display:A.g.InlineBlock},a.createElement(_t.a,null)):a.createElement(T.a,null,a.createElement(T.a,{type:T.e.Span,fontSize:A.j.Size4,bold:!0},this.formattedTotal),this.total&&!this.discountPrice&&!this.hasWalletBalance&&a.createElement(T.a,{type:T.e.Span},this.formattedInterval))))))),handleMultimonthSelect:this.props.handleMultimonthSelect,purchaseComplete:this.props.purchaseComplete}):a.createElement(kn,{selectedOfferID:this.props.selectedOfferID,selectorComponent:this.quantitySelector||this.monthSelector,topContent:this.subtotalDisplay,bottomContent:a.createElement($e.a,null,a.createElement(et.a,{cols:{default:6,sm:6}},(this.balanceEnabled||"US"===this.props.requestInfoCountryCode)&&a.createElement(f.a,{display:A.g.Flex,alignItems:A.b.Center,margin:{top:2,bottom:2}},a.createElement(T.a,{fontSize:A.j.Size6},Object(p.d)("Have a Twitch Gift Card? <x:redeem>Redeem now</x:redeem>",{"x:redeem":function(e){return a.createElement(Q.a,{onClick:function(){window.open("/redeem")}},e)}},"CheckoutFormSummary")))),a.createElement(et.a,{cols:{default:6,sm:4}},this.discountPercent&&this.promotionLineItemDisplay,a.createElement(f.a,{textAlign:A.p.Left,breakpointSmall:{textAlign:A.p.Right}},a.createElement(T.a,null,Object(p.d)("Tax","CheckoutFormSummary"))),this.balanceEnabled&&a.createElement(f.a,{textAlign:A.p.Left,breakpointSmall:{textAlign:A.p.Right}},a.createElement(T.a,null,e)),a.createElement(f.a,{textAlign:A.p.Left,breakpointSmall:{textAlign:A.p.Right}},a.createElement(T.a,{type:T.e.Strong,fontSize:A.j.Size4},Object(p.d)("Total","CheckoutFormSummary")))),a.createElement(et.a,{cols:{default:6,sm:2}},this.discountPrice&&this.formattedDiscountDisplay,a.createElement(f.a,{textAlign:A.p.Right},this.props.updatingPrice?a.createElement(f.a,{display:A.g.InlineBlock},a.createElement(_t.a,null)):a.createElement(T.a,null,this.formattedTax)),this.balanceEnabled&&a.createElement(f.a,{textAlign:A.p.Right},a.createElement(T.a,null,this.formattedBalanceDeduction)),a.createElement(f.a,{textAlign:A.p.Right},this.props.updatingPrice?a.createElement(f.a,{display:A.g.InlineBlock},a.createElement(_t.a,null)):a.createElement(T.a,null,a.createElement(T.a,{type:T.e.Span,fontSize:A.j.Size4,bold:!0},this.formattedTotal),this.total&&!this.discountPrice&&!this.hasWalletBalance&&a.createElement(T.a,{type:T.e.Span},this.formattedInterval))))),handleMultimonthSelect:this.props.handleMultimonthSelect,purchaseComplete:this.props.purchaseComplete})},Object.defineProperty(t.prototype,"showQuantitySelector",{get:function(){return this.props.quantityMin<this.props.quantityMax&&!this.isRecurring},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthSelector",{get:function(){var e;return!!(null===(e=this.props.multimonthGiftOffers)||void 0===e?void 0:e.length)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRecurring",{get:function(){return this.props.plan.renewalPolicy===P.Ad.AUTO_RENEW},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthSelector",{get:function(){var e;if(null===(e=this.props.multimonthGiftOffers)||void 0===e?void 0:e.length)return a.createElement(et.a,{cols:{default:12,sm:8},offset:this.isTaxInclusive?{default:0,sm:4}:void 0},a.createElement($e.a,null,a.createElement(et.a,{cols:{default:6,sm:12}},a.createElement(f.a,{margin:{bottom:1},textAlign:A.p.Left,breakpointSmall:{textAlign:A.p.Right}},a.createElement(T.a,null,Object(p.d)("Months","CheckoutFormSummary")))),a.createElement(et.a,{cols:{default:6,sm:12}},a.createElement(Rt,{selectedOfferID:this.props.selectedOfferID,handleMultimonthSelect:this.props.handleMultimonthSelect,multimonthGiftOffers:this.props.multimonthGiftOffers}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantitySelector",{get:function(){if(this.showQuantitySelector)return a.createElement(et.a,{cols:{default:12,sm:8},offset:this.isTaxInclusive?{default:0,sm:4}:void 0},a.createElement($e.a,null,a.createElement(et.a,{cols:{default:6,sm:12}},a.createElement(f.a,{margin:{bottom:1},textAlign:A.p.Left,breakpointSmall:{textAlign:A.p.Right}},a.createElement(T.a,null,Object(p.d)("Quantity","CheckoutFormSummary")))),a.createElement(et.a,{cols:{default:6,sm:12}},a.createElement(Lt,{min:this.props.quantityMin,max:this.props.quantityMax,quantity:this.props.selectedQuantity,handleQuantitySelect:this.handleQuantitySelect}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtotalDisplay",{get:function(){var e=this.showQuantitySelector||this.showMonthSelector?4:12;return a.createElement(et.a,{cols:{default:12,sm:e}},a.createElement($e.a,{fullHeight:!0},a.createElement(et.a,{cols:{default:6,sm:12}},a.createElement(f.a,{textAlign:A.p.Left,breakpointSmall:{textAlign:A.p.Right,margin:{bottom:1}}},a.createElement(T.a,null,Object(p.d)("Subtotal","CheckoutFormSummary")))),a.createElement(et.a,{cols:{default:6,sm:12}},a.createElement(f.a,{textAlign:A.p.Right,alignItems:A.b.Center,verticalAlign:A.q.TextTop},this.props.updatingPrice?a.createElement(f.a,{display:A.g.InlineBlock},a.createElement(_t.a,null)):a.createElement(T.a,{"data-a-target":"checkout-summary-subtotal"},this.formattedSubtotal)))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promotionLineItemDisplay",{get:function(){var e,t,n;if(!this.discountPercent)return null;if(null===(t=null===(e=this.props.promotion)||void 0===e?void 0:e.name)||void 0===t?void 0:t.includes(Mt.a))return this.multimonthOfferLineItemDisplay;switch(null===(n=this.props.promotion)||void 0===n?void 0:n.name){case At.a.FirstPaidSubOffer:return this.firstPaidSubOfferLineItemDisplay;case At.a.FirstPaidGiftOffer:case At.a.FirstPaidSingleGiftOffer:case At.a.FirstPaidMulitMonthOffer:return this.firstPaidGiftOfferLineItemDisplay;case At.a.MultiMonthIntroOffer:return this.multimonthOfferLineItemDisplay;default:return null}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multimonthOfferLineItemDisplay",{get:function(){return this.discountPercent?a.createElement(f.a,{textAlign:A.p.Left,breakpointSmall:{textAlign:A.p.Right},margin:{bottom:.5}},a.createElement(T.a,{className:"checkout-form-summary__discount"},Object(p.d)("First Time {percent}% off",{percent:this.discountPercent},"CheckoutFormSummary"))):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstPaidSubOfferLineItemDisplay",{get:function(){return this.discountPercent?a.createElement(f.a,{textAlign:A.p.Left,breakpointSmall:{textAlign:A.p.Right},margin:{bottom:.5}},a.createElement(T.a,{className:"checkout-form-summary__discount"},Object(p.d)("First Sub, First Month: {percent}% off Promo",{percent:this.discountPercent},"CheckoutFormSummary"))):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstPaidGiftOfferLineItemDisplay",{get:function(){return this.discountPercent?a.createElement(f.a,{textAlign:A.p.Left,breakpointSmall:{textAlign:A.p.Right},margin:{bottom:.5}},a.createElement(T.a,null,Object(p.d)("{giftCount, plural, one {{percent}% off first gift sub} other {{percent}% off first gift subs}}",{giftCount:this.props.selectedQuantity,percent:this.discountPercent},"CheckoutFormSummary"))):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedDiscountDisplay",{get:function(){return a.createElement(f.a,{margin:{bottom:.5},textAlign:A.p.Right},this.props.updatingPrice?a.createElement(f.a,{display:A.g.InlineBlock},a.createElement(_t.a,null)):a.createElement(T.a,{className:"checkout-form-summary__discount"},this.formattedDiscount))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"balanceEnabled",{get:function(){return!!this.props.walletBalance&&null!==this.props.checkoutPrice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasWalletBalance",{get:function(){return void 0!==this.props.walletBalance&&this.props.walletBalance.amount>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"price",{get:function(){if(!this.inMultiMonthExperiment){var e=this.props,t=e.checkoutPrice,n=e.previewPrice,i=e.selectedQuantity;return t?t.price:(null==n?void 0:n.price)?n.price*i:void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"discountPrice",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice,i=e.selectedQuantity;return(null==t?void 0:t.discount)?t.discount.total:(null==n?void 0:n.discount)?n.discount.price*i:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"discountPercent",{get:function(){var e,t;return null===(t=null===(e=this.props.promotion)||void 0===e?void 0:e.promoDisplay)||void 0===t?void 0:t.discountPercent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currency",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice;return t?t.currency:(null==n?void 0:n.currency)?n.currency:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exponent",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice;return t?t.exponent:void 0!==(null==n?void 0:n.exponent)?n.exponent:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice,i=e.selectedQuantity;return this.discountPrice?this.discountPrice:t?t.total:(null==n?void 0:n.price)&&(null==n?void 0:n.isTaxInclusive)?n.price*i:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTaxInclusive",{get:function(){var e;return this.props.checkoutPrice?this.props.checkoutPrice.isTaxInclusive:null===(e=this.props.previewPrice)||void 0===e?void 0:e.isTaxInclusive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedSubtotal",{get:function(){return this.price&&void 0!==this.exponent?""+Object(p.f)(this.price/Math.pow(10,this.exponent),{style:"currency",currency:this.currency})+this.formattedInterval:"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"balanceDeduction",{get:function(){if(this.total&&this.exponent&&this.props.walletBalance){var e=Object(xt.b)({amount:this.total,exponent:this.exponent}),t=Object(xt.b)(this.props.walletBalance);return e>t?t:e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedBalanceDeduction",{get:function(){return this.balanceDeduction?"-"+Object(p.f)(this.balanceDeduction,{style:"currency",currency:this.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedBalance",{get:function(){return this.props.walletBalance?Object(p.f)(Object(xt.b)(this.props.walletBalance),{style:"currency",currency:this.props.walletBalance.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedDiscount",{get:function(){var e,t,n=this.props,i=n.checkoutPrice,r=n.previewPrice,a=n.selectedQuantity;return(null==i?void 0:i.discount)?(t=i,e=i.isTaxInclusive?i.total-i.discount.total:i.price-i.discount.price):(null==r?void 0:r.discount)&&(t=r,e=(r.price-r.discount.price)*a),e&&t?"-"+Object(p.f)(e/Math.pow(10,t.exponent),{style:"currency",currency:t.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedTax",{get:function(){var e,t=this.props.checkoutPrice;return t?Object(p.f)(((null===(e=t.discount)||void 0===e?void 0:e.tax)||t.tax)/Math.pow(10,t.exponent),{style:"currency",currency:t.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedTotal",{get:function(){if(!this.total||void 0===this.exponent)return"--";var e=Object(xt.b)({exponent:this.exponent,amount:this.total});return this.balanceEnabled&&this.balanceDeduction&&(e-=this.balanceDeduction),Object(p.f)(e,{style:"currency",currency:this.currency})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedInterval",{get:function(){if(this.props.plan&&this.props.plan.renewalPolicy===P.Ad.AUTO_RENEW&&this.props.plan.intervalUnit&&this.props.plan.intervalDuration&&this.props.paymentProvider===P.Vc.RECURLY){if(this.props.plan.intervalUnit===P.O.DAYS)return" "+Object(p.d)("{intervalDuration, plural, one { /day} other { /# days}}",{intervalDuration:this.props.plan.intervalDuration},"CheckoutFormSummary");if(this.props.plan.intervalUnit===P.O.MONTHS)return" "+Object(p.d)("{intervalDuration, plural, one { /month} other { /# months}}",{intervalDuration:this.props.plan.intervalDuration},"CheckoutFormSummary")}return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inMultiMonthExperiment",{get:function(){return this.props.chargeInterval&&this.props.chargeInterval>1},enumerable:!0,configurable:!0}),t}(a.Component)),Cn=Object(s.d)(Object(m.withLatencyTracking)("CheckoutFormSummary",{autoReportInteractive:!0}),v((function(e){return Object(r.__assign)({},e)})))(Sn),En=function(e){return a.createElement(a.Fragment,null,a.createElement(zt.a,{size:zt.b.Small},Object(N.d)("Add a payment method?","AddPaymentPrompt")),a.createElement(f.a,{padding:{top:1,bottom:2}},a.createElement(T.a,null,Object(N.d)("To prevent your recurring purchase from expiring when your gift card balance runs out, please consider adding a payment method on file. This can be completed later as well.","AddPaymentPrompt"))),a.createElement(f.a,{display:A.g.Flex,justifyContent:A.l.End},a.createElement(f.a,{padding:{right:1}},a.createElement(M.a,{type:M.d.Secondary,onClick:e.handleSkipButtonClick},Object(N.d)("Skip Step","AddPaymentPrompt"))),a.createElement(M.a,{onClick:e.handleAddPaymentClick},Object(N.d)("Continue to Add Payment","AddPaymentPrompt"))))},On=function(e){var t=a.createElement(a.Fragment,null,a.createElement(f.a,{display:A.g.Flex,flexDirection:A.h.Row,justifyContent:A.l.Between,padding:{bottom:2}},a.createElement(f.a,{display:A.g.InlineFlex},a.createElement(T.a,{type:T.e.H4},Object(N.d)("Add a payment method to your account","WalletPaymentMethodSelector")),a.createElement(ke,{margin:{left:1}})),a.createElement(Q.a,{onClick:e.returnToPreviousScreen},Object(N.d)("Return to previous step","WalletPaymentMethodSelector"))));e.balanceTooLow&&(t=a.createElement(f.a,{padding:{bottom:2}},a.createElement(T.a,{type:T.e.H4},Object(N.d)("Your balance is low. Add a payment method here.","WalletPaymentMethodSelector"))));var n=Object(r.__assign)(Object(r.__assign)({},e),{formHeader:t,ccLineHeader:Object(N.d)("Add a Credit Card","WalletPaymentMethodSelector")});return a.createElement(wt,Object(r.__assign)({},n))},Pn=[P.Tb.AMAZON_PAY,P.Tb.PAYPAL,P.Tb.CREDIT_CARD],Nn="wallet-do-not-add-spm",jn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dontAskAgain:N.m.get(Nn,!1),showConfirmPurchase:!1,showPaymentSelector:!1},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;if(!this.props.userResidence&&!this.props.eligibleSPM)return a.createElement(W,{onSetResidenceSuccess:this.props.refetchData,details:i.GiftCardBalanceUsage});var t=!1,n=this.props.checkoutPrice&&(this.props.checkoutPrice.discount&&this.props.checkoutPrice.discount.total||this.props.checkoutPrice.total),o=n&&this.props.checkoutPrice&&Object(xt.b)({amount:n,exponent:this.props.checkoutPrice.exponent});o&&o>Object(xt.b)(this.props.walletBalance)&&(t=!0);var s=this.availabilityStatus();return this.state.showPaymentSelector||t&&!this.props.eligibleSPM?a.createElement(On,{currentUserID:this.props.currentUserID,onUpdatePaymentMethodSuccess:function(){e.props.onPaymentMethodSuccess(),e.setState((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{showPaymentSelector:!1})}))},handlePaymentProviderUpdate:this.props.handlePaymentMethodProviderUpdate,handlePurchaseSuccess:this.props.handlePurchaseSuccess,hasEligibleSPM:!!this.props.eligibleSPM,showReviewPurchaseScreen:function(){e.setState((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{showPaymentSelector:!1,showConfirmPurchase:!0})}))},refetchCheckoutFormScreenManagerData:function(){return e.props.refetchData()},recurlyConfigs:this.props.recurlyConfigs,paymentMethods:this.props.paymentMethods,userResidence:this.props.userResidence,requestInfoCountryCode:this.props.requestInfoCountryCode,xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,selectedQuantity:this.props.selectedQuantity,checkoutActions:this.props.checkoutActions,eligiblePaymentMethods:this.props.eligiblePaymentMethods,balanceTooLow:t&&!this.props.eligibleSPM,returnToPreviousScreen:function(){e.props.checkoutSessionTracker.track(j.b.SkipAddPaymentMethodClick,JSON.stringify({context:"wallet_purchase_add_payment_method"})),e.setState({showPaymentSelector:!1})}}):this.props.eligibleSPM||this.state.showConfirmPurchase||this.state.dontAskAgain?a.createElement(we,{selectedOfferID:this.props.selectedOfferID,selectedQuantity:this.props.selectedQuantity,recurlyPublicKey:this.props.recurlyConfigs.publicKey,toggleUseSavedPaymentMethod:function(){return e.showPaymentMethodSelector()},eligibleSPM:this.props.eligibleSPM,paymentMethodAvailabilityStatus:s,refetchCheckoutFormScreenManagerData:this.props.refetchData,handlePurchaseSuccess:this.props.handlePurchaseSuccess,isWalletPurchase:!0,requestInfoCountryCode:this.props.requestInfoCountryCode,handlePollingOrder:this.props.handlePollingOrder,isSplitTender:t}):a.createElement(En,{handleSkipButtonClick:function(){N.m.set(Nn,!0),e.props.checkoutSessionTracker.track(j.b.SkipAddPaymentMethodClick,JSON.stringify({context:"wallet_purchase_init"})),e.showConfirmPurchase()},handleAddPaymentClick:function(){e.props.checkoutSessionTracker.track(j.b.AddPaymentMethodClick,"wallet_purchase"),e.showPaymentMethodSelector()}})},t.prototype.showPaymentMethodSelector=function(){this.setState((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{showPaymentSelector:!0})}))},t.prototype.availabilityStatus=function(){return this.props.eligibleSPM?this.props.paymentMethodAvailabilityStatus:this.props.eligiblePaymentMethods.filter((function(e){return Pn.includes(e.name)&&e.availabilityStatus!==P.Uc.FULL_OUTAGE})).length>0?{availabilityStatus:P.Uc.AVAILABLE}:null},t.prototype.showConfirmPurchase=function(){this.setState((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{showConfirmPurchase:!0})}))},t}(a.Component),Dn=v((function(e,t){return Object(r.__assign)(Object(r.__assign)({},t),e)}))(jn);var Tn=n("cO90"),wn="checkout_2fa_notice",In="checkout_2fa_velocity_notice",xn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hide:!1},t.on2FAWarningShownFired=!1,t.hasSeenTwoFactorNotice=N.m.get(wn,!1),t.hasSeenTwoFactorVelocityNotice=N.m.get(In,!1),t.hideReminder=function(){t.props.onDismiss2FAMessageClick&&t.props.onDismiss2FAMessageClick(),N.m.set(t.props.showVelocityLimitReminder?In:wn,!0),t.setState({hide:!0})},t.onEnable2FALinkClick=function(){t.props.onEnable2FALinkClick&&t.props.onEnable2FALinkClick(),window.open(window.location.origin+"/settings/security","_blank")},t.handleOnWarningShown=function(){t.props.on2FAWarningShown&&!t.on2FAWarningShownFired&&(t.on2FAWarningShownFired=!0,t.props.on2FAWarningShown())},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return!this.canShowTwoFactorNotice||this.state.hide?null:(this.handleOnWarningShown(),a.createElement(f.a,{margin:{bottom:1}},a.createElement(R.a,{"data-test-selector":this.props.showVelocityLimitReminder?"checkout_2fa_velocity_notice_selector":"checkout_2fa_notice_selector",type:B.a.Info,message:{title:Object(N.d)("Enable Two-Factor Authentication","TwoFactorReminder"),description:this.props.showVelocityLimitReminder?Object(N.d)("To make future purchases faster and help to protect your account                  from unauthorized purchases, enable two-factor authentication                  in your security settings.","TwoFactorReminder"):Object(N.d)("We recommend enabling two-factor authentication to help protect                  your account from unauthorized purchases.","TwoFactorReminder"),link:{onClick:this.onEnable2FALinkClick,children:Object(N.d)("Click here to enable it.","TwoFactorReminder")}},closeButton:{"aria-label":"close",onClick:this.hideReminder}})))},Object.defineProperty(t.prototype,"canShowTwoFactorNotice",{get:function(){var e=this.props.data.currentUser;return!((this.props.showVelocityLimitReminder?this.hasSeenTwoFactorVelocityNotice:this.hasSeenTwoFactorNotice)||!e||!e.settings||e.settings.hasTwoFactorEnabled)},enumerable:!0,configurable:!0}),t}(a.Component),An=Object(s.d)(Object(O.a)(Tn))(xn),Mn=n("l7sZ"),_n=n("9TPM"),Fn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={emailUpdated:!1,useSavedPaymentMethod:!0,updatedPaymentMethodThisSession:!1,paymentProvider:P.Vc.RECURLY,selectedOfferID:t.props.offerID,selectedQuantity:t.props.quantity,updatingPrice:!1,showSuccessScreen:!1,pollingOrder:!1,completedXsollaCheckout:!1,initialPurchaseOfferErrorCode:t.props.initialPurchaseOfferErrorCode,initialPurchaseOrderFailureReason:t.props.initialPurchaseOrderFailureReason},t.gqlErrorTracked=!1,t.walletBalanceEnabled=function(){return!!t.walletBalance&&(t.walletBalance.amount>0&&t.recurlyEligible)},t.setEventTrackingProperties=function(){var e,n,i,r,a,o,s,c,l;t.props.checkoutSessionTracker.offerID=t.state.selectedOfferID,t.props.checkoutSessionTracker.quantity=t.state.selectedQuantity,t.props.checkoutSessionTracker.paymentProvider=t.state.paymentProvider,t.props.checkoutSessionTracker.tagBindings=null===(n=null===(e=t.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===n?void 0:n.tagBindings,t.props.checkoutSessionTracker.tplr=null===(r=null===(i=t.props.data)||void 0===i?void 0:i.purchasableOffer)||void 0===r?void 0:r.tplr,t.props.checkoutSessionTracker.savedPaymentInstrumentType=null===(a=t.eligibleSPM)||void 0===a?void 0:a.paymentType,t.props.checkoutSessionTracker.countryCode=null===(c=null===(s=null===(o=t.props.data)||void 0===o?void 0:o.currentUser)||void 0===s?void 0:s.residence)||void 0===c?void 0:c.countryCode,t.props.checkoutSessionTracker.previewPrice=t.previewPrice,t.props.checkoutSessionTracker.checkoutPrice=t.checkoutPriceSummary,t.props.checkoutSessionTracker.walletBalanceLocal=null===(l=t.walletBalance)||void 0===l?void 0:l.amount,t.props.checkoutSessionTracker.monthQuantity=function(e,t){var n,i,r,a,o=null==t?void 0:t.find((function(t){return t.id===e})),s=null===(a=null===(r=null===(i=null===(n=null==o?void 0:o.listing)||void 0===n?void 0:n.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.plan)||void 0===a?void 0:a.interval;return(null==s?void 0:s.unit)===P.O.MONTHS?null==s?void 0:s.duration:void 0}(t.state.selectedOfferID,t.props.multiMonthOffers)||function(e,t){var n;return null===(n=null==t?void 0:t.find((function(t){return t.offerID===e})))||void 0===n?void 0:n.months}(t.state.selectedOfferID,t.props.multimonthGiftOffers)},t.reportLatency=function(){var e,n,i,r,a,o;if(!t.props.offerID)return t.props.latencyTracking.reportInteractive(),void(null===(n=(e=t.props).reportCustomLatency)||void 0===n||n.call(e));if(t.setEventTrackingProperties(),t.dataReady)if(t.props.latencyTracking.reportInteractive(),null===(r=(i=t.props).reportCustomLatency)||void 0===r||r.call(i),null===(a=t.props.data)||void 0===a?void 0:a.error)t.gqlErrorTracked||(t.gqlErrorTracked=!0,t.props.checkoutSessionTracker.track(j.b.GQLError,JSON.stringify(t.props.data.error.graphQLErrors)));else{if(t.props.checkoutSessionTracker.isSpmShownAtLoad=!!t.eligibleSPM,1===(null===(o=t.eligiblePaymentMethods)||void 0===o?void 0:o.length)&&(t.eligiblePaymentMethods||[]).find((function(e){return e.name===P.Tb.XSOLLA})))return;t.props.checkoutSessionTracker.track(j.b.LoadSuccess)}},t.reportCheckoutAction=function(e){var n,i,r,a,s,c;(null===(r=null===(i=null===(n=t.props.data)||void 0===n?void 0:n.purchasableOffer)||void 0===i?void 0:i.self)||void 0===r?void 0:r.checkoutActions)&&!Object(o.c)(t.props.data.purchasableOffer.self.checkoutActions,null===(c=null===(s=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.purchasableOffer)||void 0===s?void 0:s.self)||void 0===c?void 0:c.checkoutActions)&&t.props.checkoutSessionTracker.track(j.b.CheckoutActionCheck,JSON.stringify({rules_triggered:t.props.data.purchasableOffer.self.checkoutActions}))},t.toggleUseSavedPaymentMethod=function(){t.setState((function(e){return{useSavedPaymentMethod:!e.useSavedPaymentMethod}}))},t.onEmailSaveSuccess=function(){t.setState({emailUpdated:!0})},t.trackModalClose=function(){t.props.checkoutSessionTracker.track(j.b.Close,JSON.stringify({close_button:"x"}))},t.showSuccessScreen=function(e){e===P.Vc.XSOLLA_V3?t.setState({completedXsollaCheckout:!0}):(t.props.onPurchaseSuccess(),t.setState({showSuccessScreen:!0}))},t.handlePollingOrder=function(e){t.setState({pollingOrder:e})},t.on2FAWarningShown=function(){t.props.checkoutSessionTracker.track(j.b.Add2FaPrompt)},t.onEnable2FALinkClick=function(){t.props.checkoutSessionTracker.track(j.b.Add2FaClick)},t.onDismiss2FAMessageClick=function(){t.props.checkoutSessionTracker.track(j.b.Add2FaClose)},t.onUpdatePaymentMethodSuccess=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.refetchCheckoutFormScreenManagerData()];case 1:return e.sent(),this.setState({updatedPaymentMethodThisSession:!0,useSavedPaymentMethod:!0,initialPurchaseOfferErrorCode:void 0,initialPurchaseOrderFailureReason:void 0}),[2]}}))}))},t.refetchCheckoutFormScreenManagerData=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.gqlErrorTracked=!1,[4,null===(e=this.props.data)||void 0===e?void 0:e.refetch()];case 1:return t.sent(),[2]}}))}))},t.handleQuantitySelect=function(e){var n,i;if(t.props.checkoutSessionTracker.track(j.b.QuantityUpdated,JSON.stringify({old_quantity:t.state.selectedQuantity,new_quantity:e})),t.quantityOverride){var r=t.quantityOverride,a=r.promotion,o=r.regular,s=e<=a.maxQuantity?a.offerID:o.offerID;t.setState({selectedOfferID:s,selectedQuantity:e,updatingPrice:!0}),null===(n=t.props.data)||void 0===n||n.refetch({params:{offerID:s,tagBindings:t.props.tagBindings,giftRecipientIDs:t.props.giftRecipientIDs},quantity:e})}else t.setState({selectedQuantity:e,updatingPrice:!0}),null===(i=t.props.data)||void 0===i||i.refetch({quantity:e})},t.handleMultimonthSelect=function(e){var n,i=e.selectedOfferID;t.setState({selectedOfferID:i,updatingPrice:!0},(function(){return t.props.checkoutSessionTracker.track(j.b.UpdateMonthQuantityClick)})),null===(n=t.props.data)||void 0===n||n.refetch({params:{offerID:i,tagBindings:t.props.tagBindings,giftRecipientIDs:t.props.giftRecipientIDs}})},t.handlePaymentProviderUpdate=function(e){t.setState({paymentProvider:e})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportLatency(),this.props.offerID||this.props.checkoutSessionTracker.track(j.b.Error,"missing offer_id")},t.prototype.componentDidUpdate=function(e){var t;this.state.updatingPrice&&(null===(t=this.props.data)||void 0===t?void 0:t.networkStatus)===C.c.ready&&this.setState({updatingPrice:!1}),this.reportLatency(),this.reportCheckoutAction(e)},t.prototype.render=function(){var e,t,n,i,r,o,s,c,l,u,d,p,m,h,g,b,y;return this.state.showSuccessScreen?a.createElement(f.a,{fullHeight:!0},!!this.props.closeModal&&a.createElement(Ce.a,{padding:{y:.5},background:A.d.Base,borderRadius:{topLeft:A.e.Large,topRight:A.e.Large}},a.createElement(E.a,{displayInset:!0,onClose:this.trackModalClose})),a.createElement(It.a,{finalOfferID:this.state.selectedOfferID,finalQuantity:this.state.selectedQuantity,checkoutSessionTracker:this.props.checkoutSessionTracker,closeModal:this.props.closeModal,giftRecipientIDs:this.props.giftRecipientIDs,tagBindings:this.props.tagBindings,multimonthGiftOffers:this.props.multimonthGiftOffers,productName:this.props.productName,isAnonymous:this.props.isAnonymous})):a.createElement(f.a,{fullHeight:!0},!!this.props.closeModal&&a.createElement(Ce.a,{className:"checkout-form__modal-header",padding:{y:.5},borderRadius:{topLeft:A.e.Large,topRight:A.e.Large}},a.createElement(E.a,{displayInset:!0,onClose:this.trackModalClose})),a.createElement(Ce.a,{background:A.d.Base,fullHeight:!0},a.createElement(Cn,{previewPrice:this.previewPrice,checkoutPrice:this.checkoutPriceSummary,plan:{renewalPolicy:null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===i?void 0:i.plan)||void 0===r?void 0:r.renewalPolicy,intervalUnit:null===(u=null===(l=null===(c=null===(s=null===(o=this.props.data)||void 0===o?void 0:o.purchasableOffer)||void 0===s?void 0:s.listing)||void 0===c?void 0:c.chargeModel.internal)||void 0===l?void 0:l.plan)||void 0===u?void 0:u.interval.unit,intervalDuration:null===(g=null===(h=null===(m=null===(p=null===(d=this.props.data)||void 0===d?void 0:d.purchasableOffer)||void 0===p?void 0:p.listing)||void 0===m?void 0:m.chargeModel.internal)||void 0===h?void 0:h.plan)||void 0===g?void 0:g.interval.duration},quantityMin:this.quantityMin,quantityMax:this.quantityMax,paymentProvider:this.state.paymentProvider,selectedOfferID:this.state.selectedOfferID,selectedQuantity:this.state.selectedQuantity,updatingPrice:this.state.updatingPrice,handleQuantitySelect:this.handleQuantitySelect,handleMultimonthSelect:this.handleMultimonthSelect,walletBalance:this.walletBalanceEnabled()?this.walletBalance:void 0,promotion:this.promotion||void 0,requestInfoCountryCode:null===(y=null===(b=this.props.data)||void 0===b?void 0:b.requestInfo)||void 0===y?void 0:y.countryCode,purchaseComplete:this.state.completedXsollaCheckout||this.state.showSuccessScreen}),a.createElement(f.a,{padding:2,breakpointExtraSmall:{padding:{x:3,y:2}}},a.createElement(An,{showVelocityLimitReminder:this.showVelocityLimitReminder,on2FAWarningShown:this.on2FAWarningShown,onEnable2FALinkClick:this.onEnable2FALinkClick,onDismiss2FAMessageClick:this.onDismiss2FAMessageClick}),this.body)))},Object.defineProperty(t.prototype,"body",{get:function(){var e,t,n,i,o,s,c,l,u,d,p,m;if(!this.dataReady)return a.createElement(z.a,{lineCount:12});if(!this.props.offerID||(null===(e=this.props.data)||void 0===e?void 0:e.error)||!(null===(t=this.props.data)||void 0===t?void 0:t.currentUser))return a.createElement(F,null);if(this.showEmailScreen)return a.createElement(I,{onEmailSaveSuccess:this.onEmailSaveSuccess});if(!this.isEligible&&!this.state.completedXsollaCheckout)return a.createElement(U,null);if(this.walletBalanceEnabled()){var f=this.eligibleSPM?Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},this.eligibleSPM),this.anyCreditCardDetails),{billingEmail:this.billingEmail}):void 0;return a.createElement(Dn,{walletBalance:this.walletBalance,checkoutPrice:this.checkoutPriceSummary?this.checkoutPriceSummary:void 0,eligibleSPM:f,userResidence:this.props.data.currentUser.residence,currentUserID:this.props.data.currentUser.id,checkoutActions:this.checkoutActions,eligiblePaymentMethods:this.eligiblePaymentMethods,paymentMethodAvailabilityStatus:this.paymentMethodAvailabilityStatus,recurlyConfigs:this.recurlyConfigs,paymentMethods:this.props.data.currentUser.paymentMethods,requestInfoCountryCode:null===(i=null===(n=this.props.data)||void 0===n?void 0:n.requestInfo)||void 0===i?void 0:i.countryCode,xsollaToken:null===(o=this.xsollaConfig)||void 0===o?void 0:o.token,isSandbox:null===(s=this.xsollaConfig)||void 0===s?void 0:s.isSandbox,selectedOfferID:this.state.selectedOfferID,selectedQuantity:this.state.selectedQuantity,handlePurchaseSuccess:this.showSuccessScreen,handlePollingOrder:this.handlePollingOrder,handlePaymentMethodProviderUpdate:this.handlePaymentProviderUpdate,onPaymentMethodSuccess:this.onUpdatePaymentMethodSuccess,refetchData:this.refetchCheckoutFormScreenManagerData})}return this.recurlyConfigs?this.showReviewScreen&&this.eligibleSPM?a.createElement(we,{requestInfoCountryCode:null===(l=null===(c=this.props.data)||void 0===c?void 0:c.requestInfo)||void 0===l?void 0:l.countryCode,productPurchaseErrorCode:this.productPurchaseErrorCode,isWalletPurchase:!1,selectedOfferID:this.state.selectedOfferID,selectedQuantity:this.state.selectedQuantity,recurlyPublicKey:this.recurlyConfigs&&this.recurlyConfigs.publicKey,toggleUseSavedPaymentMethod:this.toggleUseSavedPaymentMethod,eligibleSPM:Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},this.eligibleSPM),this.anyCreditCardDetails),{billingEmail:this.billingEmail}),paymentMethodAvailabilityStatus:this.paymentMethodAvailabilityStatus,refetchCheckoutFormScreenManagerData:this.refetchCheckoutFormScreenManagerData,handlePurchaseSuccess:this.showSuccessScreen,handlePollingOrder:this.handlePollingOrder,purchaseOfferErrorCode:this.state.initialPurchaseOfferErrorCode,purchaseOrderFailureReason:this.state.initialPurchaseOrderFailureReason}):a.createElement(wt,{currentUserID:this.props.data.currentUser.id,onUpdatePaymentMethodSuccess:this.onUpdatePaymentMethodSuccess,handlePaymentProviderUpdate:this.handlePaymentProviderUpdate,hasEligibleSPM:!!this.eligibleSPM,showReviewPurchaseScreen:this.toggleUseSavedPaymentMethod,refetchCheckoutFormScreenManagerData:this.refetchCheckoutFormScreenManagerData,recurlyConfigs:this.recurlyConfigs,paymentMethods:this.props.data.currentUser.paymentMethods,userResidence:this.props.data.currentUser.residence,requestInfoCountryCode:null===(d=null===(u=this.props.data)||void 0===u?void 0:u.requestInfo)||void 0===d?void 0:d.countryCode,xsollaToken:null===(p=this.xsollaConfig)||void 0===p?void 0:p.token,isSandbox:null===(m=this.xsollaConfig)||void 0===m?void 0:m.isSandbox,selectedQuantity:this.state.selectedQuantity,checkoutActions:this.checkoutActions,eligiblePaymentMethods:this.eligiblePaymentMethods,productPurchaseErrorCode:this.productPurchaseErrorCode,handlePurchaseSuccess:this.showSuccessScreen}):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"walletBalance",{get:function(){if(this.props.balanceData&&this.props.balanceData.currentUser&&this.props.balanceData.currentUser.balances){var e=this.checkoutPriceSummary||this.previewPrice,t=this.props.balanceData.currentUser.balances.filter((function(t){return!!t&&t.currency===(null==e?void 0:e.currency)}));return t&&t.length?{amount:t.reduce((function(e,t){return e+t.amount}),0),currency:t[0].currency,exponent:t[0].exponent}:void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showReviewScreen",{get:function(){return this.state.useSavedPaymentMethod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEmailScreen",{get:function(){return!this.state.emailUpdated&&!this.hasEmail},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){var e,t,n,i,r,a;return!this.props.offerID||!!(!(null===(e=this.props.data)||void 0===e?void 0:e.loading)&&!(null===(t=this.props.balanceData)||void 0===t?void 0:t.loading)||(null===(n=this.props.data)||void 0===n?void 0:n.error)||(null===(i=this.props.balanceData)||void 0===i?void 0:i.error)||(null===(r=this.props.data)||void 0===r?void 0:r.purchasableOffer)&&(null===(a=this.props.balanceData)||void 0===a?void 0:a.currentUser))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"savedPaymentMethod",{get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.paymentMethods)||void 0===n?void 0:n.find((function(e){return e.provider.toUpperCase()===P.Vc.RECURLY}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasEmail",{get:function(){var e;return!!((null===(e=this.props.data)||void 0===e?void 0:e.currentUser)&&this.props.data.currentUser.email)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEligible",{get:function(){var e,t,n;return!!this.state.pollingOrder||!!(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.isEligible)&&this.props.quantity>=this.quantityMin&&this.props.quantity<=this.quantityMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantityOverride",{get:function(){var e=this.props.offerQuantityOverrides;if(e&&[e.regular.offerID,e.promotion.offerID].includes(this.props.offerID)&&e.regular.maxQuantity>e.promotion.maxQuantity)return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantityMin",{get:function(){var e,t,n,i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.quantity)||void 0===n?void 0:n.min;return i||this.props.quantity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantityMax",{get:function(){var e,t,n;if(this.quantityOverride)return this.quantityOverride.regular.maxQuantity;var i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.quantity)||void 0===n?void 0:n.max;return i||this.props.quantity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentMethodAvailabilityStatus",{get:function(){return this.savedPaymentMethod?this.savedPaymentMethod.paymentType.toUpperCase()===P.Tc.CREDIT_CARD?this.eligiblePaymentMethods.find((function(e){return e.name===P.Tb.CREDIT_CARD}))||null:this.savedPaymentMethod.paymentType.toUpperCase()===P.Tc.AMAZON?this.eligiblePaymentMethods.find((function(e){return e.name===P.Tb.AMAZON_PAY}))||null:this.savedPaymentMethod.paymentType.toUpperCase()===P.Tc.PAYPAL&&this.eligiblePaymentMethods.find((function(e){return e.name===P.Tb.PAYPAL}))||null:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eligibleSPM",{get:function(){return this.savedPaymentMethod?this.blockSavedPaymentMethod&&!this.state.updatedPaymentMethodThisSession?void 0:(this.savedPaymentMethod.paymentType.toUpperCase()!==P.Tc.CREDIT_CARD||this.paymentMethodAvailabilityStatus&&this.productPurchaseErrorCode!==P.md.BILLING_INFO_NOT_FOUND)&&(this.savedPaymentMethod.paymentType.toUpperCase()!==P.Tc.AMAZON||this.paymentMethodAvailabilityStatus)&&(this.savedPaymentMethod.paymentType.toUpperCase()!==P.Tc.PAYPAL||this.paymentMethodAvailabilityStatus)?this.savedPaymentMethod:void 0:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anyCreditCardDetails",{get:function(){return this.eligibleSPM&&this.eligibleSPM.paymentType.toUpperCase()===P.Tc.CREDIT_CARD?this.eligibleSPM:{cardType:null,lastFour:null,expirationMonth:null,expirationYear:null}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"billingEmail",{get:function(){return!this.eligibleSPM||this.eligibleSPM.paymentType.toUpperCase()!==P.Tc.PAYPAL&&this.eligibleSPM.paymentType.toUpperCase()!==P.Tc.AMAZON?null:this.eligibleSPM.billingEmail},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyConfigs",{get:function(){var e;return null===(e=this.props.data)||void 0===e?void 0:e.recurlyConfigs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutActions",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutActions)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eligiblePaymentMethods",{get:function(){var e,t,n;return this.props.chargeInterval&&this.props.chargeInterval>1?[{name:P.Tb.XSOLLA,availabilityStatus:P.Uc.AVAILABLE,__typename:"EligiblePaymentMethod"}]:(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.eligiblePaymentMethods)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutPrice",{get:function(){var e,t,n,i,r,a,o,s,c,l;return this.state.paymentProvider===P.Vc.RECURLY?null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===i?void 0:i.self)||void 0===r?void 0:r.recurlyCheckoutPrice:this.state.paymentProvider===P.Vc.XSOLLA_V3?null===(l=null===(c=null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.purchasableOffer)||void 0===o?void 0:o.listing)||void 0===s?void 0:s.chargeModel.internal)||void 0===c?void 0:c.self)||void 0===l?void 0:l.xsollaCheckoutPrice:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutPriceSummary",{get:function(){var e;return null===(e=this.checkoutPrice)||void 0===e?void 0:e.checkoutPriceSummary},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promotion",{get:function(){var e,t;return null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.promotion},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"productPurchaseErrorCode",{get:function(){var e;return null===(e=this.checkoutPrice)||void 0===e?void 0:e.errorCode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previewPrice",{get:function(){var e,t,n,i;return null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===i?void 0:i.previewPrice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyEligible",{get:function(){return this.eligiblePaymentMethods.some((function(e){return e.name===P.Tb.CREDIT_CARD||e.name===P.Tb.AMAZON_PAY||e.name===P.Tb.PAYPAL}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blockSavedPaymentMethod",{get:function(){var e,t,n,i;return!!(null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutActions)||void 0===i?void 0:i.includes(P.R.BLOCK_SAVED_PAYMENT_METHOD))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showVelocityLimitReminder",{get:function(){var e,t,n,i;return!!(null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutActions)||void 0===i?void 0:i.includes(P.R.EXCEEDED_VELOCITY_LIMITS))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xsollaConfig",{get:function(){var e,t,n,i;return null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutConfiguration)||void 0===i?void 0:i.xsolla},enumerable:!0,configurable:!0}),t}(a.Component),Rn=Object(s.d)(Object(m.withLatencyTracking)("CheckoutFormScreenManager"),v((function(e){return Object(r.__assign)({},e)})),Object(O.a)(_n,{name:"balanceData",options:function(){return{variables:{walletType:P.Ue.GIFT_CARD},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}}}),Object(O.a)(Mn,{options:function(e){return{variables:{params:{offerID:e.offerID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs},quantity:e.quantity,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs,paymentSession:e.paymentSession,withDiscounts:!0},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}},skip:function(e){return!e.offerID}}))(Fn),Bn=(n("qhDs"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkoutSessionID=t.props.checkoutSessionTracker?t.props.checkoutSessionTracker.getCheckoutSessionID():Object(l.b)(),t.checkoutSessionTracker=t.props.checkoutSessionTracker?t.props.checkoutSessionTracker:new j.a({checkoutSessionID:t.checkoutSessionID,source:t.props.trackingContext.source,sourceDetail:t.props.trackingContext.detail,tenantTracking:JSON.stringify(t.props.trackingContext.tenantTracking)||"",offerID:t.props.offerID,quantity:t.props.quantity,subsTicketOwnerID:t.props.channelID,productType:t.props.productType}),t.onPurchaseSuccess=function(){t.props.onPurchaseSuccess&&t.props.onPurchaseSuccess()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.isLoggedIn||this.props.openLoginModal()},t.prototype.componentDidUpdate=function(){this.props.isLoggedIn||this.props.openLoginModal()},t.prototype.render=function(){return a.createElement(f.a,{className:"checkout-form__container",margin:{y:0,x:"auto"},"data-a-target":"checkout-form__container"},a.createElement(S,Object(r.__assign)({},this.checkoutFormProps),a.createElement(Rn,null)))},Object.defineProperty(t.prototype,"checkoutFormProps",{get:function(){return{offerID:this.props.offerID.split("amzn1.offer.")[1]||this.props.offerID,quantity:this.props.quantity,trackingContext:this.props.trackingContext,giftRecipientIDs:this.props.giftRecipientIDs||[],isAnonymous:!!this.props.isAnonymous,tagBindings:this.tagBindings,productName:this.props.productName,paymentSession:{deviceID:p.q.session.deviceID,localStorageDeviceID:p.q.session.localStorageDeviceID,tabSessionID:p.q.session.tabID,pageSessionID:p.q.session.pageviewID,checkoutSessionID:this.checkoutSessionID},onPurchaseSuccess:this.onPurchaseSuccess,closeModal:this.props.closeModal,checkoutSessionTracker:this.checkoutSessionTracker,chargeInterval:this.props.chargeInterval,reportCustomLatency:this.props.reportCustomLatency,multimonthGiftOffers:this.props.multimonthGiftOffers,offerQuantityOverrides:this.props.offerQuantityOverrides,multiMonthOffers:this.props.multiMonthOffers,initialPurchaseOfferErrorCode:this.props.purchaseOfferErrorCode,initialPurchaseOrderFailureReason:this.props.purchaseOrderFailureReason}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagBindings",{get:function(){var e=[];return e.push({key:"is_anonymous",value:this.props.isAnonymous?"true":"false"}),this.props.productID&&e.push({key:"product_id",value:this.props.productID}),this.props.channelID&&e.push({key:"channel_id",value:this.props.channelID}),this.props.chargeInterval&&this.props.chargeInterval>1&&e.push({key:"charge_interval",value:this.props.chargeInterval.toString()}),e},enumerable:!0,configurable:!0}),t}(a.Component));var Ln,Un=Object(s.d)(Object(m.withLatencyTracking)("CheckoutForm",{autoReportInteractive:!0}),Object(o.b)((function(e){return{isLoggedIn:Object(d.f)(e)}}),(function(e){return Object(s.b)({openLoginModal:function(){return Object(u.e)(c.a.CheckoutForm)}},e)})))(Bn);!function(e){e.BitsBundle="bits_bundle",e.ChannelSub="channel_sub",e.ChannelSubCustom="channel_sub_custom",e.ChannelSubCommunityGift="channel_sub_community_gift",e.ChannelSubStandardGift="channel_sub_standard_gift",e.Turbo="turbo"}(Ln||(Ln={})),n.d(t,"a",(function(){return Un})),n.d(t,"b",(function(){return Ln}))},VUyg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CompletePurchaseDisclaimer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:144}};n.loc.source={body:"query CompletePurchaseDisclaimer($params: PurchasableOfferParams!) {\npurchasableOffer(params: $params) {\nid\ntplr\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CompletePurchaseDisclaimer=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CompletePurchaseDisclaimer")},VYPy:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l}));var i=n("/0dD"),r=n("DMoW"),a=function(e){switch(e){case r.ed.BLACK_WHITE:return"Greyscale";case r.ed.HORIZONTAL_FLIP:return"Horizontal Flip";case r.ed.SUNGLASSES:return"Sunglasses";case r.ed.THINKING:return"Thinking";case r.ed.SQUISHED:return"Squished";default:return""}},o=function(e){switch(e){case r.ed.BLACK_WHITE:return"BW";case r.ed.HORIZONTAL_FLIP:return"HF";case r.ed.SUNGLASSES:return"SG";case r.ed.THINKING:return"TK";case r.ed.SQUISHED:return"SQ";default:return""}};function s(e,t){return{id:e.id+"_"+t,token:e.token+"_"+t,setID:e.setID+"_"+t}}function c(e,t){var n;if(!t)return e;var i=new RegExp(e.id,"g");return{id:e.id+"_"+t,token:e.token+"_"+t,setID:e.setID+"_"+t,displayName:e.displayName&&e.displayName+"_"+t,srcSet:null===(n=e.srcSet)||void 0===n?void 0:n.replace(i,e.id+"_"+t),isLocked:e.isLocked}}var l=function(e,t){void 0===t&&(t=i.a.Light);var n=a(e.name).toLowerCase().replace(" ","-"),r=t===i.a.Dark?"light":"dark";return{"1x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+r+"-1.png","2x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+r+"-2.png","4x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+r+"-4.png"}}},WJ6U:function(e,t,n){e.exports=n.p+"assets/android_1x-38340be28156bb72233a.svg"},"Wd+u":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProductOfferFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Offer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"priority"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:348}};n.loc.source={body:"fragment subProductOfferFragment on Offer {\nid\ntplr\nplatform\neligibility {\nisEligible\n}\ngiftType\nlisting {\nchargeModel {\ninternal {\npreviewPrice {\nid\ncurrency\nexponent\nprice\ntotal\ndiscount {\nprice\ntotal\n}\n}\nplan {\ninterval {\nduration\nunit\n}\n}\n}\n}\n}\npromotion {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\npriority\n}\nquantity {\nmin\nmax\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},Wd44:function(e,t,n){},Wkcw:function(e,t,n){},X9Go:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n("mrSG"),r=n("q1tI"),a=n("1rIY"),o=Object(a.a)("ModerationTrackingContext",{}),s=o.context,c=o.withContext;function l(e){return Object(i.__assign)({},e)}var u=function(e){return r.useContext(s).page?r.createElement(r.Fragment,null,e.children):r.createElement(s.Provider,{value:{page:e.page}},e.children)}},XX8v:function(e,t,n){},YG3Y:function(e,t,n){},YVOQ:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("f00E"),o=n("DMoW"),s=n("4rCz"),c=n("1rIY"),l=n("8EUQ"),u=n("KriR"),d=n("8Wig"),p=n("br9A"),m={canGiftInChannel:!0,channel:{login:"",id:"",displayName:null},channelId:null,checkoutSessionID:"",creatorBadgeFlairSetting:o.Cb.NONE,gifterBadges:[],giftingAnonymously:!1,handleSubMenuAction:function(){},hasPrime:!1,hidesGiftCount:!1,isFounder:!1,isFounderBadgeAvailable:!1,inPrimeRegion:!1,isNonStandardSub:!1,modalSessionId:"",onAnonymousGiftingSelect:function(){return null},primeSubRenewalDate:null,sessionUser:void 0,streakTenure:null,subBadges:[],subscriptionBenefit:null,subscriptionGiftCount:0,subscriptionProducts:[],tenure:null},f=Object(c.a)("SubModalContext",m),h=f.context,g=f.withContext,b=function(e){function t(n){var i=e.call(this,n)||this;return i.state=m,i.onAnonymousGiftingSelect=function(e){i.setState({giftingAnonymously:e.target.checked}),i.handleSubMenuAction({action:p.a.ClickAnonymousGiftCheckbox})},i.handleSubMenuAction=function(e){var t,n,r;new Set([p.a.ClickCheckout,p.a.BuyGiftSub,p.a.BuyMysteryGift,p.a.BuyCustomMysteryGift,p.a.BuyGiftToPaidUpgrade,p.a.BuyPaidUpgrade,p.a.BuyContinueSub,p.a.BuyPrimeToPaid,p.a.BuyQuickSub]).has(e.action)&&i.checkAndDisplaySubscriptionCheckout(e.chargeInterval,e.offerID,e.multiMonthOffers),Object(p.c)({action:e.action||"",buttonCTA:e.buttonCTA||i.props.subButtonCTA,channelID:i.props.channel.id,channelLogin:i.props.channel.login,chargeInterval:e.chargeInterval,checkoutButtonTier:e.checkoutButtonTier,cumulativeTenureMonths:(null===(t=i.state.tenure)||void 0===t?void 0:t.months)||null,founderBadgeUpsellShown:i.state.isFounder||i.state.isFounderBadgeAvailable,giftRecipient:e.giftRecipient||null,hasSubCredit:i.props.canPrimeSubscribe,hostChannelID:null===(n=i.props.hostChannel)||void 0===n?void 0:n.id,hostChannelLogin:null===(r=i.props.hostChannel)||void 0===r?void 0:r.login,isAnonymous:e.isAnonymous,isMenuOpen:e.action!==p.a.OpenSubMenu,isSingleMonth:e.isSingleMonth,isSubscribed:!!i.state.subscriptionBenefit,modalSessionId:i.state.modalSessionId,mysteryGiftCount:e.mysteryGiftCount,showPrimeContent:i.props.inPrimeRegion,subLocation:i.props.subLocation})},i.state={channel:{id:i.props.channel.id,login:i.props.channel.login,displayName:i.props.channel.displayName},checkoutSessionID:i.props.checkoutSessionID,creatorBadgeFlairSetting:i.props.creatorBadgeFlairSetting,countryCode:i.props.countryCode,subBadges:Object(d.a)(n.subBadges||[],n.globalBadges||[]),gifterBadges:Object(d.b)(i.props.globalBadges||[]),subscriptionProducts:t.filterProducts(i.props.subscriptionProducts||[]),canGiftInChannel:t.canSendGift(i.props.subscriptionProducts||[]),channelId:i.props.channel.id,giftingAnonymously:!1,hasPrime:i.props.hasPrime,hidesGiftCount:i.props.hidesGiftCount,inPrimeRegion:i.props.inPrimeRegion,isFounder:i.props.isFounder,isFounderBadgeAvailable:i.props.founderBadgeAvailability>1,isNonStandardSub:t.isNonStandardSub(i.props.subscriptionProducts||[]),primeSubRenewalDate:i.props.primeSubRenewalDate,onAnonymousGiftingSelect:i.onAnonymousGiftingSelect,sessionUser:i.props.sessionUser,subscriptionGiftCount:i.props.subscriptionGiftCount,subscriptionBenefit:i.props.subscriptionBenefit,tenure:i.props.tenure,handleSubMenuAction:i.handleSubMenuAction,modalSessionId:i.props.modalSessionId||Object(a.c)(),streakTenure:i.props.streakTenure},i}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,n){var i=n.modalSessionId;return i!==e.modalSessionId&&(i=e.modalSessionId?e.modalSessionId:Object(a.c)()),{channel:{id:e.channel.id,login:e.channel.login,displayName:e.channel.displayName},checkoutSessionID:e.checkoutSessionID,countryCode:e.countryCode,creatorBadgeFlairSetting:e.creatorBadgeFlairSetting,subBadges:Object(d.a)(e.subBadges||[],e.globalBadges||[]),gifterBadges:Object(d.b)(e.globalBadges||[]),subscriptionProducts:t.filterProducts(e.subscriptionProducts||[]),canGiftInChannel:t.canSendGift(e.subscriptionProducts||[]),channelId:e.channel.id,inPrimeRegion:e.inPrimeRegion,isNonStandardSub:t.isNonStandardSub(e.subscriptionProducts||[]),hasPrime:e.hasPrime,modalSessionId:i,primeSubRenewalDate:e.primeSubRenewalDate,sessionUser:e.sessionUser,subscriptionGiftCount:e.subscriptionGiftCount||0,subscriptionBenefit:e.subscriptionBenefit,tenure:e.tenure,streakTenure:e.streakTenure}},t.filterProducts=function(e){return e.filter((function(e){return null!==e}))},t.isNonStandardSub=function(e){return 1===e.length},t.canSendGift=function(e){var t,n;return!!(null===(n=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.self)||void 0===n?void 0:n.canGiftInChannel)},t.prototype.componentDidMount=function(){this.handleSubMenuAction({action:p.a.SubMenuReady})},t.prototype.render=function(){return r.createElement(h.Provider,{value:this.state},this.props.children)},t.prototype.checkAndDisplaySubscriptionCheckout=function(e,t,n){var i=s.o.get(l.a.SUB_CHECKOUT__PRODUCT_KEY,"");if(i){var r=this.props.extraSubProductNames;if(this.state.subscriptionProducts.find((function(e){return e.name===i}))||(null==r?void 0:r.includes(i))){var a=this.props,o=a.sessionUser,c=a.showLoginModal;if(o){var d=this.props.showSubscriptionCheckout,p=this.state.modalSessionId;d({isAnonymous:s.o.get(l.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,!1),isOneTimePurchase:s.o.get(l.a.SUB_CHECKOUT__IS_ONE_TIME_PURCHASE,!1),mysteryGiftCount:Number(s.o.get(l.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,"")),multiMonthGiftAmount:Number(s.o.get(l.a.SUB_CHECKOUT__MULTIMONTH_GIFT_KEY,"")),productName:i,recipientLogin:s.o.get(l.a.SUB_CHECKOUT__RECIPIENT_KEY,""),trackingContext:{source:u.a.ChannelSubscribeButton,tenantTracking:{sub_session_id:p}},chargeInterval:e,offerID:t,multiMonthOffers:n})}else c()}else l.a.clearSubscriptionCheckoutKeys()}},t}(r.Component);n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}))},YaM9:function(e,t,n){},Ym45:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GiftRecipientEligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"",block:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withStandardGifting"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProduct"},directives:[]}]}}]}}]}}],loc:{start:0,end:270}};i.loc.source={body:'#import "twilight/features/subscribe-button/models/subscription-product.gql"\nquery GiftRecipientEligibility(\n$channelID: ID!\n$giftRecipientLogin: String = ""\n$withStandardGifting: Boolean!\n) {\nuser(id: $channelID) {\nid\nsubscriptionProducts {\n...subscriptionProduct\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("IKRm").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GiftRecipientEligibility=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"GiftRecipientEligibility")},ZEQw:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o}));var i="subscribe_to_channel",r="turbo",a="visit_url",o="broadcaster"},a5fV:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("/7QA"),r=n("PZ6D");function a(e,t){return e/Math.pow(10,t)}function o(e,t){return Object(i.f)(e,{style:"currency",currency:t})}function s(e,t,n){var i,r,a,o;void 0===t&&(t=1),void 0===n&&(n=!1);var s=null===(a=null===(r=null===(i=null==e?void 0:e.listing)||void 0===i?void 0:i.chargeModel)||void 0===r?void 0:r.internal)||void 0===a?void 0:a.previewPrice;if(s)return l({exponent:s.exponent,currency:s.currency,total:(n?s.total:(null===(o=s.discount)||void 0===o?void 0:o.total)||s.total)*t})}function c(e,t){return void 0===t&&(t=1),s(Object(r.h)(e),t)||l({exponent:e.priceInfo.exponent,currency:e.priceInfo.currency,total:e.priceInfo.price*t})}function l(e){return o(a(e.total,e.exponent),e.currency)}},a6LY:function(e,t,n){"use strict";var i,r,a,o,s;n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),function(e){e.DeleteMessage="delete",e.BanUser="ban",e.UnbanUser="unban",e.TimeoutUser="timeout",e.UntimeoutUser="untimeout",e.ModUser="mod",e.UnmodUser="unmod"}(i||(i={})),function(e){e.QuickModButtons="quick_mod_buttons",e.ChatCommand="chat_command",e.ModerationCard="moderation_card",e.DashboardBannedChatters="dashboard_banned_chatters",e.AutoModWidget="automod_widget_buttons",e.ModViewContextBar="mod_view_context_bar",e.ReadOnly="read_only"}(r||(r={})),function(e){e.Broadcaster="broadcaster",e.Staff="staff",e.Editor="editor",e.Mod="mod"}(a||(a={})),function(e){e.ChannelPage="channel_page",e.Dashboard="dashboard",e.DesktopPopout="desktop",e.Embed="embed",e.ModView="mod_view",e.LiveDashboard="live_dashboard",e.MultiStream="multi_stream",e.Popout="popout",e.Spotlight="spotlight",e.StreamManager="stream_manager",e.WatchParty="watch_party"}(o||(o={})),function(e){e.Channel="channel",e.Login="login"}(s||(s={}))},ami3:function(e,t,n){},ap5Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("dEDE"),s=n("sUnt"),c=n("yymn"),l=function(e){return a.createElement(s.a,{display:c.g.Flex,justifyContent:c.l.Start,flexDirection:c.h.RowReverse},a.createElement("div",null,a.createElement(o.a,r()({size:o.b.Small,type:e.primaryButton.type||o.d.Primary},e.primaryButton))),e.secondaryButton&&a.createElement(s.a,{margin:{right:1}},a.createElement(o.a,r()({size:o.b.Small,type:e.secondaryButton.type||o.d.Secondary},e.secondaryButton))))};l.displayName="NotificationActions",l.displayName="NotificationActions"},aw6k:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("mrSG"),r=n("/7QA"),a=n("b6Yk"),o=n("NRne"),s=n("IZXT");function c(e,t,n){return Object(i.__awaiter)(this,void 0,Promise,(function(){var s,c,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:r.p.tracking.track(o.a.UpdateEmailAttempt,{}),s={body:{email:e,include_verification_code:!0},credentials:"include"},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.a.put("/v5/users/"+t,s)];case 2:return 200===(c=i.sent()).status?r.p.tracking.track(o.a.UpdateEmailSuccess,{}):r.p.tracking.track(o.a.UpdateEmailFailure,{error_code:c.error&&c.error.status}),[2,c];case 3:return l=i.sent(),r.p.tracking.track(o.a.UpdateEmailFailure,{}),n&&n.warn("Network error submitting profile for user",{user:t,err:l}),[2];case 4:return[2]}}))}))}function l(e,t,n){Object(s.d)()?n.warn("Unrecognized User Service response error when trying to change email"+(e.error&&e.error.message)||!1,{userID:t,status:e.status,error:e.error,requestError:e.requestError}):n.errorAndReport(e.requestError||new Error("Unrecognized User Service response error when trying to change email"),e.error&&e.error.message||"error missing",{userID:t,status:e.status,error:e.error,requestError:e.requestError})}},"azJ+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="https://static-cdn.jtvnw.net/subs-image-assets"},b5vT:function(e,t,n){"use strict";var i=n("TSYQ"),r=n("q1tI"),a=n("/7QA"),o=n("8Xrw"),s=n("GnwI"),c=n("b7S+"),l=n("hnjF"),u=n("yymn"),d=(n("GOKC"),function(e){var t=i("emote-button__link",{"emote-button__link--locked":!e.onClick}),n=e.emote,d=n.displayName,p=n.srcSet;if(!p)return null;var m=p.split(" ")[0],f=r.createElement("img",{className:"emote-picker__image",src:m,srcSet:p,alt:d});if(e.isCriticalImage){for(var h={},g=0,b=p.split(",");g<b.length;g++){var y=b[g].trim().split(" "),v=y[1],k=y[0];h[v]=k}f=r.createElement(s.CriticalImage,{className:"emote-picker__emote-image",src:m,srcSet:h,alt:d||""})}var S=r.createElement(o.a,{lockIcon:e.emote.isBitsTierEmote?o.b.BITS:o.b.LOCK,className:"emote-button__lock"});return r.createElement("div",{className:"emote-button"},r.createElement(c.a,{label:d||Object(a.d)("Emote","EmoteButton"),direction:c.c.Bottom},r.createElement(l.a,{display:u.g.Flex,alignItems:u.b.Center,justifyContent:u.l.Center},r.createElement("button",{"data-test-selector":"emote-button-clickable",className:t,"aria-label":d,name:d,onMouseEnter:e.onMouseEnter?e.onMouseEnter.bind(null,e.emote):void 0,onMouseLeave:e.onMouseLeave?e.onMouseLeave.bind(null,e.emote):void 0,onClick:e.onClick?e.onClick.bind(null,e.emote):void 0,"data-a-target":d},r.createElement("figure",null,e.emote.isLocked?S:null,e.showOptions&&r.createElement("div",{className:"emote-button__options"}),f)))))});n.d(t,"a",(function(){return"emote-button"})),n.d(t,"b",(function(){return d}))},b92r:function(e,t,n){e.exports=n.p+"assets/purple-gem-74ef4a0fcc90ab16cc60.png"},bFOZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutFormSuccessScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:141}};n.loc.source={body:"query CheckoutFormSuccessScreen($params: PurchasableOfferParams!) {\npurchasableOffer(params: $params) {\nid\ntplr\ntagBindings {\nkey\nvalue\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CheckoutFormSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CheckoutFormSuccessScreen")},bOWA:function(e,t,n){e.exports=n.p+"assets/mastercard-280a786ec3225a087428.svg"},bQeB:function(e,t,n){e.exports=n.p+"assets/generic_credit_card_1x-a6b9cd93075728ab4114.png"},cO90:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TwoFactorReminder"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasTwoFactorEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:79}};n.loc.source={body:"query TwoFactorReminder {\ncurrentUser {\nid\nsettings {\nhasTwoFactorEnabled\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.TwoFactorReminder=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"TwoFactorReminder")},csmi:function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_1x-5810bf2a8f8185a1a905.png"},dBxT:function(e,t,n){},dq0Q:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:61}};n.loc.source={body:"fragment subscriptionProductEmote on Emote {\nid\nsetID\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},eMuj:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var i=n("mrSG"),r=n("q1tI"),a=n("1rIY"),o=n("GnwI"),s=Object(a.a)("RecurlyContext",{recurlyInstance:void 0,recurlyLoadFailed:!1}),c=s.context,l=s.withContext,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={recurlyInstance:void 0,recurlyLoadFailed:!1},t.recurlyTimeoutID=0,t.providerMounted=function(){t.props.handleProviderMounted&&t.props.handleProviderMounted()},t.scriptErrored=function(){t.setState({recurlyLoadFailed:!0},(function(){t.props.latencyTracking.reportInteractive(),t.props.handleScriptError&&t.props.handleScriptError()}))},t.scriptSuccess=function(){clearTimeout(t.recurlyTimeoutID),t.props.handleScriptSuccess&&t.props.handleScriptSuccess()},t.scriptLoaded=function(){t.setState({recurlyInstance:window.recurly,recurlyLoadFailed:!1},(function(){t.scriptSuccess(),t.props.latencyTracking.reportInteractive()}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.recurlyTimeoutID||(this.recurlyTimeoutID=setTimeout((function(){e.scriptErrored()}),3e4)),this.providerMounted(),this.appendRecurlyScript()},t.prototype.componentWillUnmount=function(){this.recurlyTimeoutID>0&&clearTimeout(this.recurlyTimeoutID);var e=document.getElementById("recurly-script");e&&(e.removeEventListener("load",this.scriptLoaded),e.removeEventListener("error",this.scriptErrored),document.body.removeChild(e))},t.prototype.render=function(){return r.createElement(c.Provider,{value:this.state},this.props.children)},t.prototype.appendRecurlyScript=function(){var e=document.getElementById("recurly-script");e&&document.body.removeChild(e);var t=document.createElement("script");t.src="https://js.recurly.com/v4/recurly.js",t.async=!0,t.id="recurly-script",(e=document.body.appendChild(t)).addEventListener("load",this.scriptLoaded),e.addEventListener("error",this.scriptErrored)},t}(r.Component),d=Object(o.withLatencyTracking)("RecurlyContextManager")(u)},eP7G:function(e,t,n){},eUBP:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("TSYQ"),o=n("q1tI"),s=n("/MKj"),c=n("/7QA"),l=n("XDQu"),u=n("nAiT"),d=n("VYPy"),p=n("Ws8v"),m=n("yymn"),f=n("uG/k"),h=n("7uM4"),g=n("C7sF"),b=n("b7S+"),y=n("i4Ys"),v=n("sUnt");n("rsq/");!function(e){e.Button="emote-modifier-button__button",e.ButtonPresentation="emote-modifier-button__presentation"}(i||(i={}));var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderIcon=function(e){var n=Object(d.c)(t.props.modification,t.props.theme),r=a({"emote-modifier-button":!0,"emote-modifier-button--selected":t.props.selected,"emote-modifier-button--large":t.props.large,"emote-modifier-button--draggable":t.props.draggable});return o.createElement(p.a,{"data-test-selector":i.ButtonPresentation,className:r,display:m.g.Flex,justifyContent:m.l.Center,alignItems:m.b.Center,borderRadius:m.e.Medium,border:!0},t.props.modification.code?o.createElement(f.a,{srcSet:n,src:n["1x"],alt:e}):o.createElement(h.a,{asset:g.a.Emoticons}))},t.handleClick=function(){t.props.onClick&&t.props.onClick(t.props.modification)},t.handleMouseEnter=function(){t.props.onMouseEnter&&t.props.onMouseEnter(t.props.modification)},t.handleMouseLeave=function(){t.props.onMouseLeave&&t.props.onMouseLeave(t.props.modification)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(d.b)(this.props.modification.name),t=e?Object(u.d)(e):Object(c.d)("Standard","EmoteModifierButton");return this.props.onClick||this.props.onMouseEnter||this.props.onMouseLeave||this.props.draggable?o.createElement(p.a,{display:m.g.Flex,background:m.d.Base,borderRadius:m.e.Medium,fullWidth:!0},o.createElement(b.a,{id:t,label:t,direction:this.props.tooltipDirection||b.c.Top},o.createElement(y.a,{"data-test-selector":i.Button,type:y.b.Alpha,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,disabled:this.props.disabled},this.renderIcon(t),this.props.deleteMode&&o.createElement("div",{className:"emote-modifier-button__close"},o.createElement(v.a,{display:m.g.Flex,justifyContent:m.l.End,alignItems:m.b.Start},o.createElement(h.a,{asset:g.a.Close,height:10,width:10})))))):o.createElement(p.a,{display:m.g.Flex,background:m.d.Base,borderRadius:m.e.Medium,fullWidth:!0},o.createElement(b.a,{id:t,label:t,direction:this.props.tooltipDirection||b.c.Top},this.renderIcon(t)))},t}(o.Component);var S=Object(s.b)((function(e){return{theme:Object(l.a)(e)}}))(k);n.d(t,"a",(function(){return S}))},erSJ:function(e,t,n){},esZd:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("2Ygb");function o(e){return function(t){return function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return Object(i.__extends)(o,n),o.prototype.render=function(){return r.createElement(t,Object(i.__assign)({},e(this.props)))},o.displayName=Object(a.a)(o.name,t),o}(r.Component)}}n.d(t,"a",(function(){return o}))},"fI+N":function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("PL8s"),l=n("sUnt"),u=n("yymn"),d=n("hnjF"),p=n("+80q"),m=n("xWvT"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"chargeDisclaimerCopyKR",{get:function(){return Object(o.d)("Actual amount to be charged may vary depending on the exchange rate. Conversion fees and other incidental costs may be additionally included.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refundDisclaimerCopyKR",{get:function(){return Object(o.d)("Bits are available for use immediately after payment. You have the right to cancel your purchase and obtain a refund within seven days from the date of the purchase, provided that you have not used any of the Bits purchased in this transaction, at which point Twitch will deduct the purchased Bits from your account. Your purchase cannot be cancelled, irrespective of the date of the purchase, if you have used any of the Bits purchased in this transaction.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cancellationCopyKR",{get:function(){return Object(o.d)("Purchases made by a minor may be cancelled by the minor or the minor’s parent or legal guardian in case the parent or legal representative does not consent to the purchase made by the minor.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"twitchCopy",{get:function(){return Object(o.d)("Twitch Interactive, Inc.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"representativeCopy",{get:function(){return Object(o.d)("Name of Representative: Emmett Shear, CEO","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addressCopy",{get:function(){return Object(o.d)("Address: 350 Bush Street, 2nd Floor, San Francisco, California 94104, USA","LegalDisclaimer")},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.data.requestInfo&&"KR"===this.props.data.requestInfo.countryCode;return!this.props.data.loading||this.props.data.requestInfo&&this.props.data.requestInfo.countryCode?e?r.createElement(l.a,{textAlign:u.p.Left},r.createElement(d.a,{padding:{bottom:1}},r.createElement(p.a,{type:p.e.P,fontSize:u.j.Size7},this.chargeDisclaimerCopyKR)),r.createElement(d.a,{padding:{bottom:1}},r.createElement(p.a,{type:p.e.P,fontSize:u.j.Size7},this.refundDisclaimerCopyKR)),r.createElement(d.a,{padding:{bottom:1}},r.createElement(p.a,{type:p.e.P,fontSize:u.j.Size7},this.cancellationCopyKR)),r.createElement(p.a,{type:p.e.P,fontSize:u.j.Size7},this.twitchCopy),r.createElement(p.a,{type:p.e.P,fontSize:u.j.Size7},this.representativeCopy),r.createElement(p.a,{type:p.e.P,fontSize:u.j.Size7},this.addressCopy)):null:r.createElement(c.a,{lineCount:3,width:400})},t}(r.Component),h=Object(a.d)(Object(s.a)(m))(f);n.d(t,"a",(function(){return h}))},fQWD:function(e,t,n){"use strict";var i=n("vHGB");n.d(t,"a",(function(){return i.a}))},fgOK:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("geRD"),l=n("t/uW"),u=n("GnwI"),d=n("sUnt"),p=n("+80q"),m=n("yymn"),f=n("dEDE"),h=n("zbfc"),g=/^\d{5}$/,b=/^[A-Z]\d[A-Z] \d[A-Z]\d$/,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={countryCode:t.props.defaultCountryCode||"",postalCode:t.props.defaultPostalCode||"",settingResidence:!1,error:!1},t.handleCORChange=function(e){t.setState({countryCode:e.countryCode,postalCode:e.zipCode})},t.setUserResidence=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:this.setState({settingResidence:!0,error:!1}),n.label=1;case 1:return n.trys.push([1,3,,4]),e=Object(c.a)({userID:this.props.userID,countryCode:this.state.countryCode,zipCode:this.state.postalCode}),[4,this.props.setUserResidence(e)];case 2:return(t=n.sent().data).setUserResidence&&t.setUserResidence.user&&t.setUserResidence.user.residence?this.props.onSetResidenceSuccess():(this.props.onSetResidenceFailure&&this.props.onSetResidenceFailure(),this.setState({settingResidence:!1,error:!0})),[3,4];case 3:return n.sent(),this.props.onSetResidenceFailure&&this.props.onSetResidenceFailure(),this.setState({settingResidence:!1,error:!0}),[3,4];case 4:return[2]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(r.Fragment,null,r.createElement(l.a,{countryCode:this.state.countryCode,zipCode:this.state.postalCode,zipCodeError:!1,onChange:this.handleCORChange}),r.createElement(d.a,{margin:{y:2}},this.state.error&&r.createElement(d.a,{margin:{bottom:1}},r.createElement(p.a,{color:m.f.Error},Object(o.d)("There was an error processing your information. Please try again.","SelectResidence"))),r.createElement(f.a,{state:this.state.settingResidence?f.c.Loading:f.c.Default,disabled:!this.residenceValid||this.state.settingResidence,onClick:this.setUserResidence,"data-a-target":"proceed-button"},Object(o.d)("Proceed","SelectResidence"))))},Object.defineProperty(t.prototype,"residenceValid",{get:function(){return"US"===this.state.countryCode?g.test(this.state.postalCode):"CA"===this.state.countryCode?b.test(this.state.postalCode):!!this.state.countryCode},enumerable:!0,configurable:!0}),t}(r.Component),v=Object(a.d)(Object(u.withLatencyTracking)("SelectResidence",{autoReportInteractive:!0}),Object(s.a)(h,{name:"setUserResidence"}))(y);n.d(t,"a",(function(){return v}))},fvsf:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("Jgup"),l=n("DY5q"),u=n("p8oj"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.countryToCodeMap=t.createCountryToCodeMap(t.props.countryCodeList),t.sortedCountryStrings=t.createSortedCountryStringsList(t.props.countryCodeList),t.countryListSet=new Set(t.props.countryCodeList),t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){JSON.stringify(e.countryCodeList)!==JSON.stringify(this.props.countryCodeList)&&(this.countryToCodeMap=this.createCountryToCodeMap(this.props.countryCodeList),this.sortedCountryStrings=this.createSortedCountryStringsList(this.props.countryCodeList),this.countryListSet=new Set(this.props.countryCodeList))},t.prototype.render=function(){return r.createElement(l.a,{onChange:this.props.onChange,value:this.props.countryCode,error:this.props.error,autoComplete:"country"},r.createElement("option",{value:"",disabled:!0},Object(o.d)("Select country","CountrySelector")),this.sortedCountryOptions)},Object.defineProperty(t.prototype,"sortedCountryOptions",{get:function(){var e=this,t=[],n=this.props.data.requestInfo.countryCode;return n&&this.countryListSet.has(n)&&t.push(r.createElement("option",{value:n,key:"countryCode-"+n},Object(c.b)(n))),this.sortedCountryStrings.forEach((function(i){var a=e.countryToCodeMap[i];a!==n&&t.push(r.createElement("option",{value:a,key:"countryCode-"+a},i))})),t},enumerable:!0,configurable:!0}),t.prototype.createCountryToCodeMap=function(e){return e.reduce((function(e,t){return e[Object(c.b)(t)]=t,e}),{})},t.prototype.createSortedCountryStringsList=function(e){var t=o.p.intl.getLanguageCode()||"en";return e.map((function(e){return Object(c.b)(e)})).sort((function(e,n){return e.localeCompare(n,t)}))},t}(r.PureComponent),p=Object(a.d)(Object(s.a)(u))(d);n.d(t,"a",(function(){return p}))},g0Jf:function(e,t,n){},gn2N:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var i,r=n("mrSG"),a=n("b6Yk");!function(e){e.CreditCard="cc",e.PayPal="paypal",e.AmazonPay="amazon",e.Unknown="unknown"}(i||(i={}));var o=function(){function e(){}return e.updatePaymentMethod=function(e){return Object(r.__awaiter)(this,void 0,Promise,(function(){var t,n,i,o,s,c,l,u,d,p,m;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t=e.userID,n=e.paymentMethod,i=e.token,o=e.cardBINCountry,s=e.billingAuthInfo,c=e.paymentSession&&{device_id:e.paymentSession.deviceID,local_storage_device_id:e.paymentSession.localStorageDeviceID,tab_session_id:e.paymentSession.tabSessionID,page_session_id:e.paymentSession.pageSessionID,checkout_session_id:e.paymentSession.checkoutSessionID}||{},l="/v5/checkout/users/"+t+"/payment_methods",u={provider:"recurly",gateway:n,token:i,billing_info_country:o,payment_session:c,billing_auth_info:{three_d_secure_action_result_token_id:s&&s.threeDSecureActionResultTokenID}},[4,a.a.put(l,{body:u},{version:5})];case 1:return d=r.sent(),p=d.body,m=d.error,p&&p.error_code?[2,{error:p}]:[2,{error:m}]}}))}))},e}()},hNTM:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutPaymentsDisclaimer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:64}};n.loc.source={body:"query CheckoutPaymentsDisclaimer {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CheckoutPaymentsDisclaimer=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CheckoutPaymentsDisclaimer")},hRLk:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"paymentMethodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PaymentMethod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeInstrumentID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"provider"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paymentType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"billingCountry"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"billingEmail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cardType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastFour"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expirationMonth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expirationYear"},arguments:[],directives:[]}]}}],loc:{start:0,end:168}};n.loc.source={body:"fragment paymentMethodFragment on PaymentMethod {\nchargeInstrumentID\nprovider\npaymentType\nbillingCountry\nbillingEmail\ncardType\nlastFour\nexpirationMonth\nexpirationYear\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},hWJn:function(e,t,n){},hfwl:function(e,t,n){"use strict";n.r(t);var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("1/iK"),l=n("XDCx"),u=n("kz7j"),d=n("kRBY"),p=n("w1PT"),m=n("8EUQ"),f=n("GnwI"),h=n("78pb"),g=n("cZKs"),b=n("ZDlU"),y=n("yR8l"),v=n("ht6z"),k=n("f00E"),S=n("DMoW"),C=n("4rCz"),E=n("atdg"),O=n("QVaV"),P=n("azJ+"),N=n("Ws8v"),j=n("yymn"),D=n("sUnt"),T=n("HH5h"),w=n("K+jS"),I=n("+80q");n("erSJ");!function(e){e.BannerBackground="BannerBackground"}(i||(i={}));var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e={backgroundImage:"url("+(this.props.bannerImageURL||P.a+"/modal-fallback-banner.png")+")"};return a.createElement(N.a,{className:"sub-modal-banner",fullWidth:!0,position:j.n.Relative},a.createElement(D.a,{className:"sub-modal-banner__container",alignItems:j.b.Center,display:j.g.Flex,position:j.n.Absolute,zIndex:j.s.Above},a.createElement(D.a,{margin:{left:3,right:2}},a.createElement(T.a,{alt:this.props.channelDisplayName||this.props.channelLogin,size:50,userLogin:this.props.channelLogin,src:this.props.profileImageURL})),a.createElement(w.a,{id:E.a,type:I.e.H3},Object(O.a)(this.props.channelLogin,this.props.channelDisplayName))),a.createElement("div",{className:"sub-modal-banner__background",style:e,"data-test-selector":i.BannerBackground}),a.createElement(N.a,{className:"sub-modal-banner__cover",background:j.d.Base,fullWidth:!0,position:j.n.Absolute,zIndex:j.s.Below}))},t}(a.Component),A=n("YVOQ"),M=n("PL8s"),_=function(){return a.createElement(D.a,{className:"sub-modal-placeholder"},a.createElement(M.a,{height:100}),a.createElement(D.a,{padding:2},a.createElement(D.a,{padding:{y:1}},a.createElement(M.a,{width:140,height:20})),a.createElement(M.a,{lineCount:1}),a.createElement(D.a,{padding:{y:1}},a.createElement(M.a,{width:140,height:12})),a.createElement(M.a,{lineCount:3}),a.createElement(D.a,{display:j.g.Flex,padding:{y:2}},a.createElement(M.a,{width:40,height:40}),a.createElement(M.a,{width:40,height:40}),a.createElement(M.a,{width:40,height:40}),a.createElement(M.a,{width:40,height:40}),a.createElement(M.a,{width:40,height:40}),a.createElement(M.a,{width:40,height:40})),a.createElement(M.a,{width:140,height:12}),a.createElement(D.a,{display:j.g.Flex,padding:{y:2}},a.createElement(M.a,{width:30,height:30}),a.createElement(M.a,{width:30,height:30}),a.createElement(M.a,{width:30,height:30}),a.createElement(M.a,{width:30,height:30}),a.createElement(M.a,{width:30,height:30}),a.createElement(M.a,{width:30,height:30}),a.createElement(M.a,{width:30,height:30}),a.createElement(M.a,{width:30,height:30}),a.createElement(M.a,{width:30,height:30}),a.createElement(M.a,{width:30,height:30}),a.createElement(M.a,{width:30,height:30})),a.createElement(M.a,{width:140,height:12}),a.createElement(D.a,{padding:{y:1}},a.createElement(M.a,{height:80})),a.createElement(D.a,{padding:{y:1}},a.createElement(M.a,{height:80}))))},F=n("8/mp"),R=n("3Bft"),B=n("/7QA"),L=n("0YNu"),U=n("QOn5"),G=n("KnXG"),q=n("Uh2Q"),z=n("D7An"),H=n("TSYQ");function V(e){var t,n,i,r,a,o,s,c,l,u,d,p,m;switch(e){case"supermcgamer":return{displayName:"SuperMCGamer",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/301128046/3.0",greeting:"Hey SuperMCGamer here!",body:"Subscribing to my channel allows me to continue to build new and exciting streams going forward. It's always my goal to ensure we're building an inclusive, caring, and kind community, and by pledging a bit of cash a month, you're showing your willingness to be part of that. \n Everyone who watches the stream is so valuable to me and my life, so thank you for being part of it. If you do join our little Triple Triangle Club by subscribing, I'll be eternally grateful. Thanks for continuing to support my channel and my dreams.",tierHeadings:!1,benefits:(t={},t[R.a.Tier1]=["Join exclusive subscriber Discord chat","Behind the scenes peeks into the stream production"],t[R.a.Tier2]=["Sneak peeks of upcoming stream segments"],t[R.a.Tier3]=["Early access to community game night rooms"],t)};case"charliepryor":return{displayName:"CharliePryor",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/301315822/3.0",greeting:"Hey charliepryor here!",body:"Subscribing means I can continue the push for a full time career out of bringing high-engagement media quality to you, while still being a father that can invest in his family, and getting to reinvest in myself along the way. Much like any other job, a lot of hours go into making this the best show I can, and I love working to bring joy and encouragement into your life through gaming! It's a pleasure to engage and entertain you, so thank you for watching, and if you decide to support further, thank you for that as well! Living the dream! ",tierHeadings:!0,benefits:(n={},n[R.a.Tier1]=["Discord VIP channel access and flair","Access to Twitch VODs destined for YouTube"],n[R.a.Tier2]=["Early Access To YouTube videos","Includes all Tier 1 benefits"],n[R.a.Tier3]=["Includes all Tier 1 and 2 benefits"],n)};case"doodybeard":return{displayName:"Doodybeard",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/300233590/3.0",greeting:"I am doodybeard!",body:"I am fiercely loyal to twitch. The platform has given me the opportunity to not only express my creativity, but more importantly to do what I love on a day-to-day basis, leaving out a lot of common stress threads found in every day life. \n When viewers subscribe, stay subscribed, and gift subscriptions, I am able to extend my content and re-invest in more resources in which to entertain. Those resources can be costumes, makeup, travel expenses, or other tangible items that help me attack my brand the way I want to. \n Subs mean my dog and I can eat every day, subs mean I can clothe myself, subs mean i can live comfortably and not struggle the way I did when I worked in the restaurant industry. Ultimately, subs play a heavy role in a direct relationship with the growth of one's community. \n The support from the community means the world, and my viewers have no idea of the positive impact and the ripples it has affected. It really has opened up my world, and brought me opportunities. I appreciate every single sub ever earned, and every moment spent with me. Thank you everyone. This community means the world to me and without it I wouldn't feel so important in the world, and that's the truth.",tierHeadings:!0,benefits:(i={},i[R.a.Tier1]=["SUB PRIORITY on U-pick retro nights (1 choice)","AD - FREE viewing!","Special art streams","earn more CAILLOU COINS (channel points) and control my special stream effects with them!"],i[R.a.Tier2]=["SUB PRIORITY on U-pick retro nights (2 choices)","Includes all Tier 1 benefits"],i[R.a.Tier3]=["SUB PRIORITY on U-pick retro nights (3 choices)","Includes all Tier 1 and 2 benefits"],i)};case"megnagaming":return{displayName:"MegnaGaming",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/302629014/3.0",greeting:"Hey MegnaGaming here!",body:"Woah, thanks for even clicking over here! Whether you're considering subscribing for the first time, or a returning supporter, I appreciate you being a part of our community. Seriously, I can't say it enough. Thank you for taking the time to be with me through all my goofy adventures. \n As a full-time streamer, subscriptions allow me to focus on content creation and improving the stream's quality through upgrades. It also allows me to give back to the community in ways that just wouldn't be possible without your support. Beyond the financial aspect, it validates that what I'm doing on Twitch is adding value to people's lives. \n By subscribing, you make a difference not just in the channel, but also in my personal life. You allow me to do things with my family that I wouldn't otherwise be able to afford. I am incredibly grateful and humbled by the support.",tierHeadings:!1,benefits:(r={},r[R.a.Tier1]=["Exclusive Discord channel access for subs","Priority access when playing with viewers"],r[R.a.Tier2]=["Immunity to Nightbot. WHO DOESN'T LOVE CAPS!?!","Happy Hour: Off-stream video calls to game or just hang out with the community"],r[R.a.Tier3]=["Influence content for dedicated subscriber-only streams"],r)};case"drewpdrawers":return{displayName:"DrewPdrawers",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/1246200/3.0",greeting:"Hey DrewPdrawers here!",body:" Building a community on Twitch has been an ongoing adventure between my community and I and it is far from over. As community members get wrapped in this saga of sorts, they look for ways to get involved. Subscribing not only helps improve the quality of content over time, but can inspire confidence and affirmation that this story is indeed worth telling. Content creation is an ever evolving beast, and subscriptions provide reliable access to tools I wouldn’t have otherwise. As a broadcaster that aims for capability, creativity, and confidence within the streaming realm, the support from subscribers is at the very least inspiring! Without the help of the founders, the sub gifters, those that keep their streaks alive, this journey would be far from where it is now and I’m forever thankful to those that have ever, will ever, or continue to support the channel through subscriptions.",tierHeadings:!1,benefits:(a={},a[R.a.Tier1]=["Custom Scene Changes","Custom Sound Commands","Sub Only Game Time"],a[R.a.Tier2]=["Earn channel points faster and trigger scene changes","Custom Gif Alerts"],a[R.a.Tier3]=["Discord Only Voice Lobbies","Recommend raids at the end of the stream"],a)};case"willow":return{displayName:"Willow",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/302432609/3.0",greeting:"I'm Willow!",body:"I'm a variety streamer, a transgender streamer, and I'm very proud to say a full time streamer. I've been playing games since I was a little girl sitting in front of the TV with my NES, and being able to use that passion to create a welcoming environment matters. \n LGBTQIA+ folks deal with so much pushback in society for trying to be themselves and lack significant positive representation. I'm going to be the representation that I sorely lacked so no one else has to deal with that. \n Subscribers keep me going, let me share my content with others, and allow me to grow my community and help others. They make me so happy that they choose to support me in helping others feel safe and welcome. Thank you all, every one of you, for being a part of this. And subs? Thank you somuch for your support.",tierHeadings:!1,benefits:(o={},o[R.a.Tier1]=["Early Access to VODs","Priority voting in polls"],o[R.a.Tier2]=["Priority in joining with games for viewer Friday"],o[R.a.Tier3]=["Game Requests","Access to Dms"],o)};case"jessica_noelie":return{displayName:"Jessica_Noelie",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/302618961/3.0",greeting:"Dear viewers, followers, subscribers -",body:"I thank you from the bottom of my heart for all your support. Because of you watching my streams, being active in chat and on all social media and even through subscriptions or donations, I can do what i love so much. Streaming. Be assured that I do not take that for granted and do everything that i can to give back- with a lot of commitment, passion, quality and above all a lot of love. Thank you for making me live my dream. Thank you for making this community what it is- something so, so special.",tierHeadings:!1,benefits:(s={},s[R.a.Tier1]=["Discord: Get a special role & access to exclusive content"],s[R.a.Tier2]=["Viewergames: More chances to play with me!"],s[R.a.Tier3]=["Movienights: Watch movies together once a month!"],s)};case"afkayt":return{displayName:"afkayt",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/300118968/3.0",greeting:"Hi, I’m Kayt!",body:"I stream mostly body art with a focus on optical illusions and character transformations. Thank you so much for watching and supporting my channel. I put my heart into my work and have found my true passion, thanks to Twitch. When I’m not streaming, I’m a stay-at-home mom and your support allows me to pursue my dream of professional makeup artistry and content creation. Your subscription offsets the cost of my materials as well as the maintenance and improvement of the stream. Thank you again.",tierHeadings:!1,benefits:(c={},c[R.a.Tier1]=["Sub-only Discord channel","Early access to final edited body paint photos and outtakes"],c[R.a.Tier2]=["Movienights- We are watching movies together once a month!","Voting on future body paint themes (Tier 2 and 3 receive bonus votes)"],c[R.a.Tier3]=["Games with subs","Sub-only sfx"],c)};case"rynn":return{displayName:"Rynn",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/300519993/3.0",greeting:"Hi!",body:"My name is Rynn and I have been creating content on Twitch for seven years! I've been able to share what I love with the world for many years, and I don't know where I'd be without it. Twitch is my primary source of income - it supports myself and my kitties and allows me to make content creation a priority in my life. I’ve been able to travel all around the country because of my content and it’s been an incredible journey. I’m also a full time graduate student, so your support is helping me further my education. I’m extremely grateful to all my viewers - whether you choose to subscribe or not - you’re appreciated more than you know.  Thank you so much for your support, and whether you're a new viewer or new sub, welcome to the Rynncredibles! :heart:",tierHeadings:!1,benefits:(l={},l[R.a.Tier1]=["Exclusive channels in our Discord server","Ability to change custom lights (when available)"],l[R.a.Tier2]=["Ad-free viewing","First glances at updates (such as new emotes/badges)"],l[R.a.Tier3]=["Snapchat follow back (during active subscription)"],l)};case"shipbroman":return{displayName:"Shipbroman",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/300920614/3.0",greeting:"Greetings, I am Twitch partner streamer called shipbroman.",body:"I am now 26 years old masters degree student and electrical engineer.I love working on the ships and love everything about sea and maritime.Also love animals and i helped them a lot.Also i had doves which i helped them have nests on my balcony.I am multi times awarded inventor.Subscribing means a whole world to be as with it you show me your true love to my content and you directly support my channel to make better content for you.It allows me to have great and better giveaways for you and helps me survive also it makes me a lot happy when i receive a subscriber.It helps me a lot to get to my goals as when i reach certain goals i do something special on my stream for the whole community to enjoy and have fun all together to make your days better and to all together have fun.Subscribing makes me feel wonderful and more happier and i get special feel in my body of warmth as i feel more closer to you and have better connection when i receive a subscriber.I thank you all very much for watching my streams and thanks you all for following as it means a lot too.Special thanks goes to subscribers.Without you i wont be this good.",tierHeadings:!1,benefits:(u={},u[R.a.Tier1]=["Gaming with subs","Spotlight on my gaming focused and community website","Priority to be hosted and raided more frequently"],u[R.a.Tier2]=["Promotion for your channels and streams to help you get more growth and exposure","Private chat with me with all your needs","Streams without ads"],u[R.a.Tier3]=["Follow you everywhere on socials","Special discord access"],u)};case"juniper":return{displayName:"Juniper",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/302242211/3.0",greeting:"Hey there!",body:"Thank you for considering a subscription to my channel. I'm incredibly thankful for all of my followers and viewers, but subscribers have a special place in my heart. They are the reason that I have been able to pursue content creation as a job, and they allow me to put more time and effort into streams and videos for everybody. All of my viewers (including you!) mean so much to me and I value all of you deeply, but subscribers are truly dedicated individuals who have chosen to help me in my journey to make content creation my full-time job once I'm out of college. If you choose to become a sub, I thank you so very much for making my dream a reality; if not, I still appreciate you and I thank you for being here! <3",tierHeadings:!1,benefits:(d={},d[R.a.Tier1]=["Access to the private #juniper channel in The Kenos Public Discord server, where you can communicate with other subscribers & myself!"],d[R.a.Tier2]=["Your name on screen when you first subscribe & every month that you resub as well!"],d[R.a.Tier3]=["Priority access to Jackbox Games when I play them on stream!","My undying love and thankfulness <3"],d)};case"2dkiri":return{displayName:"2DKiri",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/302600205/3.0",greeting:"Hey 2DKiri here!",body:"If you subscribe to the channel because you want to support me, want belong to the community even more or simply because you want these cute Kiri emotes, THANK YOU. You’re helping me do what I love for a living. I’m extremely grateful to each and everyone of you for your support, be it financial or not. Simply being here and lurking or chatting helps a ton too. Please, never think that you have to spend money here to be valued. You’re the best. Thank you so much!",tierHeadings:!0,benefits:(p={},p[R.a.Tier1]=["Access to sub-only Discord channel"],p[R.a.Tier2]=["Unique greeting in chat of your choosing once per stream","Includes all Tier 1 benefits"],p[R.a.Tier3]=["Unique chat greeting + personalised sound command of your choosing","Includes all Tier 1 and 2 benefits"],p)};case"leland":return{displayName:"Leland",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/1850712/3.0",greeting:"Hey Leland here!",body:"As a content creator myself, I appreciate all kinds of support people provide towards me.Although I have a full- time position in the real world, I still appreciate any support provided, and this includes becoming a subscriber, or in Land of the Leys terms, a Lord of the Leys! \n I never expect any subs given to me, but I 100 % appreciate it.Being a Lord of the Leys provides me additional validation that my content is something that people enjoy. \n Thank you so much for reading this, and even if you are not a Lord, know that you're appreciated here.",tierHeadings:!0,benefits:(m={},m[R.a.Tier1]=["Priority on gaming streams if there are any group games"],m[R.a.Tier2]=["Credits at the end of every stream and on Youtube videos","Includes all Tier 1 benefits"],m[R.a.Tier3]=["Special bot command to use or spam, your choice!","A VIP badge beside your name","Includes all Tier 1 and 2 benefits"],m)};case"prolikechro":return{displayName:"prolikechro",emoteURL:"https://static-cdn.jtvnw.net/emoticons/v1/301640794/3.0",greeting:"Hey prolikechro here!",body:"In life there's a large difference between those who say they support you and those who actually take action in supporting you. To me those that take action are my subscribers.  While viewership feels like there are people to support you, subscribing feels like they are standing next to you helping you accomplish your goals.  Finances shouldn't always direct you in life but you have to be down to earth and spend time on what helps you live a better life.  As someone who does have other jobs; subscribers gives a bit more reason to spend your time on streaming activities.   It's direct validation that you're making a difference and tells you to keep on putting in time, because its helping others.  While subscribers provide a concrete backing its also important to call out your normal viewers.  Some are there just to lurk while others can be immensely active and having a paywall to your content or community is no way to treat people.  Streamers often forget that viewership is what gets you to the top, gaining subscribers is a symptom of having good viewership.  That's why I'm thankful to both my viewers and subscribers.  I try to treat everyone as equally as possible and only provided quality of life benefits for my subscribers.   Everyone has equal access, the only real benefit subscribers have is preferred queue when teaching and the ability to swear in chat.  Anything more and it would be disrespectful to those that are doing what they can but don't have the means to give money.",tierHeadings:!1,benefits:null};default:return null}}var W,Y=n("br9A"),Q=n("uG/k"),K=n("7d/q"),J=n("C7sF"),Z=(n("8NlI"),function(e){var t=e.channelLogin,n=e.handleSubMenuAction,i=V(t),r=Object(a.useState)(!1),o=r[0],s=r[1];if(!i||!i.body)return null;var c=H({"about-me-blurb__text--ellipsis":!o}),l=i.body,u=i.emoteURL,d=i.greeting;return a.createElement(D.a,{display:j.g.Flex},a.createElement(D.a,{flexShrink:0,padding:{right:1}},a.createElement(Q.a,{src:u,alt:Object(C.d)("Custom Emote","SubModalUnsubbedPage"),sizes:[{size:"56px"}],srcSet:{"112w":u}})),a.createElement(D.a,{overflow:j.m.Hidden},a.createElement(I.a,{className:c},Object(C.d)("<x:strong>{greetingMessage}</x:strong> {bodyMessage}",{greetingMessage:d,"x:strong":function(e){return a.createElement("strong",null,e)},bodyMessage:l},"SubModalUnsubbedPage"))),a.createElement(D.a,null,a.createElement(K.a,{icon:J.a.AngleDown,onClick:function(){s(!o),n({action:Y.a.ClickAboutMeBlurb})}})))}),X=n("b7S+"),$=n("7uM4");n("IQPs");!function(e){e.CustomDefinedBenefitsTooltip="custom-defined-benefits__tooltip"}(W||(W={}));var ee,te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleHover=function(){t.props.handleSubMenuAction({action:Y.a.HoverCustomDefinedBenefitsInfo})},t.handleClick=function(){t.props.handleSubMenuAction({action:Y.a.ClickCustomDefinedBenefitsInfo})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=V(this.props.channelLogin);if(!e||!e.benefits)return null;var t=Object(C.d)("{channelName}'s Custom Benefits",{channelName:e.displayName},"SubModalUnsubbedPage"),n=e.tierHeadings,i=e.benefits[R.a.Tier1],r=e.benefits[R.a.Tier2],o=e.benefits[R.a.Tier3];return a.createElement(a.Fragment,null,a.createElement(D.a,{display:j.g.Flex,margin:{bottom:1}},a.createElement(D.a,{padding:{right:.5}},a.createElement(I.a,{type:I.e.H5,bold:!0},t)),a.createElement(X.a,{label:Object(C.d)("Custom benefits originate from and are fulfilled by creators.","SubModalUnsubbedPage"),direction:X.c.Right,display:j.g.Flex},a.createElement("div",{"data-test-selector":W.CustomDefinedBenefitsTooltip,onMouseOver:this.handleHover,onClick:this.handleClick},a.createElement($.a,{asset:J.a.NotificationInfo,type:$.b.Alt2,height:20})))),a.createElement(D.a,{display:j.g.Flex},a.createElement(D.a,{className:"custom-defined-benefits__list",padding:{right:1}},n&&a.createElement(D.a,{padding:{bottom:.5}},a.createElement(I.a,{bold:!0},Object(C.d)("Tier 1","SubModalUnsubbedPage"))),a.createElement("ul",{className:"custom-defined-benefits__bullets"},i.map((function(e){return a.createElement("li",null,e)})))),a.createElement(D.a,{className:"custom-defined-benefits__list",padding:{right:1}},n&&a.createElement(D.a,{padding:{bottom:.5}},a.createElement(I.a,{bold:!0},Object(C.d)("Tier 2","SubModalUnsubbedPage"))),a.createElement("ul",{className:"custom-defined-benefits__bullets"},r.map((function(e){return a.createElement("li",null,e)})))),a.createElement(D.a,{className:"custom-defined-benefits__list",padding:{right:1}},n&&a.createElement(D.a,{padding:{bottom:.5}},a.createElement(I.a,{bold:!0},Object(C.d)("Tier 3","SubModalUnsubbedPage"))),a.createElement("ul",{className:"custom-defined-benefits__bullets"},o.map((function(e){return a.createElement("li",null,e)}))))))},t}(a.Component),ne="creator_defined_benefits";!function(e){e.HasBlurbOnlyMessage="HasBlurbOnlyMessage",e.HasBenefitsOnlyMessage="HasBenefitsOnlyMessage",e.HasBlurbAndBenefitsMessage="HasBlurbAndBenefitsMessage"}(ee||(ee={}));var ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=B.b.get(ne,!1)?B.p.experiments.getAndTrackAssignment(z.c.CreatorDefinedBenefits):null;return e&&"control"!==e?a.createElement(a.Fragment,null,"blurb_only"===e&&a.createElement(D.a,{"data-test-selector":ee.HasBlurbOnlyMessage},a.createElement(Z,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction})),"benefits_only"===e&&a.createElement(D.a,{"data-test-selector":ee.HasBenefitsOnlyMessage},a.createElement(te,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction})),"blurb_and_benefits"===e&&a.createElement(D.a,{"data-test-selector":ee.HasBlurbAndBenefitsMessage},a.createElement(Z,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction}),a.createElement(D.a,{margin:{top:2}},a.createElement(te,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction})))):null},t}(a.Component),re=n("QDWv"),ae=n("Mb07"),oe=n("DnOo"),se=n("a5fV"),ce=n("hnjF");n("g0Jf");var le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.handleSubMenuAction,i=t.product,r=t.subscriptionBenefit,o=Object(ae.c)(ae.a.FirstPaidSubOffer,i.offers);if(!o||!Object(ae.e)(o))return null;var s=Object(se.e)(i),c=Object(ae.d)(o),l=c.discountPercent,u=c.price;if(!l||!s||!u)return null;var d=Object(B.d)("Tier 1 only. Renews monthly at {renewalPrice}",{renewalPrice:u},"FirstPaidSubOffer");return a.createElement(re.a,{oneClickDisplayType:re.b.SubModal,productName:this.props.product.name,offerID:null==o?void 0:o.id,productID:this.props.product.id,channelID:this.props.channelID||"",channelLogin:this.props.channelLogin,renewsMessage:d,tierNumber:1,isQuickSub:!0,modalSessionID:this.props.modalSessionID,checkoutSessionID:this.props.checkoutSessionID},a.createElement(D.a,{className:"first-paid-sub-offer__container",display:j.g.Flex,flexGrow:1,justifyContent:j.l.End,padding:{x:2,y:1},position:j.n.Relative},a.createElement(D.a,{className:"first-paid-sub-offer__sparkle",position:j.n.Absolute},a.createElement(Q.a,{alt:Object(B.d)("Sparkle","FirstPaidSubOffer"),src:P.a+"/fpso-sparkles.gif"})),a.createElement(D.a,{className:"first-paid-sub-offer__upsell",display:j.g.Flex,flexDirection:j.h.Column,justifyContent:j.l.Center,zIndex:j.s.Above},a.createElement(D.a,{margin:{bottom:.5}},a.createElement(I.a,{bold:!0,fontSize:j.j.Size4,lineHeight:I.b.Heading},Object(B.d)("First Sub, First Month: {offerPercentage}% Off",{offerPercentage:l},"FirstPaidSubOffer"))),a.createElement(D.a,{className:"first-paid-sub-offer__upsell--description"},a.createElement(I.a,{fontSize:j.j.Size6},d))),a.createElement(D.a,{alignItems:j.b.End,className:"first-paid-sub-offer__cta",display:j.g.Flex,flexDirection:j.h.Column,justifyContent:j.l.Center,padding:{left:3}},a.createElement(oe.a,{customSubscribeNowMessage:(null===(e=null==r?void 0:r.gift)||void 0===e?void 0:e.isGift)||(null==r?void 0:r.purchasedWithPrime)?Object(B.d)("Continue Sub","FirstPaidSubOffer2"):Object(B.d)("Subscribe","FirstPaidSubOffer"),handleSubAction:n,icon:J.a.Star,isSubbedToTier:!1,overrideSubEventAction:Y.a.BuyQuickSub,productName:i.name,tierPrice:String(s),url:i.url,offerID:o.id}),a.createElement(ce.a,{className:"first-paid-sub-offer__cta--description",margin:{top:.5},textAlign:j.p.Right},a.createElement(I.a,{fontSize:j.j.Size6},Object(B.d)("{offerPercentage}% Off First Month",{offerPercentage:l},"FirstPaidSubOffer"))))))},t}(a.Component),ue=Object(A.b)((function(e){return{subscriptionBenefit:e.subscriptionBenefit,channelID:e.channelId,modalSessionID:e.modalSessionId,checkoutSessionID:e.checkoutSessionID}}))(le),de=n("751L"),pe=n("Gvf2"),me=n("UI0n");var fe,he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(me.e,{channelID:this.props.channel.id,formattedDisplayName:Object(O.a)(this.props.channel.login,this.props.channel.displayName),isFounder:this.props.isFounder,isFounderBadgeAvailable:this.props.isFounderBadgeAvailable,streakTenure:this.props.streakTenure,subBadges:this.props.subBadges,subscriptionBenefit:this.props.subscriptionBenefit,tenure:this.props.tenure})},t}(a.Component),ge=Object(A.b)((function(e){return{channel:e.channel,isFounder:e.isFounder,isFounderBadgeAvailable:e.isFounderBadgeAvailable,streakTenure:e.streakTenure,subBadges:e.subBadges,subscriptionBenefit:e.subscriptionBenefit,tenure:e.tenure}}))(he);!function(e){e.AdFreeMessage="SubBenefitAdFree",e.SubscriberStreamMessage="SubBenefitSubscriberStream"}(fe||(fe={}));var be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.selectedTier?this.props.subscriptionProducts.find((function(t){return t.tier===e.props.selectedTier})):this.props.subscriptionProducts[0];return t?a.createElement(D.a,null,a.createElement(ce.a,{margin:{top:2,bottom:1}},a.createElement(I.a,{type:I.e.H5,bold:!0},this.props.selectedTier?Object(C.d)("Tier Benefits","SubBenefits"):Object(C.d)("Benefits","SubBenefits"))),t.hasAdFree&&a.createElement(ce.a,{margin:{bottom:1}},a.createElement(I.a,{"data-test-selector":fe.AdFreeMessage},Object(C.d)("Ad-free viewing on {channelName}'s channel (with limited exceptions).",{channelName:this.props.formattedDisplayName},"SubBenefits"))),a.createElement(ce.a,{margin:{bottom:1}},a.createElement(I.a,null,Object(C.d)("Chat during Subscriber-Only Mode and not affected by chat slow mode.","SubBenefits"))),a.createElement(ce.a,{margin:{bottom:1}},a.createElement(I.a,{"data-test-selector":fe.SubscriberStreamMessage},Object(C.d)("Watch Subscriber Streams (access depends on Subscription Tier).","SubBenefits"))),a.createElement(ge,null),a.createElement(pe.a,{product:t,handleSubMenuAction:this.props.handleSubMenuAction})):null},t}(a.Component);var ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(be,{subscriptionProducts:this.props.subscriptionProducts,handleSubMenuAction:this.props.handleSubMenuAction,formattedDisplayName:Object(O.a)(this.props.channel.login,this.props.channel.displayName||null)})},t}(a.Component),ve=Object(A.b)((function(e){return{channel:e.channel,handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts}}))(ye),ke=n("2ha9");var Se,Ce=n("PZ6D"),Ee=n("8Csb");!function(e){e.QuickSub="QuickSub",e.HigherTier="HigherTier",e.BadgeModifierUpsell="BadgeModifierUpsell",e.CreatorDefinedBenefits="CreatorDefinedBenefits"}(Se||(Se={}));var Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){if(!this.props.subscriptionProducts[0])return null;var e=Object(C.d)("Tier 1 Subscription","SubModalUnsubbedPage"),t=Object(C.d)("Subscriptions are a great way to directly support the streamers you love and get great benefits too!","SubModalUnsubbedPage");return a.createElement(a.Fragment,null,this.getSubPlan(),Object(q.g)(q.a)&&a.createElement(D.a,{margin:{top:1,left:1,right:2,bottom:1}},a.createElement(de.b,{context:de.a.SUB_MODAL})),a.createElement(D.a,{padding:2},function(e){if(!B.b.get(ne,!1))return!1;var t=V(e.toLowerCase());if(!t)return!1;var n=B.b.get(ne,!1)?B.p.experiments.getAndTrackAssignment(z.c.CreatorDefinedBenefits):null;return!(!n||"control"===n)&&(!("blurb_and_benefits"===n&&!t.body&&!t.benefits)&&(!("blurb_only"===n&&!t.body)&&!("benefits_only"===n&&!t.benefits)))}(this.props.channelLogin)?a.createElement(ie,{channelLogin:this.props.channelLogin.toLowerCase(),"data-test-selector":Se.CreatorDefinedBenefits,handleSubMenuAction:this.props.handleSubMenuAction}):a.createElement(a.Fragment,null,a.createElement(I.a,{type:I.e.H4,bold:!0},e),a.createElement(ce.a,{margin:{y:1}},a.createElement(I.a,null,t))),a.createElement(ve,null),this.getSubPlans()),this.getHigherTiers())},t.prototype.getSubPlan=function(){var e=this.props,t=e.channelLogin,n=e.handleSubMenuAction,i=e.subscriptionProducts,r=Object(Ce.i)(i[0]),o=a.createElement(U.a,{channelLogin:t,"data-test-selector":Se.QuickSub,handleSubMenuAction:n,isQuickSub:!0,product:i[0]});return Object(ae.e)(Object(ae.c)(ae.a.FirstPaidSubOffer,i[0].offers))?o=a.createElement(ue,{channelLogin:t,handleSubMenuAction:n,product:i[0]}):Object(Ee.b)()&&r&&(o=a.createElement(ke.a,{handleSubMenuAction:this.props.handleSubMenuAction,prioritizedOffers:r,product:i[0]})),o},t.prototype.getSubPlans=function(){var e,t,n=[],i=(e=Object(G.a)()||"US",t=B.b.get("prime_sub_blocked_regions",[]),!!e&&!t.includes(e.toUpperCase())),r=a.createElement(U.a,{key:"subplan-tier1",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:this.props.subscriptionProducts[0],onGift:this.props.isNonStandardSub?void 0:this.props.onGift});if(this.props.inPrimeRegion&&i){n.push(a.createElement(I.a,{key:"subplan-heading",type:I.e.H5,bold:!0},Object(C.d)("Two Ways to Subscribe","SubModalUnsubbedPage")));var o=a.createElement(U.a,{key:"subplan-prime",handleSubMenuAction:this.props.handleSubMenuAction,channelLogin:this.props.channelLogin,primeSubPlan:{hasPrime:this.props.hasPrime},product:this.props.subscriptionProducts[0]});n.push(a.createElement(D.a,{key:"subplan-top",margin:{y:1}},this.props.canPrimeSubscribe?o:r)),n.push(this.props.canPrimeSubscribe?r:o)}else n.push(r);return n},t.prototype.getHigherTiers=function(){var e=this.props.subscriptionProducts.slice(1);return e.length<1?null:a.createElement(N.a,{padding:2},a.createElement(I.a,{bold:!0,type:I.e.H4},Object(C.d)("Higher Tiers","SubModalUnsubbedPage")),a.createElement(Ne,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,baseProduct:this.props.subscriptionProducts[0],higherTierProducts:e,onGift:this.props.isNonStandardSub?void 0:this.props.onGift}))},t}(a.Component),Pe=n("0WFu"),Ne=function(e){var t=e.baseProduct,n=e.higherTierProducts;return n.length<1?null:a.createElement(a.Fragment,null,n.map((function(i){var o=Object(Pe.b)(i.tier)||1;return a.createElement(D.a,{key:i.id,margin:{y:1},"data-test-selector":Se.HigherTier},a.createElement(I.a,{bold:!0,type:I.e.H5},Object(B.d)("Tier {tierNumber}",{tierNumber:o},"SubModalUnsubbedPage")),a.createElement(D.a,{"data-test-selector":Se.BadgeModifierUpsell+"__"+i.tier},a.createElement(D.a,{margin:{top:1}},a.createElement(L.a,{selectedProduct:i,allSubProducts:Object(r.__spreadArrays)([t],n),handleSubMenuAction:e.handleSubMenuAction})),a.createElement(U.a,{channelLogin:e.channelLogin,product:i,handleSubMenuAction:e.handleSubMenuAction,onGift:e.onGift,subscriptionBenefit:e.subscriptionBenefit})))})))},je=n("dEDE"),De=(n("OCZ4"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t,n=this.props.subscriptionProducts[0],i=(null===(e=Object(Pe.b)(n.tier))||void 0===e?void 0:e.toString())||"",r=this.props.subscriptionProducts.slice(1);return a.createElement(D.a,{className:"all-paid-tiers"},a.createElement(D.a,{className:"all-paid-tiers__back-button",margin:{bottom:1}},a.createElement(je.a,{type:je.d.Text,"data-a-target":"subscribe-back-button",icon:J.a.AngleLeft,onClick:this.props.onBack},a.createElement(D.a,{alignItems:j.b.Center,display:j.g.InlineFlex},a.createElement(I.a,null,Object(B.d)("Back","AllPaidTiers"))))),a.createElement(D.a,{margin:{bottom:1}},a.createElement(I.a,{bold:!0,type:I.e.H5},(t=i,Object(B.d)("Tier {tierNumber}",{tierNumber:t},"AllPaidTiers")))),a.createElement(D.a,{margin:{y:1}},a.createElement(L.a,{selectedProduct:n,handleSubMenuAction:this.props.handleSubMenuAction})),a.createElement(U.a,{key:"subplan-tier1",channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,product:n,subscriptionBenefit:this.props.subscriptionBenefit}),a.createElement(Ne,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,baseProduct:n,higherTierProducts:r,subscriptionBenefit:this.props.subscriptionBenefit}))},t}(a.Component));var Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(De,{channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,onBack:this.props.onBack,subscriptionBenefit:this.props.subscriptionBenefit,subscriptionProducts:this.props.subscriptionProducts})},t}(a.Component),we=Object(A.b)((function(e){return{subscriptionBenefit:e.subscriptionBenefit||void 0,subscriptionProducts:e.subscriptionProducts,handleSubMenuAction:e.handleSubMenuAction,channel:e.channel,sessionUser:e.sessionUser,subBadges:e.subBadges,tenure:e.tenure}}))(Te),Ie=(n("N868"),n("5yce")),xe=function(e){var t=e.product,n=e.displayQuantityLimits,i=Object(Ie.a)(t);if(!i)return null;var r=i.offer,o=i.discountPercent;return a.createElement(N.a,{className:"first-paid-gift-offer__container",display:j.g.Flex,flexGrow:1,justifyContent:j.l.Between,padding:2,borderRadius:j.e.Medium},a.createElement(D.a,{className:"first-paid-gift-offer__upsell",display:j.g.Flex,flexDirection:j.h.Column,justifyContent:j.l.Center,padding:{left:3}},a.createElement(I.a,{fontSize:j.j.Size4,color:j.f.Overlay,lineHeight:I.b.Heading},Object(B.d)("Get {discountPercent}% off your first sub gift!",{discountPercent:o},"FirstPaidGiftOffer"))),a.createElement(D.a,{alignItems:j.b.End,display:j.g.Flex,flexDirection:j.h.Column,justifyContent:j.l.Center},a.createElement(I.a,{fontSize:j.j.Size7,color:j.f.Overlay},Ae(r,n))))},Ae=function(e,t){var n;return t?Object(B.d)("Tier 1 subs only, gifts of {maxGiftsAllowed} or less",{maxGiftsAllowed:(null===(n=e.quantity)||void 0===n?void 0:n.max)||10},"FirstPaidGiftOffer"):Object(B.d)("Tier 1 subs only","FirstPaidGiftOffer")},Me={prime:0,1e3:0,2e3:1,3e3:2,Custom:0},_e=n("uBOI"),Fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeIndex:Me[t.props.tier]},t.clickActiveTab=function(e,n){t.toggleActiveTab(n)},t.toggleActiveTab=function(e){t.setState({activeIndex:e},(function(){var e=t.props.subscriptionProducts[t.state.activeIndex];t.props.handleSubMenuAction({action:Y.a.ChangeTier,checkoutButtonTier:e.price}),t.props.onTierSelect(e)}))},t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.props.subscriptionProducts!==e.subscriptionProducts&&this.toggleActiveTab(this.state.activeIndex)},t.prototype.render=function(){var e=this;if(1===this.props.subscriptionProducts.length)return a.createElement(a.Fragment,null,this.props.children);var t=this.props.subscriptionProducts.filter((function(e){return e.tier})).map((function(t){var n=t.tier;return{label:Object(B.d)("Tier {tierNumber}",{tierNumber:Me[n]+1},"TierTabsWrapper"),onClick:e.clickActiveTab}}));return a.createElement(D.a,{className:"tier-tabs-wrapper"},a.createElement(D.a,{margin:{bottom:1}},a.createElement(_e.b,{activeTabIndex:this.state.activeIndex,tabs:t,size:_e.a.Default,justifyContent:j.l.Start})),a.createElement(D.a,null,this.props.children))},t}(a.Component),Re=n("Jsra"),Be=n("kqSx"),Le=1,Ue=100,Ge={AAP:[1,2,5,25,65],Custom:[],1e3:[1,5,10,20,50,100],2e3:[1,5,10,20,50,100],3e3:[1,5,10,20,40]},qe={AAP:65,Custom:0,1e3:100,2e3:100,3e3:40},ze={control:[1,5,10,20,50,100],variant_1:[2,5,10,20,50,100],variant_2:[3,5,10,20,50,100],variant_3:[4,5,10,20,50,100]},He=n("3aAs"),Ve=(n("rw43"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=t.getInitialState(),t.handleChange=function(e){if(""!==e.target.value){var n=parseInt(e.target.value,10);if(!isNaN(n)){var i=t.props.limit||Ue;n<Le?n=Le:n>i&&(n=i),t.setState({giftCount:n,inputString:n.toString()})}}else t.setState({giftCount:1,inputString:e.target.value})},t.onCheckoutClick=function(e){B.n.set(m.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.subscriptionProduct.name),B.n.set(m.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,t.state.giftCount),B.n.set(m.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously),t.props.handleSubMenuAction({action:Y.a.BuyCustomMysteryGift,checkoutButtonTier:t.props.subscriptionProduct.tier,mysteryGiftCount:t.state.giftCount,isAnonymous:t.props.giftingAnonymously,offerID:(null==e?void 0:e.id)||""})},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.limit&&e.limit<t.giftCount?{giftCount:e.limit,inputString:e.limit.toString()}:null},t.prototype.render=function(){var e,t,n,i,r=this,o=Object(Ce.b)(this.props.subscriptionProduct.gifting,this.state.giftCount),s=(null===(n=null===(t=null===(e=this.props.subscriptionProduct.gifting)||void 0===e?void 0:e.community)||void 0===t?void 0:t.find((function(e){var t,n;return(null===(n=null===(t=null==e?void 0:e.offer)||void 0===t?void 0:t.promotion)||void 0===n?void 0:n.name)===ae.a.FirstPaidGiftOffer})))||void 0===n?void 0:n.offer)||void 0,c=Object(ae.b)(o).discountPercent;return a.createElement(D.a,{fullWidth:!0},a.createElement(I.a,{bold:!0,fontSize:j.j.Size5},Object(B.d)("Custom Quantity","CustomMysteryGiftBundle")),a.createElement(D.a,{display:j.g.Flex,flexWrap:j.i.Wrap,justifyContent:j.l.Start,margin:{top:1}},a.createElement(D.a,{alignItems:j.b.Center,display:j.g.Flex,margin:{right:2}},a.createElement(D.a,{margin:{right:1}},a.createElement(He.a,{max:this.props.limit||Ue,min:Le,onChange:this.handleChange,type:He.c.Number,value:this.state.inputString})),a.createElement(I.a,{className:"custom-community-gift-bundle__max-text"},Object(B.d)("(Max {limit, number})",{limit:this.props.limit||Ue},"CustomMysteryGiftBundle"))),a.createElement(D.a,{className:"custom-community-gift-bundle__purchase-button",margin:{y:1,right:1}},a.createElement(je.a,{fullWidth:!0,onClick:function(){return r.onCheckoutClick(o)},purchase:Object(se.d)(o,this.state.giftCount),targetBlank:!0},Object(B.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub} other {Gift {mysteryGiftCount} Subs}}",{mysteryGiftCount:this.state.giftCount},"CustomMysteryGiftBundle"))),a.createElement(D.a,{display:j.g.Flex,alignItems:j.b.Center},c?a.createElement(I.a,{decoration:I.c.Strikethrough,color:j.f.Alt2},Object(se.d)(o,this.state.giftCount,!0)):Object(ae.e)(s)&&a.createElement(I.a,{color:j.f.Alt2},Object(B.d)("{discountPercent}% discount only for gifts of {maxQuantity} or less",{discountPercent:Object(ae.d)(s).discountPercent||20,maxQuantity:(null===(i=null==s?void 0:s.quantity)||void 0===i?void 0:i.max)||10},"CustomMysteryGiftBundle")))))},t.prototype.getInitialState=function(){return"treatment"===B.p.experiments.getAndTrackAssignment(z.c.CommunityGiftingCustomOfferPresentment)?{giftCount:10,inputString:10..toString()}:{giftCount:Le,inputString:Le.toString()}},t}(a.Component)),We=(n("Bx44"),"animated-background-transition"),Ye=We+"__toggled-content",Qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={previousToggle:t.props.toggle,toggled:!1},t.ref=null,t.setRef=function(e){t.ref=e,t.ref&&t.ref.addEventListener("animationend",t.unToggle)},t.unToggle=function(){return t.setState({toggled:!1})},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return t.previousToggle===e.toggle?null:{previousToggle:e.toggle,toggled:!0}},t.prototype.componentWillUnmount=function(){this.ref&&this.ref.removeEventListener("animationend",this.unToggle)},t.prototype.render=function(){var e=this.props.toggle?Ye+"--show":Ye+"--hide";return this.state.toggled&&(e=this.props.toggle?Ye+"--fade-in":Ye+"--fade-out"),a.createElement(D.a,{className:We,position:j.n.Relative},a.createElement(D.a,{className:We+"__background",position:j.n.Absolute}),a.createElement(D.a,{className:e,position:j.n.Absolute,justifyContent:j.l.Center,refDelegate:this.setRef},this.props.toggledContent),a.createElement(D.a,{position:j.n.Absolute,fullWidth:!0,fullHeight:!0,display:j.g.Flex,justifyContent:j.l.Center},this.props.content))},t}(a.Component),Ke=n("X2PJ"),Je=(n("OjAq"),n("5zXJ"));var Ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hovered:!1},t.handleClick=function(){B.n.set(m.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.subscriptionProduct.name),B.n.set(m.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,String(t.props.mysteryGiftCount)),B.n.set(m.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously),t.props.handleSubMenuAction({action:Y.a.BuyMysteryGift,checkoutButtonTier:t.props.subscriptionProduct.tier,mysteryGiftCount:t.props.mysteryGiftCount,isAnonymous:t.props.giftingAnonymously,offerID:Object(Ce.c)(t.props.subscriptionProduct.gifting,t.props.mysteryGiftCount)})},t.handleHoverStart=function(){t.setState({hovered:!0})},t.handleHoverEnd=function(){t.setState({hovered:!1})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=Object(q.g)(q.a)?(e=this.props.mysteryGiftCount)>=100?{"1x":Je.g+"/hyperscape-megacommerce/subscriptions/100-gifts-1x.png","2x":Je.g+"/hyperscape-megacommerce/subscriptions/100-gifts-2x.png","4x":Je.g+"/hyperscape-megacommerce/subscriptions/100-gifts-4x.png"}:e>=50?{"1x":Je.g+"/hyperscape-megacommerce/subscriptions/50-gifts-1x.png","2x":Je.g+"/hyperscape-megacommerce/subscriptions/50-gifts-2x.png","4x":Je.g+"/hyperscape-megacommerce/subscriptions/50-gifts-4x.png"}:e>=20?{"1x":Je.g+"/hyperscape-megacommerce/subscriptions/20-gifts-1x.png","2x":Je.g+"/hyperscape-megacommerce/subscriptions/20-gifts-2x.png","4x":Je.g+"/hyperscape-megacommerce/subscriptions/20-gifts-4x.png"}:e>=10?{"1x":Je.g+"/hyperscape-megacommerce/subscriptions/10-gifts-1x.png","2x":Je.g+"/hyperscape-megacommerce/subscriptions/10-gifts-2x.png","4x":Je.g+"/hyperscape-megacommerce/subscriptions/10-gifts-4x.png"}:e>=5?{"1x":Je.g+"/hyperscape-megacommerce/subscriptions/5-gifts-1x.png","2x":Je.g+"/hyperscape-megacommerce/subscriptions/5-gifts-2x.png","4x":Je.g+"/hyperscape-megacommerce/subscriptions/5-gifts-4x.png"}:e>=1?{"1x":Je.g+"/hyperscape-megacommerce/subscriptions/1-gift-1x.png","2x":Je.g+"/hyperscape-megacommerce/subscriptions/1-gift-2x.png","4x":Je.g+"/hyperscape-megacommerce/subscriptions/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}:function(e){return e>=100?{"1x":P.a+"/100-gifts-1x.png","2x":P.a+"/100-gifts-2x.png","4x":P.a+"/100-gifts-4x.png"}:e>=50?{"1x":P.a+"/50-gifts-1x.png","2x":P.a+"/50-gifts-2x.png","4x":P.a+"/50-gifts-4x.png"}:e>=20?{"1x":P.a+"/20-gifts-1x.png","2x":P.a+"/20-gifts-2x.png","4x":P.a+"/20-gifts-4x.png"}:e>=10?{"1x":P.a+"/10-gifts-1x.png","2x":P.a+"/10-gifts-2x.png","4x":P.a+"/10-gifts-4x.png"}:e>=5?{"1x":P.a+"/5-gifts-1x.png","2x":P.a+"/5-gifts-2x.png","4x":P.a+"/5-gifts-4x.png"}:4===e?{"1x":P.a+"/4-gifts-1x.png","2x":P.a+"/4-gifts-2x.png","4x":P.a+"/4-gifts-4x.png"}:3===e?{"1x":P.a+"/3-gifts-1x.png","2x":P.a+"/3-gifts-2x.png","4x":P.a+"/3-gifts-4x.png"}:2===e?{"1x":P.a+"/2-gifts-1x.png","2x":P.a+"/2-gifts-2x.png","4x":P.a+"/2-gifts-4x.png"}:e>=1?{"1x":P.a+"/1-gift-1x.png","2x":P.a+"/1-gift-2x.png","4x":P.a+"/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}}(this.props.mysteryGiftCount),n=Object(Ce.b)(this.props.subscriptionProduct.gifting,this.props.mysteryGiftCount);return a.createElement(D.a,{className:"mystery-gift-bundle",margin:{bottom:2,x:1}},a.createElement("div",{onMouseEnter:this.handleHoverStart,onMouseLeave:this.handleHoverEnd},a.createElement(D.a,{position:j.n.Relative},a.createElement(Qe,{content:a.createElement(Q.a,{className:"mystery-gift-bundle__bg",alt:Object(B.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub at random.} other {Gift {mysteryGiftCount} Subs at random.}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle"),src:t["1x"],srcSet:t}),toggle:this.props.giftingAnonymously,toggledContent:a.createElement(Ke.a,{borderRadius:j.e.Medium},a.createElement(Q.a,{className:"mystery-gift-bundle__ghost-bg-overlay",alt:Object(B.d)("{mysteryGiftCount, plural, one {Anonymously Gift {mysteryGiftCount} Sub at random.} other {Anonymously Gift {mysteryGiftCount} Subs at random.}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle"),src:P.a+"/bg-ghost-purple.svg"}))})),a.createElement(D.a,{display:j.g.Flex,margin:{top:.5}},a.createElement(je.a,{fullWidth:!0,onClick:this.handleClick,purchase:Object(se.d)(n,this.props.mysteryGiftCount),targetBlank:!0},Object(B.d)("{mysteryGiftCount, plural, one {Gift {mysteryGiftCount} Sub} other {Gift {mysteryGiftCount} Subs}}",{mysteryGiftCount:this.props.mysteryGiftCount},"MysteryGiftBundle"))),(null==n?void 0:n.promotion)&&a.createElement(D.a,{display:j.g.Flex,justifyContent:j.l.Center},a.createElement(I.a,{decoration:I.c.Strikethrough,color:j.f.Alt2},Object(se.d)(n,this.props.mysteryGiftCount,!0)))))},t}(a.Component),Xe=(n("yLMg"),"cg_sku_presentment_part2");var $e=Object(A.b)((function(e){return{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect,subscriptionProducts:e.subscriptionProducts}}))((function(e){var t=Object(a.useState)(e.subscriptionProducts[Me[e.tier]]),n=t[0],i=t[1],r=Object(a.useCallback)((function(e){i(e)}),[]),o=Object(B.d)("Gift Anonymously","CommunityGiftBundleSelection"),s=n.tier||"1000",c=qe[s]||Ue,l=function(e){var t=Ge[e];if(C.b.get(Xe,!1)&&"1000"===e){var n=C.q.experiments.getAndTrackAssignment(z.c.CommunityGiftingSKUPresentmentPart2);if(null!==n)return ze[n]}return t}(s);return a.createElement(D.a,{margin:{x:2,top:2}},e.onBack&&a.createElement(D.a,{className:"community-gift-bundle-selection__back",margin:{bottom:1}},a.createElement(je.a,{type:je.d.Text,icon:J.a.AngleLeft,onClick:e.onBack},a.createElement(I.a,null,Object(B.d)("Back","CommunityGiftBundleSelection")))),a.createElement(D.a,{display:j.g.Flex,justifyContent:j.l.Between,margin:{bottom:1}},a.createElement(I.a,{bold:!0,fontSize:j.j.Size4},Object(B.d)("Gift to the Community","CommunityGiftBundleSelection")),a.createElement(Re.a,{onClick:e.onSingleGiftSelect},a.createElement(I.a,null,Object(B.d)("Gift to a Specific Viewer","CommunityGiftBundleSelection")))),a.createElement(Fe,{handleSubMenuAction:e.handleSubMenuAction,onTierSelect:r,subscriptionProducts:e.subscriptionProducts,tier:e.tier},a.createElement(D.a,{className:"community-gift-bundle-selection__bundles"},a.createElement(D.a,{padding:1},a.createElement(L.a,{selectedProduct:n,allSubProducts:e.subscriptionProducts,simpleMessaging:!0,handleSubMenuAction:e.handleSubMenuAction},a.createElement(Be.a,{checked:e.giftingAnonymously,label:o,onChange:e.onAnonymousGiftingSelect}))),Object(Ie.a)(n)&&a.createElement(D.a,{margin:{x:1,y:2}},a.createElement(xe,{product:n,displayQuantityLimits:!0})),a.createElement(D.a,{display:j.g.Flex,flexWrap:j.i.Wrap},l.map((function(t){return a.createElement(Ze,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,key:"MysteryGiftBundle"+t,mysteryGiftCount:t,subscriptionProduct:n})}))),a.createElement(D.a,{fullWidth:!0,margin:{x:1}},a.createElement(Ve,{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,limit:c,subscriptionProduct:n})))))})),et=n("8Ad5"),tt=n("H/lO"),nt=n("NZDK"),it=n("9kXc"),rt=function(){return a.createElement(D.a,{padding:2},a.createElement(M.a,{width:50,height:10}),a.createElement(D.a,{padding:{top:2}},a.createElement(M.a,{width:150,height:25})),a.createElement(D.a,{padding:{top:2}},a.createElement(M.a,{width:140,height:12})),a.createElement(D.a,{display:j.g.Flex,flexDirection:j.h.Column,padding:{y:1}},a.createElement(M.a,{lineCount:2}),a.createElement(M.a,{lineCount:1})),a.createElement(M.a,{lineCount:2}),a.createElement(M.a,{width:70,height:15}),a.createElement(D.a,{display:j.g.Flex,padding:{y:1}},a.createElement(M.a,{width:60,height:60}),a.createElement(M.a,{width:60,height:60}),a.createElement(M.a,{width:60,height:60}),a.createElement(M.a,{width:60,height:60})),a.createElement(M.a,{width:140,height:12}),a.createElement(D.a,{display:j.g.Flex,alignItems:j.b.Center,justifyContent:j.l.End,fullWidth:!0,padding:{top:3}},a.createElement(M.a,{lineCount:1}),a.createElement(D.a,{display:j.g.Flex,padding:{y:1}},a.createElement(M.a,{width:60,height:60}),a.createElement(M.a,{width:60,height:60}),a.createElement(M.a,{width:60,height:60}),a.createElement(M.a,{width:60,height:60}))))},at=n("N3I0"),ot=n("k91D"),st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.data;return e&&!e.loading&&this.props.recipientLogin&&e.user&&e.user.self&&!e.user.self.canGift?a.createElement(D.a,{margin:{top:1}},a.createElement(I.a,{italic:!0,color:j.f.Alt2,"data-test-selector":"gift-eligibility-message-selector"},Object(B.d)("Sorry, a gift subscription to this channel is not available for this user.","GiftRecipientIneligibleMessage"))):null},t}(a.Component),ct=Object(s.d)(Object(f.withLatencyTracking)("GiftRecipientIneligibleMessage"),Object(y.a)(ot,{options:function(e){return{variables:{recipientLogin:e.recipientLogin,subProductId:e.subProductId}}},skip:function(e){return!e.recipientLogin||!e.subProductId}}))(st),lt=n("GIun"),ut=n("XQbB"),dt=n("i4Ys"),pt=n("uXHW"),mt=n("L/cU"),ft=n("fPaz"),ht=n("AFv4"),gt=(n("yeor"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUserClick=function(e){for(var n=e.target;n.parentElement&&!n.dataset.user_id;)n=n.parentElement;n.dataset.user_id&&n.dataset.user_login?t.props.onUserSelected({id:n.dataset.user_id||"",login:n.dataset.user_login||"",name:n.dataset.user_name||n.dataset.user_login||"",thumbnailAltText:n.dataset.user_thumbnail_alt||"",thumbnail:n.dataset.user_thumbnail||""}):t.props.onUserSelected(null)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e;return e=this.props.isWaiting?a.createElement(D.a,{fullHeight:!0},a.createElement(ut.a,{fillContent:!0})):this.props.hasInput?this.props.isErrored?this.getErrorMessage():this.props.userResults&&this.props.userResults.totalHits>0?this.getUserResultContent():this.getNoResultsMessage():a.createElement(D.a,{margin:1},a.createElement(I.a,{color:j.f.Alt2},Object(B.d)("Start typing to see a list of suggestions here.","GiftRecipientSearchResult"))),a.createElement(D.a,{className:"gift-recipient-search-result-view"},a.createElement(F.b,{suppressScrollX:!0},a.createElement(D.a,{fullWidth:!0},e,a.createElement(F.a,{enabled:!this.props.isWaiting&&this.props.hasInput,loadMore:this.props.loadMore}))))},t.prototype.getErrorMessage=function(){return a.createElement(D.a,{fullWidth:!0,textAlign:j.p.Center,justifyContent:j.l.Center},a.createElement(I.a,null,Object(B.d)("Something went wrong","GiftRecipientSearchResult")))},t.prototype.getUserResultContent=function(){var e=this;return this.props.userResults?this.props.userResults.results.map((function(t){var n=Object(O.a)(t.login||"",t.name||"");return a.createElement(lt.a,{key:"git-recipient-result__"+t.id},a.createElement(dt.a,{tabIndex:-1,"data-ts_selectable":!0,"data-tt_content":!0,key:"git-recipient-result__"+t.id,"data-user_id":t.id,"data-user_login":t.login,"data-user_name":t.name,"data-user_thumbnail":t.thumbnail,"data-user_thumbnail_alt":t.thumbnailAltText,onClick:e.onUserClick,"data-test-selector":"subscribe-button__gift_search_result",selected:!!e.props.selectedUser&&(""!==e.props.selectedUser.login&&e.props.selectedUser.login===t.login)},a.createElement(D.a,{padding:.5},a.createElement(pt.a,{row:!0},a.createElement(mt.a,{alt:t.thumbnailAltText,src:t.thumbnail?t.thumbnail:"",size:mt.b.Size3,aspect:ft.c.Aspect1x1,borderRadius:j.e.Rounded}),a.createElement(ht.a,{overflow:j.m.Hidden},a.createElement(ce.a,{padding:{x:1}},a.createElement(I.a,{type:I.e.H5,ellipsis:!0},n)))))))})):a.createElement(M.a,null)},t.prototype.getNoResultsMessage=function(){return a.createElement(D.a,{margin:1},a.createElement(I.a,{color:j.f.Alt2},Object(B.d)("No Results","GiftRecipientSearchResult")))},t}(a.Component));var bt=Object(s.d)(Object(A.b)((function(e){return{channelId:e.channelId||""}})),Object(f.withLatencyTracking)("GiftRecipientSearchResultPanel"))(gt),yt=n("i0le");var vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(yt.a,{formattedDisplayName:Object(O.a)(this.props.channel.login,this.props.channel.displayName),gifterBadges:this.props.gifterBadges,giftingAnonymously:this.props.giftingAnonymously,giftsSentCount:this.props.giftCount,hidesGiftCount:this.props.hidesGiftCount,selectedGiftAmount:this.props.selectedGiftAmount||0})},t}(a.Component),kt=Object(A.b)((function(e){return{channel:e.channel,gifterBadges:e.gifterBadges,giftingAnonymously:e.giftingAnonymously,giftCount:e.subscriptionGiftCount,hidesGiftCount:e.hidesGiftCount}}))(vt),St=n("JMwM"),Ct=n("j8/4"),Et=n("ygYM"),Ot=(n("lTOj"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedSubProduct:t.props.subscriptionProducts[Me[t.props.tier]],showUserList:!0,numGiftedMonths:1,recipientSelected:!1},t.handleGiftCheckoutAction=function(){var e=t.props.selectedUser;e&&e.login&&(B.n.set(m.a.SUB_CHECKOUT__PRODUCT_KEY,t.state.selectedSubProduct.name),B.n.set(m.a.SUB_CHECKOUT__RECIPIENT_KEY,e.login),B.n.set(m.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,t.props.giftingAnonymously||!1),B.n.set(m.a.SUB_CHECKOUT__MULTIMONTH_GIFT_KEY,t.state.selectedSubProduct.tier===R.a.Tier1?t.state.numGiftedMonths:"")),t.props.handleSubMenuAction({action:Y.a.BuyGiftSub,checkoutButtonTier:t.state.selectedSubProduct.tier,giftRecipient:t.props.selectedUser?t.props.selectedUser.login:null,multiMonthGiftAmount:t.state.selectedSubProduct.tier===R.a.Tier1?t.state.numGiftedMonths:void 0,isAnonymous:t.props.giftingAnonymously})},t.toggleHostSearch=function(e){t.searchRef&&t.searchRef.toggle(e)},t.toggleRecipientSelected=function(e){t.setState({recipientSelected:e}),t.searchRef&&t.searchRef.setValue("")},t.onUserSelect=function(e){t.toggleHostSearch(!1),t.toggleRecipientSelected(!0),t.props.onUserSelected(e)},t.onTierSelect=function(e){t.setState({selectedSubProduct:e})},t.onGiftMonthChange=function(e){e&&(t.props.handleSubMenuAction({action:Y.a.SelectedGiftMonths,checkoutButtonTier:t.state.selectedSubProduct.tier,giftRecipient:t.props.selectedUser?t.props.selectedUser.login:null,isAnonymous:t.props.giftingAnonymously,isSingleMonth:1===e,multiMonthGiftAmount:e}),t.setState({numGiftedMonths:e}))},t.handleChange=function(e){t.toggleHostSearch(!0),t.props.onChange(e)},t.setSearchRef=function(e){t.searchRef=e},t.changeRecipientSelected=function(){t.toggleRecipientSelected(!1),t.props.onUserSelected(null)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t,n;if(!this.state.selectedSubProduct)return a.createElement(M.a,null);var i=Object(B.d)("Gift Anonymously","GiftRecipientSearch"),r=this.state.selectedSubProduct.tier===R.a.Tier1,o=this.getGiftProduct(this.state.selectedSubProduct,this.state.numGiftedMonths),s=Object(ae.b)(o),c=s.discountPercent,l=s.price;return a.createElement(D.a,{flexDirection:j.h.Column,display:j.g.Flex,className:"subscription-gift-recipient-search",padding:2,justifyContent:j.l.Between},a.createElement(D.a,null,a.createElement(D.a,{display:j.g.Flex,justifyContent:j.l.Between,margin:{bottom:1}},a.createElement(D.a,{className:"subscription-gift-recipient-search__back-button"},a.createElement(je.a,{"data-a-target":"subscribe-back-button","data-test-selector":"gift-recipient-search-back-button",icon:J.a.AngleLeft,onClick:this.props.onBack,type:je.d.Text},a.createElement(D.a,{alignItems:j.b.Center,display:j.g.InlineFlex},a.createElement(I.a,null,Object(B.d)("Back","GiftRecipientSearch")))))),a.createElement(D.a,{display:j.g.Flex,flexDirection:j.h.Row,justifyContent:j.l.Between,alignItems:j.b.Center,margin:{y:1},flexGrow:1},a.createElement(I.a,{bold:!0,fontSize:j.j.Size4},Object(B.d)("Choose a Gift Recipient","GiftRecipientSearch")),a.createElement(Be.a,{checked:this.props.giftingAnonymously,label:i,onChange:this.props.onAnonymousGiftingSelect})),a.createElement(D.a,{position:j.n.Relative,margin:{bottom:2},fullWidth:!0},this.state.recipientSelected&&this.props.selectedUser?a.createElement(D.a,{display:j.g.Flex,flexDirection:j.h.Row,justifyContent:j.l.Start,alignItems:j.b.Center},a.createElement(pt.a,{row:!0},a.createElement(mt.a,{alt:(null===(e=this.props.selectedUser)||void 0===e?void 0:e.thumbnailAltText)||"",src:(null===(t=this.props.selectedUser)||void 0===t?void 0:t.thumbnail)?null===(n=this.props.selectedUser)||void 0===n?void 0:n.thumbnail:"",size:mt.b.Size3,aspect:ft.c.Aspect1x1,borderRadius:j.e.Rounded}),a.createElement(ht.a,{overflow:j.m.Hidden},a.createElement(ce.a,{padding:{x:1}},a.createElement(I.a,{bold:!0,type:I.e.Span},this.getFormattedDisplayName())))),a.createElement(je.a,{type:je.d.Text,onClick:this.changeRecipientSelected},Object(B.d)("Change Recipient","GiftRecipientSearch"))):a.createElement(at.a,{"data-test-selector":"gift-recipient-search-input-selector",onChange:this.handleChange,showDropdown:this.state.showUserList,enableMouseEvents:!0,ref:this.setSearchRef,isErrored:this.props.isErrored,balloonProps:{direction:Et.b.Bottom,size:Et.c.Auto,show:this.state.showUserList},placeholder:Object(B.d)("Search for a Twitch ID","GiftRecipientSearch")},a.createElement(bt,{giftingAnonymously:this.props.giftingAnonymously,handleSubMenuAction:this.props.handleSubMenuAction,hasInput:this.props.hasInput,isErrored:this.props.isErrored,isWaiting:this.props.isWaiting,loadMore:this.props.loadMore,onKeyDown:this.props.onKeyDown,selectedProduct:this.state.selectedSubProduct,userResults:this.props.userResults,onUserSelected:this.onUserSelect,selectedUser:this.props.selectedUser}))),a.createElement(Fe,{handleSubMenuAction:this.props.handleSubMenuAction,onTierSelect:this.onTierSelect,subscriptionProducts:this.props.subscriptionProducts,tier:this.props.tier},a.createElement(a.Fragment,null,a.createElement(D.a,{padding:1},a.createElement(L.a,{"data-test-selector":"gift-recipient-search-subheading-selector",allSubProducts:this.props.subscriptionProducts,selectedProduct:this.state.selectedSubProduct,simpleMessaging:!0,handleSubMenuAction:this.props.handleSubMenuAction})),a.createElement(xe,{product:this.state.selectedSubProduct}),a.createElement(D.a,{display:j.g.Flex,fullWidth:!0,justifyContent:j.l.Center,padding:{top:1},position:j.n.Relative},a.createElement(D.a,{position:j.n.Relative,fullWidth:!0},r&&a.createElement(Ct.a,{subscriptionProduct:this.state.selectedSubProduct,onGiftMonthChange:this.onGiftMonthChange,selectedMonth:this.state.numGiftedMonths,stretch:!0,displayDiscount:!0})))))),a.createElement(D.a,null,a.createElement(D.a,{display:j.g.Flex,alignItems:j.b.Center,justifyContent:j.l.End,fullWidth:!0,margin:{top:1}},a.createElement(ce.a,{margin:{x:1}},a.createElement(I.a,{bold:!0,type:I.e.Span},this.getFormattedDisplayName())),this.getBuyGiftButton(),c&&Object(ae.e)(o)&&a.createElement(D.a,{margin:{left:.5}},a.createElement(I.a,{decoration:I.c.Strikethrough,color:j.f.Alt2},l))),a.createElement(ct,{subProductId:this.state.selectedSubProduct.id,recipientLogin:this.props.selectedUser?this.props.selectedUser.login:null})),a.createElement(D.a,{margin:{bottom:2,x:2}},a.createElement(kt,{selectedGiftAmount:this.state.numGiftedMonths})))},t.prototype.getBuyGiftButton=function(){var e=Object(se.e)(this.state.selectedSubProduct),t=this.getGiftProduct(this.state.selectedSubProduct,this.state.numGiftedMonths),n=Object(se.d)(t)||e;return a.createElement(St.a,{checkoutURL:this.state.selectedSubProduct.url,giftingAnonymously:this.props.giftingAnonymously,giftRecipient:this.props.selectedUser?this.props.selectedUser.login:null,onClick:this.handleGiftCheckoutAction,productName:this.state.selectedSubProduct.name,subProductId:this.state.selectedSubProduct.id,purchase:n})},t.prototype.getFormattedDisplayName=function(){return this.props.selectedUser?Object(O.a)(this.props.selectedUser.login,this.props.selectedUser.name):""},t.prototype.getGiftProduct=function(e,t){var n=Object(Ce.d)(e);return n?Object(Ce.e)(t,n):void 0},t}(a.Component)),Pt=n("Ym45"),Nt=50,jt=function(e){function t(t){var n=e.call(this,t)||this;return n.onUserSelected=function(e){n.setState({selectedUser:e}),n.props.data.refetch({channelID:n.props.channelID||"",giftRecipientLogin:(null==e?void 0:e.login)||""})},n.onChange=function(e){n.inputTimer&&(clearTimeout(n.inputTimer),n.inputTimer=0),e?(n.setState({isWaiting:!0}),n.inputTimer=setTimeout((function(){return n.doSearch(e)}),Nt)):n.setState(n.getEmptyState())},n.loadMore=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e,t,n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:if(this.state.queryID||!0===this.state.exhaustedHits)return[2];e=this.state.currentPage+1,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.searchClient.queryForType(tt.a.Users,this.state.term,"",{page:e})];case 2:return t=i.sent(),[3,4];case 3:return i.sent(),this.setState(Object(r.__assign)(Object(r.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0})),[2];case 4:return t?(n=Object(it.a)({searchResults:t,append:e>0,currentUserResults:this.state.currentUserResults}),this.setState({currentUserResults:n.currentUserResults,term:this.state.term,hasInput:!0,isWaiting:!1,currentPage:e,exhaustedHits:n.exhaustedHits}),[2]):(this.setState(Object(r.__assign)(Object(r.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0})),[2])}}))}))},n.onKeyDown=function(e){n.state.term&&(e.keyCode===et.a.Esc?n.setState({hasInput:!1}):e.keyCode===et.a.Up?n.focusNext(-1):e.keyCode===et.a.Down&&n.focusNext(1))},n.state=n.getEmptyState(),n.searchClient=new nt.a({appId:B.a.algoliaApplicationID,apiKey:B.a.algoliaAPIKey,apolloClient:B.p.apollo.client,logger:B.k,config:B.a,stats:B.p.stats}),n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t;if(this.props.data&&this.props.data.loading&&!this.props.data.user)return a.createElement(rt,null);if(this.props.data.error)return a.createElement(D.a,{padding:2},a.createElement(b.PageError,null));if(null===(e=this.props.data.user)||void 0===e?void 0:e.subscriptionProducts){var n=null===(t=this.props.data.user)||void 0===t?void 0:t.subscriptionProducts.filter((function(e){return null!==e}));return a.createElement(Ot,{giftingAnonymously:this.props.giftingAnonymously,hasInput:this.state.hasInput,isErrored:this.state.isErrored,isWaiting:this.state.isWaiting,handleSubMenuAction:this.props.handleSubMenuAction,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,onChange:this.onChange,onKeyDown:this.onKeyDown,loadMore:this.loadMore,subscriptionProducts:n,userResults:this.state.currentUserResults,channelID:this.props.channelID,tier:this.props.tier,selectedUser:this.state.selectedUser,onUserSelected:this.onUserSelected})}return null},t.prototype.getEmptyState=function(){return{currentUserResults:{totalHits:0,results:[]},term:"",hasInput:!1,isErrored:!1,queryID:"",isWaiting:!1,currentPage:-1,focusSelectable:!1,exhaustedHits:!1,selectedUserSubscriptionProducts:null,selectedUser:null}},t.prototype.doSearch=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,a,o;return Object(r.__generator)(this,(function(s){switch(s.label){case 0:this.inputTimer=0,t=-1,n=k.b(),i=document.activeElement&&"INPUT"===document.activeElement.tagName,this.setState({queryID:n,focusSelectable:!i&&!!this.state.currentFocus}),s.label=1;case 1:return s.trys.push([1,3,,4]),t=0,[4,this.searchClient.queryForType(tt.a.Users,e,n)];case 2:return a=s.sent(),[3,4];case 3:return s.sent(),this.setState(Object(r.__assign)(Object(r.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0,term:e})),[2];case 4:return a?this.state.queryID!==a.id?[2]:(o=Object(it.a)({searchResults:a,append:!1}),this.setState((function(n){return Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},n),o),{queryID:"",term:e,hasInput:!0,isWaiting:!1,currentPage:t})})),[2]):(this.setState(Object(r.__assign)(Object(r.__assign)({},this.getEmptyState()),{isErrored:!0,hasInput:!0,term:e})),[2])}}))}))},t.prototype.focusNext=function(e){var t,n=document.querySelectorAll("[data-ts_selectable=true]"),i=document.activeElement,r=Array.prototype.indexOf.call(n,i);if((t=r<0?e>0?0:n.length-1:r+e)<0&&(t=0),!(t>=n.length)){var a=n.item(t);a.focus(),a.tabIndex=0,this.setState((function(e){var t=e.currentFocus;return t&&(t.tabIndex=-1),{currentFocus:a}}))}},t=Object(r.__decorate)([Object(f.withLatencyTracking)("GiftRecipientSearch")],t)}(a.Component),Dt=Object(s.d)(Object(y.a)(Pt,{options:function(e){return{fetchPolicy:"cache-and-network",variables:{channelID:e.channelID||"",withStandardGifting:!0}}}}))(jt);var Tt,wt,It=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(Dt,{giftingAnonymously:this.props.giftingAnonymously,handleSubMenuAction:this.props.handleSubMenuAction,onAnonymousGiftingSelect:this.props.onAnonymousGiftingSelect,onBack:this.props.onBack,subscriptionProducts:this.props.subscriptionProducts,channelID:this.props.channel.id,tier:this.props.tier})},t}(a.Component),xt=Object(A.b)((function(e){return{giftingAnonymously:e.giftingAnonymously,handleSubMenuAction:e.handleSubMenuAction,onAnonymousGiftingSelect:e.onAnonymousGiftingSelect,subscriptionProducts:e.subscriptionProducts,channel:e.channel}}))(It);!function(e){e[e.Upgrade=0]="Upgrade",e[e.Continue=1]="Continue",e[e.None=2]="None"}(Tt||(Tt={})),function(e){e.AllPaidTiers="allpaidtiers",e.ContinueSub="continuesub",e.UpgradeSub="upgradesub"}(wt||(wt={}));var At,Mt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderButton=function(){var e=t.props,n=e.upsellProduct,i=e.purchaseButtonType;if(!n)return null;var r=Object(Ce.i)(n),o=null==r?void 0:r[0],s=Object(se.d)(o)||Object(se.e)(n);switch(i){case Tt.Continue:return a.createElement(D.a,{key:"continuebutton",margin:{right:1,bottom:1}},a.createElement(je.a,{key:n.id,"data-test-selector":wt.ContinueSub,disabled:t.props.disabled,icon:J.a.Star,onClick:function(){return t.props.onCheckoutClick(null==o?void 0:o.id,r)},purchase:s,title:t.props.disabledMessage},Object(B.d)("Continue Sub","CurrentSubscriptionButtonPanel")));case Tt.Upgrade:var c=Object(Pe.b)(n.tier);return a.createElement(D.a,{key:"upgradebutton",margin:{right:1,bottom:1}},a.createElement(je.a,{key:n.id,"data-test-selector":wt.UpgradeSub,disabled:t.props.disabled,icon:J.a.Star,onClick:function(){return t.props.onCheckoutClick(null==o?void 0:o.id,r)},purchase:s,title:t.props.disabledMessage},c?Object(B.d)("Upgrade to Tier {tierNumber}",{tierNumber:c},"CurrentSubscriptionButtonPanel"):Object(B.d)("Upgrade Sub","CurrentSubscriptionButtonPanel")));default:return null}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(D.a,{display:j.g.Flex,flexDirection:j.h.Row,justifyContent:j.l.End,flexWrap:j.i.Wrap},a.createElement(D.a,{margin:{right:1,bottom:1}},a.createElement(je.a,{"data-test-selector":wt.AllPaidTiers,disabled:this.props.disabled,onClick:this.props.onAllPaidTiersSelect,title:this.props.disabledMessage,type:je.d.Secondary},Object(B.d)("All Paid Tiers","CurrentSubscriptionButtonPanel"))),this.renderButton())},t}(a.Component);!function(e){e.Header="header"}(At||(At={}));var _t=function(e){var t;return t=e.isPrimeSubscription?Object(B.d)("Prime Subscription","CurrentSubscriptionHeaderModal"):e.isGift?e.tier?Object(B.d)("Tier {tierNumber} Gifted Subscription",{tierNumber:e.tier},"CurrentSubscriptionHeaderModal"):Object(B.d)("Gifted Subscription","CurrentSubscriptionHeaderModal"):e.tier?Object(B.d)("Tier {tierNumber} Subscription",{tierNumber:e.tier},"CurrentSubscriptionHeaderModal"):Object(B.d)("Your Subscription","CurrentSubscriptionHeaderModal"),a.createElement(D.a,{display:j.g.Flex,margin:{bottom:1},alignItems:j.b.Stretch},a.createElement(N.a,{className:H("current-subscription__heading-"+(e.isPrimeSubscription?"prime":"tier")),display:j.g.Flex,justifyContent:j.l.Center},a.createElement($.a,{asset:e.isPrimeSubscription?J.a.CrownFilled:J.a.Star,type:e.isPrimeSubscription?$.b.Brand:void 0,height:24,width:24})),a.createElement(ce.a,{margin:{left:.5}},a.createElement(I.a,{bold:!0,"data-test-selector":At.Header,type:I.e.H4},t)))},Ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(e,n){t.props.upsellProduct&&(C.o.set(m.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:Y.a.BuyPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier,offerID:e,multiMonthOffers:n}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(N.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:j.e.Medium},a.createElement(D.a,{margin:{top:1},display:j.g.Flex,flexWrap:j.i.Wrap,flexDirection:j.h.Row,alignItems:j.b.Center},a.createElement(_t,{tier:this.props.tier}),a.createElement(D.a,{margin:{bottom:1},flexGrow:0},this.props.subEndDate?Object(B.d)("<x:strong>Continue your Subscription</x:strong>                  to keep your benefits after your Subscription ends!                  You won't be charged until {date}.",{date:Object(B.c)(this.props.subEndDate,{month:"short",day:"numeric"}),"x:strong":function(e){return a.createElement(I.a,{bold:!0,type:I.e.Span},e)}},"CurrentDNRSubscription"):Object(B.d)("<x:strong>Continue your Subscription</x:strong>                 to keep your benefits after your Subscription ends!",{"x:strong":function(e){return a.createElement(I.a,{bold:!0,type:I.e.Span},e)}},"CurrentDNRSubscription")),a.createElement(D.a,{margin:{bottom:1},flexGrow:1,textAlign:j.p.Right},a.createElement(Mt,{onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:Tt.Continue,onCheckoutClick:this.onCheckoutClick,upsellProduct:this.props.upsellProduct}))))},t}(a.Component),Rt=n("2xye");var Bt;n("OkDP");!function(e){e.UpsellString="UpsellString",e.HelpButton="HelpButton"}(Bt||(Bt={}));var Lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.learnMoreClick=function(){!function(e){Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return B.o.track(Rt.SpadeEventType.BadgeModifierLearnMoreClick,{time:Date.now(),user_id:e.user_id}),[2]}))}))}({user_id:t.props.currentUserID||""})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(N.a,{borderRadius:j.e.Large,className:"badge-modifier--banner__body",display:j.g.Flex,flexDirection:j.h.Column,margin:{top:1}},a.createElement(D.a,{textAlign:j.p.Left,justifyContent:j.l.Start,padding:{left:2,y:2},display:j.g.Flex},a.createElement(I.a,{"data-test-selector":Bt.UpsellString,type:I.e.P,fontSize:j.j.Size6},Object(B.d)("Tier 2 and Tier 3 subscribers can now show off their support in new ways!","BadgeModifiersBanner")),a.createElement(D.a,{margin:{left:2,right:2,top:1}},a.createElement(je.a,{"data-test-selector":Bt.HelpButton,onClick:this.learnMoreClick,linkTo:"https://blog.twitch.tv/2020/06/30/more-to-love-introducing-new-benefits-for-tier-2-and-tier-3-subscriptions",targetBlank:!0,fullWidth:!0,overlay:!0},Object(B.d)("Learn More","BadgeModifiersBanner")))))},t}(a.Component),Ut=n("HGFl");function Gt(e){return Object(Pe.b)(e.tier)?Object(C.d)("Your new Tier {tier} Paid Subscription will begin on {pendingSubStartDate}",{tier:Object(Pe.b)(e.tier)||1,pendingSubStartDate:Object(C.c)(Object(Ut.e)(e.startsAt.toString()),{month:"short",day:"numeric"})},"CurrentSubscription"):Object(C.d)("Your new Paid Subscription will begin on {pendingSubStartDate}",{pendingSubStartDate:Object(C.c)(Object(Ut.e)(e.startsAt.toString()),{month:"short",day:"numeric"})},"CurrentSubscription")}var qt,zt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(e,n){t.props.upsellProduct&&(C.o.set(m.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:Y.a.BuyGiftToPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier,offerID:e,multiMonthOffers:n}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.gifterDisplayName,n=e.pendingSubscription,i=e.subEndDate,r=e.tier,o=e.userID;return a.createElement(N.a,{padding:{x:2,y:1},border:!0,borderRadius:j.e.Medium},r&&this.props.shouldShowBadgeFlairUpsells&&a.createElement(Lt,{currentUserID:o||""}),a.createElement(D.a,{margin:{top:1},display:j.g.Flex,flexWrap:j.i.Wrap,flexDirection:j.h.Row,alignItems:j.b.Center},a.createElement(_t,{isGift:!0,tier:this.props.tier}),a.createElement(D.a,{margin:{bottom:1},flexGrow:0},i?t&&Object(B.d)("Gifted from <x:strong>{gifter}</x:strong> - Subscription ends on {date} ({daysRemaining})",{gifter:t,date:Object(B.c)(i,{month:"long",day:"numeric",year:"numeric"}),"x:strong":function(e){return a.createElement(I.a,{bold:!0,type:I.e.Span},e)},daysRemaining:Object(B.i)(i,{units:"day",style:"best fit"})},"CurrentGiftSubscription"):t&&Object(B.d)("Gifted from <x:strong>{gifter}</x:strong>",{gifter:t,"x:strong":function(e){return a.createElement(I.a,{bold:!0,type:I.e.Span},e)}},"CurrentGiftSubscription"),a.createElement(D.a,{margin:t?{top:1}:{}},n?Gt(n):i&&Object(B.d)("<x:strong>Continue your Subscription</x:strong> to keep your benefits after your Subscription ends! You won't be charged until {date}.",{date:Object(B.c)(i,{month:"short",day:"numeric"}),"x:strong":function(e){return a.createElement(I.a,{bold:!0,type:I.e.Span},e)}},"CurrentGiftSubscription"))),!n&&a.createElement(D.a,{margin:{bottom:1},textAlign:j.p.Right,fullWidth:!0},a.createElement(Mt,{onCheckoutClick:this.onCheckoutClick,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:i?Tt.Continue:Tt.None,upsellProduct:this.props.upsellProduct}))))},t}(a.Component),Ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(e,n){t.props.upsellProduct&&(C.o.set(m.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:Y.a.BuyPaidUpgrade,checkoutButtonTier:t.props.upsellProduct.tier,offerID:e,multiMonthOffers:n}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(N.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:j.e.Medium},this.props.tier&&this.props.shouldShowBadgeFlairUpsells&&a.createElement(Lt,{currentUserID:this.props.userID||""}),a.createElement(D.a,{margin:{top:1},display:j.g.Flex,flexWrap:j.i.Wrap,flexDirection:j.h.Row,alignItems:j.b.Center},a.createElement(_t,{tier:this.props.tier}),this.props.subEndDate&&this.props.upsellProduct&&a.createElement(D.a,{flexGrow:1,textAlign:j.p.Right},a.createElement(Mt,{disabled:this.props.disabled,disabledMessage:this.props.disabledMessage,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:Tt.Upgrade,onCheckoutClick:this.onCheckoutClick,upsellProduct:this.props.upsellProduct}))))},t}(a.Component),Vt=n("zNDD");n("eP7G");!function(e){e.PrimeSubRenewsMessage="primesubrenewsmessage"}(qt||(qt={}));var Wt,Yt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCheckoutClick=function(e,n){t.props.upsellProduct&&(C.o.set(m.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.upsellProduct.name),t.props.handleSubMenuAction({action:Y.a.BuyPrimeToPaid,checkoutButtonTier:t.props.upsellProduct.tier,offerID:e,multiMonthOffers:n}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.pendingSubscription,n=e.primeSubRenewalDate,i=e.subEndDate;return a.createElement(N.a,{padding:{left:2,right:1,y:1},border:!0,borderRadius:j.e.Medium},a.createElement(D.a,{margin:{top:1},display:j.g.Flex,flexWrap:j.i.Wrap,flexDirection:j.h.Row,alignItems:j.b.Center},a.createElement(D.a,{display:j.g.Flex,flexDirection:j.h.Column},a.createElement(_t,{isPrimeSubscription:!0}),a.createElement(D.a,{margin:{bottom:1},flexGrow:0},t?Gt(t):i&&Object(B.d)("<x:strong>Convert to a recurring Subscription</x:strong>                     to keep your benefits after your Prime Subscription ends!                     You won't be charged until {date}.",{date:Object(B.c)(i,{month:"short",day:"numeric"}),"x:strong":function(e){return a.createElement(I.a,{bold:!0,type:I.e.Span},e)}},"CurrentPrimeSubscription"))),!t&&a.createElement(D.a,{margin:{bottom:1},flexGrow:1,textAlign:j.p.Right},a.createElement(Mt,{onCheckoutClick:this.onCheckoutClick,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,purchaseButtonType:i?Tt.Continue:Tt.None,upsellProduct:this.props.upsellProduct}),n&&a.createElement(D.a,{margin:{right:1},className:"sub-modal-current-prime-subscription__prime-renewal-date"},a.createElement(I.a,{color:j.f.Alt2,"data-test-selector":qt.PrimeSubRenewsMessage},Object(B.d)("Your next Prime sub will be available {renewalDate}.",{renewalDate:Object(Vt.a)(n,{displayFormat:{month:"short",day:"numeric"}})},"SubModalCurrentPrimeSubscription"))))))},t}(a.Component);n("Wd44");!function(e){e[e.Prime=0]="Prime",e[e.Paid=1]="Paid",e[e.DNR=2]="DNR",e[e.Gift=3]="Gift"}(Wt||(Wt={}));var Qt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.getCurrentSubscription();return e?a.createElement(D.a,{margin:{x:2,top:2}},a.createElement(D.a,{margin:{bottom:1}},a.createElement(I.a,{bold:!0,type:I.e.H4},Object(B.d)("Your Subscription","CurrentSubscriptionComponent"))),e):null},t.prototype.getCurrentSubscription=function(){switch(this.props.subType){case Wt.Prime:return a.createElement(Yt,{key:"currentprimesubscription",handleSubMenuAction:this.props.handleSubMenuAction,subEndDate:this.props.subEndDate,upsellProduct:this.props.upsellProduct,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,pendingSubscription:this.props.pendingSubscription,primeSubRenewalDate:this.props.primeSubRenewalDate});case Wt.DNR:return a.createElement(Ft,{key:"currentdnrsubscription",handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subEndDate:this.props.subEndDate,tier:this.props.tier,upsellProduct:this.props.upsellProduct});case Wt.Gift:return a.createElement(zt,{key:"currentgiftsubscription",handleSubMenuAction:this.props.handleSubMenuAction,gifterDisplayName:this.props.gifterDisplayName,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,pendingSubscription:this.props.pendingSubscription,subEndDate:this.props.subEndDate,tier:this.props.tier,upsellProduct:this.props.upsellProduct,channelID:this.props.channelID,userID:this.props.userID,shouldShowBadgeFlairUpsells:this.props.shouldShowBadgeFlairUpsells});case Wt.Paid:var e=this.props.isExtended||this.props.platform===S.he.IOS,t=e?Object(B.d)("To edit this subscription, please go to your Subscription Manager on your iOS device.","CurrentSubscription"):void 0;return a.createElement(Ht,{key:"currentpaidsubscription",disabled:e,disabledMessage:t,handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subEndDate:this.props.subEndDate,tier:this.props.tier,upsellProduct:this.props.upsellProduct,channelID:this.props.channelID,userID:this.props.userID,shouldShowBadgeFlairUpsells:this.props.shouldShowBadgeFlairUpsells});default:return null}},t}(a.Component);var Kt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this.mapToComponentProps(),n=(null===(e=this.props.subscriptionBenefit)||void 0===e?void 0:e.pendingSubscription)||void 0;return a.createElement(Qt,Object(r.__assign)({pendingSubscription:n},t))},t.prototype.mapToComponentProps=function(){var e,t,n,i,r,a,o,s,c=Wt.Paid,l=null,u=!1;if(this.props.subscriptionBenefit){var d=this.props.subscriptionBenefit,p=this.props.subscriptionProducts.find((function(e){return e.tier===d.tier}));l=Object(Pe.b)(d.tier),a=d.endsAt?new Date(d.endsAt):void 0,s=d.platform,u=d.isExtended,(null===(e=d.gift)||void 0===e?void 0:e.isGift)?(c=Wt.Gift,r=null===(t=d.gift.gifter)||void 0===t?void 0:t.displayName,o=p):d.purchasedWithPrime?(c=Wt.Prime,o=p):d.isDNRd?(c=Wt.DNR,o=p,d.pendingSubscription&&(c=Wt.Paid,o=void 0)):o=this.props.subscriptionProducts.find((function(e){return e.tier>d.tier})),d.endsAt||d.renewsAt||(null===(n=d.gift)||void 0===n?void 0:n.isGift)||(c=Wt.Paid)}var m=this.props.creatorBadgeFlairSetting!==S.Cb.NONE&&this.props.subBadges.length>0;return{subEndDate:a,gifterDisplayName:r||void 0,handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,subType:c,primeSubRenewalDate:this.props.primeSubRenewalDate||void 0,tier:l||void 0,platform:s,upsellProduct:o,isExtended:u,channelID:this.props.channel.id,userID:null===(i=this.props.sessionUser)||void 0===i?void 0:i.id,shouldShowBadgeFlairUpsells:m}},t}(a.Component),Jt=Object(A.b)((function(e){return{subscriptionBenefit:e.subscriptionBenefit,handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts,primeSubRenewalDate:e.primeSubRenewalDate,channel:e.channel,sessionUser:e.sessionUser,creatorBadgeFlairSetting:e.creatorBadgeFlairSetting,subBadges:e.subBadges}}))(Kt),Zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(Ce.i)(this.props.subscriptionProducts[0]);return a.createElement(D.a,{className:"subbed-top-page",margin:{bottom:2}},Object(Ee.b)()&&e&&a.createElement(ke.a,{handleSubMenuAction:this.props.handleSubMenuAction,prioritizedOffers:e,product:this.props.subscriptionProducts[0]}),this.props.tier!==R.b.Custom&&a.createElement(a.Fragment,null,Object(q.g)(q.a)&&a.createElement(D.a,{margin:{top:1,left:1,right:2,bottom:1}},a.createElement(de.b,{context:de.a.SUB_MODAL})),a.createElement($e,{onSingleGiftSelect:this.props.onGiftSelect,tier:this.props.tier}),a.createElement(D.a,{margin:{x:2}},a.createElement(kt,null)),a.createElement(Jt,{onAllPaidTiersSelect:this.props.onAllPaidTiersSelect})),a.createElement(ge,null))},t}(a.Component);var Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(Zt,{handleSubMenuAction:this.props.handleSubMenuAction,onAllPaidTiersSelect:this.props.onAllPaidTiersSelect,onGiftSelect:this.props.onGiftSelect,subscriptionProducts:this.props.subscriptionProducts,tier:this.props.tier})},t}(a.Component),$t=Object(A.b)((function(e){return{handleSubMenuAction:e.handleSubMenuAction,subscriptionProducts:e.subscriptionProducts}}))(Xt);var en=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(Oe,{canPrimeSubscribe:this.props.canPrimeSubscribe,channelID:this.props.channelID,channelLogin:this.props.channelLogin,handleSubMenuAction:this.props.handleSubMenuAction,hasPrime:this.props.hasPrime,inPrimeRegion:this.props.inPrimeRegion,isNonStandardSub:this.props.isNonStandardSub,onGift:this.props.onGift,sessionUser:this.props.sessionUser,subscriptionProducts:this.props.subscriptionProducts,subBadges:this.props.subBadges,tenure:this.props.tenure})},t}(a.Component),tn=Object(A.b)((function(e){return{channelID:e.channel.id,handleSubMenuAction:e.handleSubMenuAction,hasPrime:e.hasPrime,inPrimeRegion:e.inPrimeRegion,isNonStandardSub:e.isNonStandardSub,sessionUser:e.sessionUser,subscriptionProducts:e.subscriptionProducts,subBadges:e.subBadges,tenure:e.tenure}}))(en),nn=n("V7AV");n("S2z6");var rn=function(e){function t(){var t,n=e.apply(this,arguments)||this;return n.state={channelLogin:n.props.channelLogin,currentPage:n.props.defaultPage?n.props.defaultPage:n.props.isSubscribed?nn.a.CurrentSubscription:nn.a.UnsubbedTop,tier:(null===(t=n.props.subscriptionBenefit)||void 0===t?void 0:t.tier)===R.b.Custom?R.b.Custom:R.b.Tier1},n.getSubModalPage=function(){switch(n.state.currentPage){case nn.a.UnsubbedTop:return a.createElement(tn,{canPrimeSubscribe:n.props.canPrimeSubscribe,channelLogin:n.props.channelLogin,onGift:n.onCommunityGiftSelect});case nn.a.CurrentSubscription:return a.createElement($t,{onAllPaidTiersSelect:n.onAllPaidTiersSelect,onGiftSelect:n.onGiftSelect,tier:n.state.tier});case nn.a.GiftSelect:return a.createElement(a.Fragment,null,a.createElement(xt,{onBack:n.onBack,tier:n.state.tier}));case nn.a.AllPaidTiers:return a.createElement(we,{channelLogin:n.props.channelLogin,onBack:n.onBack});case nn.a.CommunityGiftSelect:return a.createElement(a.Fragment,null,a.createElement($e,{onBack:n.onBack,onSingleGiftSelect:n.onGiftSelect,tier:n.state.tier}),a.createElement(D.a,{margin:{bottom:2,top:1,x:2}},a.createElement(kt,null)));default:return null}},n.onGiftSelect=function(){n.props.handleSubMenuAction({action:Y.a.ClickSingleGift}),n.setState({currentPage:nn.a.GiftSelect})},n.onCommunityGiftSelect=function(e){n.props.handleSubMenuAction({action:Y.a.ClickCommunityGift}),n.setState({currentPage:nn.a.CommunityGiftSelect,tier:e})},n.onAllPaidTiersSelect=function(){n.props.handleSubMenuAction({action:Y.a.ClickMoreSubOptions}),n.setState({currentPage:nn.a.AllPaidTiers})},n.onBack=function(){var e=n.props,t=e.isSubscribed,i=e.handleSubMenuAction;if(t)n.setState({currentPage:nn.a.CurrentSubscription});else switch(n.state.currentPage){case nn.a.GiftSelect:n.setState({currentPage:nn.a.CommunityGiftSelect});break;case nn.a.CommunityGiftSelect:default:n.setState({currentPage:nn.a.UnsubbedTop})}i({action:Y.a.ClickBack})},n}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.channelLogin===t.channelLogin?t:{channelLogin:e.channelLogin,currentPage:e.isSubscribed?nn.a.CurrentSubscription:nn.a.UnsubbedTop}},t.prototype.render=function(){return a.createElement(D.a,{className:"sub-modal-top-page__"+this.props.presentationContext,display:j.g.Flex,flexDirection:j.h.Column},this.props.presentationContext===h.a.Page?this.getSubModalPage():a.createElement(F.b,{autoHide:!1,suppressScrollX:!0},a.createElement(D.a,null,this.getSubModalPage())))},t}(a.Component),an=Object(A.b)((function(e){return{handleSubMenuAction:e.handleSubMenuAction,subscriptionBenefit:e.subscriptionBenefit,subscriptionProducts:e.subscriptionProducts}}))(rn),on=n("DQ0a"),sn=(n("O1pM"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkoutSessionID=Object(k.c)(),t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.data.loading&&!this.props.data.error||this.props.reportInteractivity()},t.prototype.componentDidUpdate=function(e){(e.data.loading&&!this.props.data.loading||this.props.data.error)&&this.props.reportInteractivity()},t.prototype.render=function(){return a.createElement(N.a,{className:"sub-modal","data-a-target":"sub-modal",background:j.d.Base,borderRadius:j.e.Medium,margin:{x:"auto"},overflow:j.m.Hidden},this.subModalContent(),this.props.presentationContext===h.a.Modal&&a.createElement(g.a,{closeOnBackdropClick:!0,closeOnPageNavigation:!0,displayInset:!0}))},t.prototype.subModalContent=function(){var e,t,n,i,r,o,s,c,l,u,d,p,m,f,h,g=this.props.data;if(g.error)return cn(Object(C.d)("Something went wrong. Try again later.","SubModal"));if(g.loading)return a.createElement(_,null);var b=g.user;if(!b)return cn(Object(C.d)("A user with that name does not exist.","SubModal"));if(!(null===(e=b.subscriptionProducts)||void 0===e?void 0:e[0]))return cn(Object(C.d)("This user cannot be subscribed to.","SubModal"));var y=g.badges,k=g.requestInfo,E=g.currentUser;return a.createElement(A.a,{canPrimeSubscribe:!!(null===(t=b.self)||void 0===t?void 0:t.canPrimeSubscribe),channel:{id:b.id||"",login:this.props.channelLogin,displayName:b.displayName},countryCode:this.props.countryCode,creatorBadgeFlairSetting:(null===(i=null===(n=b.channel)||void 0===n?void 0:n.creatorBadgeFlair)||void 0===i?void 0:i.setting)||S.Cb.NONE,extraSubProductNames:this.props.extraSubProductNames,founderBadgeAvailability:(null===(r=b.channel)||void 0===r?void 0:r.founderBadgeAvailability)||0,globalBadges:y,hasPrime:!!(null==E?void 0:E.hasPrime),hidesGiftCount:!!(null===(o=null==E?void 0:E.subscriptionSettings)||void 0===o?void 0:o.isGiftCountHidden),hostChannel:this.props.hostChannelID&&this.props.hostChannelLogin?{id:this.props.hostChannelID,login:this.props.hostChannelLogin,displayName:null}:void 0,isFounder:!!(null===(s=b.self)||void 0===s?void 0:s.isFounder),inPrimeRegion:!!k&&Object(v.a)(k.countryCode),modalSessionId:this.props.modalSessionId,checkoutSessionID:this.checkoutSessionID,primeSubRenewalDate:(null===(l=null===(c=b.self)||void 0===c?void 0:c.primeSubCreditBenefit)||void 0===l?void 0:l.renewalDate)||null,sessionUser:this.props.sessionUser,showLoginModal:this.props.showLoginModal,showSubscriptionCheckout:this.props.showSubscriptionCheckout,subBadges:b.broadcastBadges,subButtonCTA:this.props.subButtonCTA,subLocation:this.props.subLocation,subscriptionGiftCount:(null===(u=b.self)||void 0===u?void 0:u.subscriptionGiftCount)||0,subscriptionProducts:b.subscriptionProducts,subscriptionBenefit:(null===(d=b.self)||void 0===d?void 0:d.subscriptionBenefit)||null,streakTenure:(null===(p=b.self)||void 0===p?void 0:p.streakTenure)||null,tenure:(null===(m=b.self)||void 0===m?void 0:m.cumulativeTenure)||null},a.createElement(x,{bannerImageURL:b.bannerImageURL,channelDisplayName:b.displayName,channelLogin:this.props.channelLogin,profileImageURL:b.profileImageURL}),a.createElement(an,{canPrimeSubscribe:!!(null===(f=b.self)||void 0===f?void 0:f.canPrimeSubscribe),channelLogin:this.props.channelLogin,defaultPage:this.props.defaultPage,isSubscribed:!!(null===(h=b.self)||void 0===h?void 0:h.subscriptionBenefit),presentationContext:this.props.presentationContext}))},t}(a.Component));function cn(e){return a.createElement(D.a,{padding:2},a.createElement(b.PageError,{message:e}))}var ln=Object(s.d)(Object(y.a)(on,{options:function(e){return{fetchPolicy:"cache-and-network",variables:{login:e.channelLogin,withStandardGifting:!1}}}}))(sn);var un=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadedLatencyEvent=t.props.latencyTracking.registerCustomEvent({benchmark:500,group:u.a.Subscriptions,label:u.c.Loaded,start:u.d.Registration,key:u.b.SubscriptionModalLoaded}),t.reportInteractivity=function(){t.props.latencyTracking.reportInteractive(),t.props.latencyTracking.reportCustomEvent(t.loadedLatencyEvent)},t}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){var e,t;null===(t=(e=this.props).onClose)||void 0===t||t.call(e)},t.prototype.render=function(){return a.createElement(ln,{channelLogin:this.props.channelLogin,countryCode:this.props.countryCode,defaultPage:this.props.defaultPage,extraSubProductNames:this.props.extraSubProductNames,modalSessionId:this.props.modalSessionId,presentationContext:this.props.presentationContext||h.a.Modal,reportInteractivity:this.reportInteractivity,sessionUser:this.props.sessionUser,showLoginModal:this.props.showLoginModal,showSubscriptionCheckout:this.props.showSubscriptionCheckout,subLocation:this.props.subLocation,subButtonCTA:this.props.subButtonCTA,hostChannelID:this.props.hostChannelID,hostChannelLogin:this.props.hostChannelLogin})},t}(a.Component);var dn=Object(s.d)(Object(o.b)((function(e){return{sessionUser:Object(d.e)(e)}}),(function(e){return Object(s.b)({closeModal:l.d,showLoginModal:m.a.showLoginModalWithCheckoutDispatch(c.a.ChannelSubscriptionButton),showSubscriptionCheckout:p.b},e)})),Object(f.withLatencyTracking)("SubModal"))(un);n.d(t,"SubscribeModalContainer",(function(){return un})),n.d(t,"SubModal",(function(){return dn}))},hxuZ:function(e,t,n){},i0le:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i,r=n("mrSG"),a=n("TSYQ"),o=n("q1tI"),s=n("4rCz"),c=n("fQWD"),l=n("66/j"),u=n("sUnt"),d=n("+80q"),p=n("yymn"),m=n("hnjF"),f=n("Jsra"),h=n("Z2sP"),g=n("isUp");n("qyVS");!function(e){e.ProgressMessage="subgifterprogressmessage",e.PrivacyWarning="privacysettingwarning"}(i||(i={}));var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){if(0===this.props.gifterBadges.length)return null;if(this.props.giftingAnonymously)return null;var e=this.filterBadges(),t=e.nextBadge&&parseInt(e.nextBadge.version,10)||0;return o.createElement(u.a,null,this.getProgressionMessage(t),this.getNextBadgeProgress(e,t),this.getPrivacySettingWarning(e.baseBadge))},t.prototype.getProgressionMessage=function(e){var t=null;return t=0===this.props.giftsSentCount?Object(s.d)("Instantly unlock your first gifter badge by gifting at least 1 Sub!","SubGifterBadgeProgress"):0!==e&&1e3!==e?Object(s.d)("{giftCount, plural, one {You've given <x:bold>{giftCount} gift sub</x:bold> to {channelName}'s channel. Gift <x:bold>{remainingCount} more</x:bold> to unlock your next badge!} other {You've given <x:bold>{giftCount} gift subs</x:bold> to {channelName}'s channel. Gift <x:bold>{remainingCount} more</x:bold> to unlock your next badge!}}",{giftCount:this.props.giftsSentCount,channelName:this.props.formattedDisplayName,remainingCount:e-this.props.giftsSentCount,"x:bold":function(e){return o.createElement(d.a,{bold:!0,type:d.e.Span},e)}},"SubGifterBadgeProgress"):Object(s.d)("{giftCount, plural, one {You've given <x:bold>{giftCount} gift sub</x:bold> to {channelName}'s channel!} other {You've given <x:bold>{giftCount} gift subs</x:bold> to {channelName}'s channel!}}",{giftCount:this.props.giftsSentCount,channelName:this.props.formattedDisplayName,"x:bold":function(e){return o.createElement(d.a,{bold:!0,type:d.e.Span},e)}},"SubGifterBadgeProgress"),o.createElement(u.a,{padding:{x:2,top:2},textAlign:this.props.isLeftJustified?p.p.Left:p.p.Center},o.createElement(d.a,{"data-test-selector":i.ProgressMessage},t))},t.prototype.getNextBadgeProgress=function(e,t){var n=null;return null!==e.currentBadge&&null!==e.nextBadge&&e.theoreticalUnlockableBadges.length>=2?n=o.createElement(u.a,{className:"gifter-badge-progress__to-next",display:p.g.Flex,flexDirection:p.h.Row},this.getAllBadges(e.theoreticalUnlockableBadges)):null===e.currentBadge&&null!==e.nextBadge?n=o.createElement(u.a,{className:"gifter-badge-progress__only-next"},o.createElement(u.a,{display:p.g.Flex,fullWidth:!0,justifyContent:p.l.Between},this.badgeLayout(e.nextBadge))):null!==e.currentBadge&&null===e.nextBadge&&(n=o.createElement(u.a,{className:"gifter-badge-progress__only-current"},o.createElement(u.a,{display:p.g.Flex,fullWidth:!0,justifyContent:p.l.Between},this.badgeLayout(e.currentBadge)))),null===n?null:o.createElement(u.a,{display:p.g.Flex,padding:{x:2},justifyContent:this.props.isLeftJustified?p.l.Start:p.l.Center},n)},t.prototype.badgeLayout=function(e){return o.createElement(m.a,{zIndex:p.s.Above,key:e.setID+e.version},o.createElement(g.a,{badge:e}))},t.prototype.filterBadges=function(){var e,t={currentBadge:null,nextBadge:null},n=this.props.gifterBadges,i=this.props.giftsSentCount;t.theoreticalUnlockableBadges=[],0===i&&(i=1);for(var r=0,a=n;r<a.length;r++){var o=a[r];1===(u=Number(o.version))&&(t.baseBadge=o),u<=i?t.currentBadge=o:t.nextBadge||(t.nextBadge=o)}for(var s=Number(null===(e=t.currentBadge)||void 0===e?void 0:e.version),c=0,l=n;c<l.length;c++){var u;o=l[c];if((u=Number(o.version))>=s&&u<=i+this.props.selectedGiftAmount)t.theoreticalUnlockableBadges.push(o);else if(u>=s)return t.theoreticalUnlockableBadges.push(o),t}return t},t.prototype.getPrivacySettingWarning=function(e){if(this.props.hidesGiftCount){var t=Object(s.d)("Your <x:link>privacy settings</x:link> have hidden your gifts given count. The default badge will be displayed.",{"x:link":function(e){return o.createElement(f.a,{linkTo:"/settings/security"},e)}},"SubGifterBadgeProgress");return o.createElement(u.a,{margin:{top:1},display:p.g.Flex,flexDirection:p.h.Row,alignItems:p.b.Center,justifyContent:p.l.Center},o.createElement(m.a,{padding:{x:1}},o.createElement(c.a,{badge:Object(l.b)(e),hideTooltip:!0})),o.createElement(m.a,{padding:{x:1}},o.createElement(d.a,{"data-test-selector":i.PrivacyWarning},t)))}return null},t.prototype.getAllBadges=function(e){if(!e||e.length<2)return null;for(var t=[],n=0;n<e.length-1;n++){var i=e[n],r=e[n+1],s=parseInt(i.version,10),c=parseInt(r.version,10);1===s&&(s=0);var l=100*(this.props.giftsSentCount+this.props.selectedGiftAmount-s)/(c-s),d=a({"gifter-badge-progress__set":!0,"gifter-badge-progress__set__end":0!==n}),m=o.createElement(u.a,{className:d,display:p.g.Flex,flexDirection:p.h.Column,fullWidth:!0},o.createElement(u.a,{display:p.g.Flex,fullWidth:!0,justifyContent:0===n?p.l.Between:p.l.End},0===n?this.badgeLayout(i):null,this.badgeLayout(r)),o.createElement(u.a,{className:"gifter-badge-progress__set__bar",position:p.n.Relative,margin:{left:2,right:4}},o.createElement(h.a,{size:h.c.Small,mask:!0,value:l||0})));t.push(m)}return t},t}(o.Component)},iJU5:function(e,t,n){},iSjI:function(e,t,n){e.exports=n.p+"assets/visa-0862ac17dccf1c7a5a22.svg"},isUp:function(e,t,n){"use strict";var i=n("q1tI"),r=n("fQWD"),a=n("66/j"),o=n("sUnt"),s=n("yymn"),c=n("+80q"),l=function(e){var t=e.badge;return i.createElement(o.a,{alignItems:s.b.Center,className:e.className,display:s.g.Flex,flexDirection:s.h.Column,flexShrink:0,margin:{top:1}},i.createElement(r.a,{badge:Object(a.b)(t),hideTooltip:!0,large:!0,isLocked:e.isLocked}),i.createElement(o.a,{margin:{top:.5}},i.createElement(c.a,{className:e.className+"--text",fontSize:s.j.Size7},t.title)))};n.d(t,"a",(function(){return l}))},"j8/4":function(e,t,n){"use strict";var i=n("TSYQ"),r=n("q1tI"),a=n("/MKj"),o=n("ANjH"),s=n("/7QA"),c=n("1/iK"),l=n("kRBY"),u=n("8EUQ"),d=n("Mb07"),p=n("PZ6D"),m=n("a5fV"),f=n("sUnt"),h=n("98dL"),g=n("yymn"),b=n("K+jS"),y=n("+80q"),v=n("Jsra");n("06i8");var k=Object(o.d)(Object(a.b)((function(e){return{userLoggedIn:Object(l.f)(e)}}),(function(e){return Object(o.b)({showLoginModal:u.a.showLoginModalWithCheckoutDispatch(c.a.ChannelSubscriptionButton)},e)})))((function(e){var t,n=e.subscriptionProduct,a=e.selectedMonth,o=e.onGiftMonthChange,c=e.stretch,l=e.userLoggedIn,u=e.showLoginModal,k=e.displayDiscount,S=Object(r.useCallback)((function(e){l?o(Number(e.currentTarget.getAttribute("data-month"))):u()}),[l,o,u]),C=Object(p.d)(n),E=null===(t=Object(p.f)([1,3,6,12],C))||void 0===t?void 0:t.sort((function(e,t){var n,i,r,a,o,s,c,l,u=null===(a=null===(r=null===(i=null===(n=e.listing)||void 0===n?void 0:n.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.plan)||void 0===a?void 0:a.interval.duration,d=null===(l=null===(c=null===(s=null===(o=t.listing)||void 0===o?void 0:o.chargeModel)||void 0===s?void 0:s.internal)||void 0===c?void 0:c.plan)||void 0===l?void 0:l.interval.duration;return u&&d?u<d?-1:1:0})),O=null==E?void 0:E.map((function(e){var t,n,o,s,u,p=Object(m.d)(e),v=Object(d.b)(e),C=v.discountPrice,E=v.price,O=(null===(u=null===(s=null===(o=null===(n=null===(t=null==e?void 0:e.listing)||void 0===t?void 0:t.chargeModel)||void 0===n?void 0:n.internal)||void 0===o?void 0:o.plan)||void 0===s?void 0:s.interval)||void 0===u?void 0:u.duration)||0,P=i({"multi-month__selected":O===a,"multi-month__unselected":O!==a}),N=e&&e.eligibility&&e.eligibility.isEligible,j=l&&!N;return r.createElement(f.a,{margin:{right:.5,bottom:.5},key:O,flexGrow:c?1:0},r.createElement(h.a,{onChange:S,checked:O===a,type:h.b.Checkbox,borderRadius:g.e.Medium,"data-month":O,disabled:j},r.createElement(f.a,{display:g.g.Flex,flexDirection:g.h.Column,padding:{left:.5,right:.5,top:1,bottom:.5},className:P},r.createElement(f.a,{margin:{bottom:.5}},r.createElement(b.a,{size:b.b.Small},O)),r.createElement(f.a,{display:g.g.Flex,flexDirection:g.h.Row},r.createElement(y.a,null,p),k&&C&&Object(d.e)(e)&&r.createElement(f.a,{margin:{left:.5}},r.createElement(y.a,{decoration:y.c.Strikethrough,color:g.f.Alt2},E))))))}));return r.createElement(f.a,{display:g.g.Flex,flexDirection:g.h.Column},r.createElement(f.a,{margin:{bottom:.5}},r.createElement(b.a,{size:b.b.ExtraSmall},Object(s.d)("Months to gift","MultiMonthGiftPriceLabel"))),r.createElement(f.a,{display:g.g.Flex,flexDirection:g.h.Row,flexWrap:g.i.Wrap},O),r.createElement(y.a,null,Object(s.d)("Gift multiple months at once. <x:link>Learn more.</x:link>",{"x:link":function(e){return r.createElement(v.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/s/article/gift-subscriptions#GiftMultiMonth"},e)}},"MultiMonthGiftPriceLabel")))}));n.d(t,"a",(function(){return k}))},"k/qa":function(e,t,n){},k91D:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GiftSubscribeButton_Gift_Eligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recipientLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subProductId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"recipientLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canGift"},arguments:[{kind:"Argument",name:{kind:"Name",value:"product"},value:{kind:"Variable",name:{kind:"Name",value:"subProductId"}}}],directives:[]}]}}]}}]}}],loc:{start:0,end:171}};n.loc.source={body:"query GiftSubscribeButton_Gift_Eligibility($recipientLogin: String $subProductId: String!) {\nuser(login: $recipientLogin) {\nid\nself {\ncanGift(product: $subProductId)\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.GiftSubscribeButton_Gift_Eligibility=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"GiftSubscribeButton_Gift_Eligibility")},l7sZ:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutFormScreenManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tagBindings"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OfferTagBindingInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientIDs"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"quantity"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paymentSession"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentSession"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"recurlyCheckoutPrice"},name:{kind:"Name",value:"checkoutPrice"},arguments:[{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"paymentProvider"},value:{kind:"EnumValue",value:"RECURLY"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkoutPriceSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"xsollaCheckoutPrice"},name:{kind:"Name",value:"checkoutPrice"},arguments:[{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"paymentProvider"},value:{kind:"EnumValue",value:"XSOLLA_V3"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkoutPriceSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"renewalPolicy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"endAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkoutActions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"paymentSession"},value:{kind:"Variable",name:{kind:"Name",value:"paymentSession"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligiblePaymentMethods"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"eligiblePaymentMethodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"checkoutConfiguration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"xsolla"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offerTagBindings"},value:{kind:"Variable",name:{kind:"Name",value:"tagBindings"}}},{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"giftRecipientIDs"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientIDs"}}},{kind:"Argument",name:{kind:"Name",value:"paymentSession"},value:{kind:"Variable",name:{kind:"Name",value:"paymentSession"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSandbox"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paymentMethods"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"paymentMethodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"residence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userResidenceFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"recurlyConfigs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payWithAmazonConfigs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isProduction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sellerID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"braintreeClientAuthorization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publicKey"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:2114}};i.loc.source={body:'#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/eligible-payment-method-fragment.gql"\n#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/payment-method-fragment.gql"\n#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/user-residence-fragment.gql"\nquery CheckoutFormScreenManager(\n$params: PurchasableOfferParams!\n$tagBindings: [OfferTagBindingInput!]\n$giftRecipientIDs: [ID!]\n$quantity: Int!\n$paymentSession: PaymentSession!\n$withDiscounts: Boolean = false\n) {\npurchasableOffer(params: $params) {\nlisting {\nchargeModel {\ninternal {\nself {\nrecurlyCheckoutPrice: checkoutPrice(\nquantity: $quantity\npaymentProvider: RECURLY\n) {\nerrorCode\ncheckoutPriceSummary {\ncurrency\nexponent\nid\nisTaxInclusive\nprice\ntax\ntotal\ndiscount @include(if: $withDiscounts) {\nprice\ntotal\ntax\n}\n}\n}\nxsollaCheckoutPrice: checkoutPrice(\nquantity: $quantity\npaymentProvider: XSOLLA_V3\n) {\nerrorCode\ncheckoutPriceSummary {\ncurrency\nexponent\nid\nisTaxInclusive\nprice\ntax\ntotal\ndiscount @include(if: $withDiscounts) {\nprice\ntotal\ntax\n}\n}\n}\n}\nplan {\nrenewalPolicy\ninterval {\nduration\nunit\n}\n}\npreviewPrice {\ncurrency\nexponent\nid\nisTaxInclusive\nprice\ntax\ndiscount @include(if: $withDiscounts) {\nprice\n}\n}\n}\n}\n}\neligibility {\nisEligible\n}\nendAt\ngiftType\nid\nquantity {\nmin\nmax\n}\nself {\ncheckoutActions(quantity: $quantity paymentSession: $paymentSession)\neligiblePaymentMethods {\n...eligiblePaymentMethodFragment\n}\ncheckoutConfiguration {\nxsolla(\nofferTagBindings: $tagBindings\nquantity: $quantity\ngiftRecipientIDs: $giftRecipientIDs\npaymentSession: $paymentSession\n) {\ntoken\nisSandbox\n}\n}\n}\ntplr\ntagBindings {\nkey\nvalue\n}\npromotion @include(if: $withDiscounts) {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\n}\n}\ncurrentUser {\nid\nemail\npaymentMethods {\n...paymentMethodFragment\n}\nresidence {\n...userResidenceFragment\n}\n}\nrequestInfo {\ncountryCode\n}\nrecurlyConfigs {\npayWithAmazonConfigs {\nclientID\nisProduction\nsellerID\n}\nbraintreeClientAuthorization\npublicKey\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("G0EU").definitions)),i.definitions=i.definitions.concat(a(n("hRLk").definitions)),i.definitions=i.definitions.concat(a(n("z8ZU").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.CheckoutFormScreenManager=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,r=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"CheckoutFormScreenManager")},lTOj:function(e,t,n){},lXkT:function(e,t,n){"use strict";var i=n("hfwl");n.d(t,"a",(function(){return i.SubModal}))},maHM:function(e,t,n){},n4RV:function(e,t,n){},nAiT:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return b}));var i=n("q1tI"),r=n("4rCz"),a=n("+80q"),o=n("Jsra");function s(){return Object(r.d)("Channel Points","ChannelPoints")}function c(e){return Object(r.d)("{count, plural, one {# of your Default Reward costs was recently updated.} other {# of your Default Reward costs were recently updated.}}",{count:e},"CommunityPointsRewards")}function l(){return Object(r.d)("This reward is temporarily out of stock.","ChannelPoints")}function u(e,t){return e?Object(r.d)("{streamerName} has changed the reward requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints"):Object(r.d)("The broadcaster has changed the reward requirements. <x:link>Please try again.</x:link>",{"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints")}function d(e,t){return e?Object(r.d)("<x:strong>Oops!</x:strong> {streamerName} has changed this reward's requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:strong":function(e){return i.createElement(a.a,{bold:!0,type:a.e.Span},e)},"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints"):Object(r.d)("<x:strong>Oops!</x:strong> The broadcaster has changed this reward's requirements. <x:link>Please try again.</x:link>",{"x:strong":function(e){return i.createElement(a.a,{bold:!0,type:a.e.Span},e)},"x:link":function(e){return i.createElement(o.a,{onClick:t},e)}},"ChannelPoints")}function p(){return Object(r.d)("Channel Points early access","ChannelPointsSignupPage")}function m(){return Object(r.d)("Review Requests Queue","CustomRewardsList")}function f(e){switch(e){case"Greyscale":return Object(r.d)("Greyscale","ModifyEmotePreviewTooltip");case"Horizontal Flip":return Object(r.d)("Horizontal Flip","ModifyEmotePreviewTooltip");case"Sunglasses":return Object(r.d)("Sunglasses","ModifyEmotePreviewTooltip");case"Squished":return Object(r.d)("Squished","ModifyEmotePreviewTooltip");case"Thinking":return Object(r.d)("Thinking","ModifyEmotePreviewTooltip");case"Lunar Rat":return Object(r.d)("Lunar Rat","ModifyEmotePreviewTooltip");case"Red Envelope":return Object(r.d)("Red Envelope","ModifyEmotePreviewTooltip");default:return e}}function h(){return Object(r.d)("Something went wrong. Please try again.","CommunityChallengeModal")}function g(){return Object(r.d)("Max","CommunityGoalContributionButtons")}function b(){return Object(r.d)("Redeem","CustomRewardCheckout")}},oAT0:function(e,t,n){},oQBz:function(e,t,n){e.exports=n.p+"assets/xsolla_1x-920aa1ba72411e5fe0aa.png"},obMS:function(e,t,n){},obzc:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("VURH"),l=n("ABd2"),u=n("GnwI"),d=n("sUnt"),p=n("+80q"),m=n("yymn"),f=n("Ws8v"),h=n("Jsra"),g=n("9qaG"),b=n("G3YM"),y=n("Ty5D"),v=n("IbuL"),k=n("C7sF"),S=(n("V0gd"),function(){return r.createElement(f.a,{className:"checkmark-icon",color:m.f.Overlay,margin:{right:1},borderRadius:m.e.Rounded},r.createElement(v.a,{asset:k.a.Check}))}),C=n("7uM4"),E=n("XQbB"),O=n("SXhr"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSetupClick=function(){t.props.checkoutSessionTracker.track(l.b.SetupAutoRefillClick),t.props.checkoutSessionTracker.track(l.b.Close,JSON.stringify({close_button:"setup_auto_refill"})),t.props.history.push("/payments?tab=bits-auto-refill")},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive(),this.props.checkoutSessionTracker.track(l.b.SetupAutoRefillPrompt)},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return r.createElement(d.a,{"data-a-target":"bits-bundle-success-screen"},!!this.totalBitsAdded&&r.createElement(d.a,{margin:{bottom:2},display:m.g.Flex,justifyContent:m.l.Center,alignItems:m.b.Center},r.createElement(S,null),r.createElement(d.a,null,r.createElement(p.a,{fontSize:m.j.Size5},Object(o.d)("<x:strong>{totalBitsAdded, number} Bits</x:strong> have been added to your balance.",{totalBitsAdded:this.totalBitsAdded,"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"BitsBundleSuccessScreen")))),r.createElement(d.a,{margin:{bottom:2},display:m.g.Flex,justifyContent:m.l.Center,alignItems:m.b.Center},r.createElement(d.a,{padding:{top:.5}},r.createElement(C.a,{asset:k.a.Bits,height:50})),r.createElement(d.a,null,r.createElement(p.a,{fontSize:m.j.Size5},Object(o.d)("Total Bits:","BitsBundleSuccessScreen"))),r.createElement(d.a,{margin:{left:.5}},this.newBitsBalance?r.createElement(p.a,{bold:!0,fontSize:m.j.Size4},Object(o.f)(this.newBitsBalance)):r.createElement(E.a,null))),r.createElement(f.a,{margin:{top:3},padding:2,border:!0,borderRadius:m.e.Large},r.createElement(d.a,{margin:{bottom:1}},r.createElement(p.a,{bold:!0,fontSize:m.j.Size5},Object(o.d)("Never run out of Bits again!","BitsBundleSuccessScreen"))),r.createElement(d.a,{margin:{bottom:1}},r.createElement(p.a,{fontSize:m.j.Size5},Object(o.d)("You can now automatically refill your Bits when you have less than a specified amount. This can be cancelled at any time.","BitsBundleSuccessScreen"))),r.createElement(d.a,null,r.createElement(p.a,{fontSize:m.j.Size5,bold:!0},r.createElement(h.a,{onClick:this.handleSetupClick},Object(o.d)("Setup Auto-Refill","BitsBundleSuccessScreen"))))))},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalBitsAdded",{get:function(){var e=this,t=this.props.data.currentUser;if(!t||!t.bitsOffers)return null;var n=t.bitsOffers.find((function(t){return!(!t||"BitsBundleOffer"!==t.__typename||t.asin!==e.props.productID)}));return n?n.bits*this.props.finalQuantity:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newBitsBalance",{get:function(){var e;return null===(e=this.props.data.currentUser)||void 0===e?void 0:e.bitsBalance},enumerable:!0,configurable:!0}),t}(r.Component),N=Object(a.d)(Object(u.withLatencyTracking)("BitsBundleSuccessScreen"),Object(s.a)(O,{options:function(){return{fetchPolicy:"network-only"}}}),y.l)(P),j=n("uG/k"),D=(n("Dj+a"),function(e){var t=e.benefits;return r.createElement(d.a,{display:m.g.Flex,justifyContent:m.l.Center,alignItems:m.b.Start,flexWrap:m.i.Wrap,margin:{top:3},breakpointExtraSmall:{margin:{top:5}}},t.map((function(e,t){var n=e.imageSrc,i=e.imageSrcSet,a=e.imageAlt,o=e.description;return r.createElement(d.a,{key:"benefits-container__benefit-"+t,className:"benefits-container__benefit-container",display:m.g.Inline,margin:2},r.createElement(f.a,{className:"benefits-container__image-container",display:m.g.Flex,background:m.d.Alt,borderRadius:m.e.Rounded,padding:1,justifyContent:m.l.Center,alignItems:m.b.Center,margin:{bottom:1,x:"auto"}},r.createElement(j.a,{className:"benefits-container__image",src:n,srcSet:i,alt:a})),r.createElement(d.a,{className:"benefits-container__description-container",textAlign:m.p.Center},r.createElement(p.a,{color:m.f.Alt2,fontSize:m.j.Size5},o)))})))}),T=n("0E6Y"),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?r.createElement(d.a,{"data-a-target":"channel-sub-gift-success-screen"},r.createElement(d.a,{display:m.g.Flex,justifyContent:m.l.Center,alignItems:m.b.Center},r.createElement(S,null),r.createElement(p.a,{fontSize:m.j.Size5},this.giftText)),this.subGifterBadgeAssetURL&&r.createElement(D,{benefits:[{imageSrc:this.subGifterBadgeAssetURL,imageAlt:this.subGifterBadgeTitle,description:Object(o.d)("Sub Gifter Badge","ChannelSubGiftSuccessScreen")}]})):null},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftText",{get:function(){var e,t,n,i,a,s;if(this.props.tplr===c.b.ChannelSubStandardGift)if(this.props.giftMonths>1)if(this.props.isAnonymous)switch(null===(e=this.props.data.subscriptionProduct)||void 0===e?void 0:e.tier){case"1000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{giftMonths, plural, one {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else switch(null===(t=this.props.data.subscriptionProduct)||void 0===t?void 0:t.tier){case"1000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{giftMonths, plural, one {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else if(this.props.isAnonymous)switch(null===(n=this.props.data.subscriptionProduct)||void 0===n?void 0:n.tier){case"1000":return Object(o.d)("You gifted a Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("You gifted a Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("You gifted a Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("You gifted a Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else switch(null===(i=this.props.data.subscriptionProduct)||void 0===i?void 0:i.tier){case"1000":return Object(o.d)("You gifted a Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("You gifted a Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("You gifted a Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("You gifted a Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else{if(this.props.tplr!==c.b.ChannelSubCommunityGift)return null;if(this.props.isAnonymous)switch(null===(a=this.props.data.subscriptionProduct)||void 0===a?void 0:a.tier){case"1000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 1 Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Tier 1 Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 2 Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Tier 2 Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 3 Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Tier 3 Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen")}else switch(null===(s=this.props.data.subscriptionProduct)||void 0===s?void 0:s.tier){case"1000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 1 Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Tier 1 Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 2 Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Tier 2 Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 3 Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Tier 3 Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen")}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftRecipientName",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.giftRecipient)||void 0===t?void 0:t.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelName",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subGifterBadge",{get:function(){var e,t,n,i,r,a,o,s,c,l;return(null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.self)||void 0===i?void 0:i.availableBadges)||void 0===r?void 0:r.find((function(e){return"sub-gifter"===(null==e?void 0:e.setID)})))||(null===(l=null===(c=null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.subscriptionProduct)||void 0===o?void 0:o.owner)||void 0===s?void 0:s.self)||void 0===c?void 0:c.displayBadges)||void 0===l?void 0:l.find((function(e){return"sub-gifter"===(null==e?void 0:e.setID)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subGifterBadgeAssetURL",{get:function(){var e;return(null===(e=this.subGifterBadge)||void 0===e?void 0:e.imageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subGifterBadgeTitle",{get:function(){var e;return(null===(e=this.subGifterBadge)||void 0===e?void 0:e.title)||""},enumerable:!0,configurable:!0}),t}(r.Component),I=Object(a.d)(Object(u.withLatencyTracking)("ChannelSubGiftSuccessScreen"),Object(s.a)(T,{options:function(e){return{variables:{productName:e.productName||"",giftRecipientID:e.giftRecipientIDs&&e.giftRecipientIDs[0]}}}}))(w),x=n("/MKj"),A=n("9g6D"),M=n.n(A),_=n("NYFu"),F=n.n(_),R=n("XDQu"),B=n("nAiT"),L=n("OpME"),U=n("VYPy"),G=n("1ZQW"),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?r.createElement(d.a,{"data-a-target":"channel-sub-success-screen"},r.createElement(d.a,{display:m.g.Flex,justifyContent:m.l.Center,alignItems:m.b.Center},r.createElement(S,null),r.createElement(p.a,{fontSize:m.j.Size5},this.benefitsMessage)),this.benefitsContainer):null},Object.defineProperty(t.prototype,"benefitsMessage",{get:function(){return Object(o.d)("You're now subscribed to <x:strong>{channelDisplayName}</x:strong>. Enjoy your subscriber benefits.",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)},channelDisplayName:this.channelDisplayName},"ChannelSubSuccessScreen")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefitsContainer",{get:function(){return r.createElement(D,{benefits:this.benefits})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelDisplayName",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriberBadge",{get:function(){var e,t,n,i,r,a,o,s,c,l;return(null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.self)||void 0===i?void 0:i.availableBadges)||void 0===r?void 0:r.find((function(e){return(null==e?void 0:e.setID)&&["subscriber","founder"].includes(e.setID)})))||(null===(l=null===(c=null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.subscriptionProduct)||void 0===o?void 0:o.owner)||void 0===s?void 0:s.self)||void 0===c?void 0:c.displayBadges)||void 0===l?void 0:l.find((function(e){return(null==e?void 0:e.setID)&&["subscriber","founder"].includes(e.setID)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriberBadgeAssetURL",{get:function(){var e;return(null===(e=this.subscriberBadge)||void 0===e?void 0:e.imageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriberBadgeAssetTitle",{get:function(){var e;return(null===(e=this.subscriberBadge)||void 0===e?void 0:e.title)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emotes",{get:function(){var e=[],t=this.props.data.subscriptionProduct;return t&&t.owner&&t.owner.subscriptionProducts&&t.owner.subscriptionProducts.forEach((function(n){n&&n.emotes&&n.tier<=t.tier&&n.emotes.forEach((function(t){t&&t.id&&t.token&&e.push({id:t.id,token:t.token,setID:t.setID||""})}))})),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteCount",{get:function(){return this.emotes.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteSrcSet",{get:function(){if(!this.emoteCount)return"";var e=this.emotes[0];return Object(L.c)([e])[0].srcSet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteToken",{get:function(){return this.emoteCount?this.emotes[0].token:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteSrc",{get:function(){var e=this.emoteSrcSet.split(" ");return e[2]||e[0]||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteModifiers",{get:function(){var e,t,n=[],i=this.props.data.subscriptionProduct;return null===(t=null===(e=null==i?void 0:i.owner)||void 0===e?void 0:e.subscriptionProducts)||void 0===t||t.forEach((function(e){e&&e.emoteModifiers&&e.tier<=i.tier&&e.emoteModifiers.forEach((function(e){n.push(e)}))})),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteModifiersSrc",{get:function(){var e=this.emoteModifiers,t=e[e.length-1];return Object(U.c)(t,this.props.theme)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteModifiersAlt",{get:function(){var e=this.emoteModifiers,t=e[e.length-1];return Object(B.d)(Object(U.b)(t.name))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAdfree",{get:function(){var e,t;return!!(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.hasAdFree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefits",{get:function(){var e=[];if(this.subscriberBadgeAssetURL&&e.push({imageSrc:this.subscriberBadgeAssetURL,imageAlt:this.subscriberBadgeAssetTitle,description:Object(o.d)("Subscriber Badge","ChannelSubSuccessScreen")}),this.emoteModifiers.length>0&&e.push({imageSrc:this.emoteModifiersSrc["1x"],imageSrcSet:this.emoteModifiersSrc,imageAlt:this.emoteModifiersAlt,description:Object(o.d)("{numberOfEmoteModifiers, plural, one {# Emote Modifier} other {# Emote Modifiers}}",{numberOfEmoteModifiers:this.emoteModifiers.length},"ChannelSubSuccessScreen")}),this.emoteSrc&&this.emoteSrcSet&&this.emoteCount>0&&e.push({imageSrc:this.emoteSrc,imageAlt:this.emoteToken,description:Object(o.d)("{numberOfEmotes, plural, one {# Emote} other {# Emotes}}",{numberOfEmotes:this.emoteCount},"ChannelSubSuccessScreen")}),this.hasAdfree){var t=Object(o.d)("Ad-Free Viewing","ChannelSubSuccessScreen");e.push({imageSrc:M.a,imageAlt:t,description:t})}var n=Object(o.d)("Sub-Only Chat","ChannelSubSuccessScreen");return e.push({imageSrc:F.a,imageAlt:n,description:n}),e},enumerable:!0,configurable:!0}),t}(r.Component);var z,H=Object(a.d)(Object(x.b)((function(e){return{theme:Object(R.a)(e)}})),Object(u.withLatencyTracking)("ChannelSubSuccessScreen"),Object(s.a)(G,{options:function(e){return{variables:{productName:e.productName||""}}}}))(q),V=n("NoAt"),W=n.n(V),Y=n("s0i4"),Q=n.n(Y),K=n("x9xf"),J=n.n(K),Z=n("VRha"),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.turboSubscriberBadgeText=Object(o.d)("Turbo Subscriber Badge","TurboSuccessScreen"),t.expandedEmoteSetText=Object(o.d)("Expanded Emote Set","TurboSuccessScreen"),t.customUsernameColorText=Object(o.d)("Custom Username Color","TurboSuccessScreen"),t.adFreeViewingText=Object(o.d)("Ad-Free Viewing","TurboSuccessScreen"),t.extendedBroadcasterStorageText=Object(o.d)("Extended Broadcaster Storage","TurboSuccessScreen"),t.defaultBenefits=[{imageSrc:Q.a,imageAlt:t.expandedEmoteSetText,description:t.expandedEmoteSetText},{imageSrc:W.a,imageAlt:t.customUsernameColorText,description:t.customUsernameColorText},{imageSrc:M.a,imageAlt:t.adFreeViewingText,description:t.adFreeViewingText},{imageSrc:J.a,imageAlt:t.extendedBroadcasterStorageText,description:t.extendedBroadcasterStorageText}],t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?r.createElement(d.a,null,r.createElement(d.a,{display:m.g.Flex,justifyContent:m.l.Center,alignItems:m.b.Center},r.createElement(S,null),r.createElement(p.a,{fontSize:m.j.Size5},Object(o.d)("You're now subscribed to <x:strong>Twitch Turbo</x:strong>. Enjoy your subscriber benefits.",{"x:strong":function(e){return r.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"ChannelSubSuccessScreen"))),r.createElement(D,{benefits:this.benefits})):null},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"turboBadgeAssetURL",{get:function(){var e,t,n,i;return(null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.availableBadges)||void 0===n?void 0:n.find((function(e){return"turbo"===(null==e?void 0:e.setID)})))||void 0===i?void 0:i.imageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefits",{get:function(){return this.turboBadgeAssetURL?Object(i.__spreadArrays)([{imageSrc:this.turboBadgeAssetURL,imageAlt:this.turboSubscriberBadgeText,description:this.turboSubscriberBadgeText}],this.defaultBenefits):this.defaultBenefits},enumerable:!0,configurable:!0}),t}(r.Component),$=Object(a.d)(Object(u.withLatencyTracking)("TurboSuccessScreen"),Object(s.a)(Z))(X),ee=n("bFOZ");n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return ne})),function(e){e[e.Subscription=1]="Subscription",e[e.GiftSubscription=2]="GiftSubscription"}(z||(z={}));var te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPurchaseSupportClick=function(){t.props.checkoutSessionTracker.track(l.b.PurchaseSupportFAQClick),window.open("https://help.twitch.tv/s/article/one-click-checkout")},t.onSubscriptionsClick=function(){t.props.checkoutSessionTracker.track(l.b.SubscriptionManagementClick),window.open("https://www.twitch.tv/subscriptions")},t.closeModal=function(){t.props.checkoutSessionTracker.track(l.b.Close,JSON.stringify({close_button:"close_button"})),t.props.closeModal&&t.props.closeModal()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive(),this.props.checkoutSessionTracker.track(l.b.PurchaseSuccessScreenShown)},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return r.createElement(r.Fragment,null,r.createElement(d.a,{padding:2,breakpointExtraSmall:{padding:{x:3}},"data-a-target":"checkout-form-success-screen"},r.createElement(d.a,{margin:{bottom:2},breakpointExtraSmall:{margin:{bottom:5}}},r.createElement(p.a,{bold:!0,fontSize:m.j.Size2},Object(o.d)("Purchase Successful","CheckoutFormSuccessScreen"))),this.body,this.actions),this.orderHelp)},Object.defineProperty(t.prototype,"orderHelp",{get:function(){var e=this;if(this.props.orderHelpType)return r.createElement(f.a,{background:m.d.Alt2,padding:{x:3,y:2}},r.createElement(d.a,{padding:{bottom:1}},r.createElement(p.a,{fontWeight:m.k.Bold,fontSize:m.j.Size5},Object(o.d)("Help with Your Order","CheckoutFormSuccessScreen"))),r.createElement(p.a,null,this.props.orderHelpType===z.Subscription?Object(o.d)("You can use the <x:subscriptions>Subscriptions</x:subscriptions> page to manage your order. If you need additional support check out our <x:purchaseSupport>Purchase Support FAQ</x:purchaseSupport> for guidance on next steps.",{"x:subscriptions":function(t){return r.createElement(h.a,{onClick:e.onSubscriptionsClick},t)},"x:purchaseSupport":function(t){return r.createElement(h.a,{onClick:e.onPurchaseSupportClick},t)}},"CheckoutFormSuccessScreenSubHelp"):Object(o.d)("If you need support related to your purchase check out our <x:purchaseSupport>Purchase Support FAQ</x:purchaseSupport> for guidance on next steps.",{"x:purchaseSupport":function(t){return r.createElement(h.a,{onClick:e.onPurchaseSupportClick},t)}},"CheckoutFormSuccessScreenSubGiftHelp")))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return r.createElement(d.a,{margin:{top:2},display:m.g.Flex,justifyContent:m.l.End},this.props.closeModal&&r.createElement(g.a,{type:g.d.Secondary,onClick:this.closeModal},r.createElement(b.a,null,Object(o.d)("Close","CheckoutFormSuccessScreen"))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){var e,t,n=this;if(!this.dataReady)return null;switch(this.tplr){case c.b.BitsBundle:return r.createElement(N,{productID:this.productID,finalQuantity:this.props.finalQuantity,checkoutSessionTracker:this.props.checkoutSessionTracker});case c.b.ChannelSub:case c.b.ChannelSubCustom:return r.createElement(H,{productName:this.props.productName});case c.b.ChannelSubStandardGift:case c.b.ChannelSubCommunityGift:var i=null===(t=null===(e=this.props.multimonthGiftOffers)||void 0===e?void 0:e.find((function(e){return e.offerID===n.props.finalOfferID})))||void 0===t?void 0:t.months;return r.createElement(I,{productName:this.props.productName,tplr:this.tplr,isAnonymous:this.props.isAnonymous,giftRecipientIDs:this.props.giftRecipientIDs,finalQuantity:this.props.finalQuantity,giftMonths:i||1});case c.b.Turbo:return r.createElement($,null);default:return null}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tplr",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tplr)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagBindings",{get:function(){var e,t;return null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tagBindings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"productID",{get:function(){if(this.tplr===c.b.BitsBundle&&this.tagBindings){var e=this.tagBindings.find((function(e){return"product_id"===e.key}));return e&&e.value||""}return""},enumerable:!0,configurable:!0}),t}(r.Component),ne=Object(a.d)(Object(u.withLatencyTracking)("CheckoutFormSuccessScreen"),Object(s.a)(ee,{options:function(e){return{variables:{params:{offerID:e.finalOfferID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}}}}}))(te)},p8oj:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CountrySelector_CountryCode"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:65}};n.loc.source={body:"query CountrySelector_CountryCode {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CountrySelector_CountryCode=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CountrySelector_CountryCode")},pDmt:function(e,t,n){},pXzP:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PurchaseOfferMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchaseOfferInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchaseOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchaseOrder"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTokenID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:143}};n.loc.source={body:"mutation PurchaseOfferMutation($input: PurchaseOfferInput!) {\npurchaseOffer(input: $input) {\npurchaseOrder {\nid\nactionTokenID\nstate\n}\nerror\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PurchaseOfferMutation=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"PurchaseOfferMutation")},q8H6:function(e,t,n){e.exports=n.p+"assets/paypal_dark_2x-74742ec8600998675dc5.png"},qSJE:function(e,t,n){"use strict";n.r(t);var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("/7QA"),l=n("1/iK"),u=n("XDCx"),d=n("y5D0"),p=n("DMoW"),m=n("kRBY"),f=n("lXkT"),h=n("br9A"),g=n("dEDE"),b=n("Ws8v"),y=n("yymn");!function(e){e.Overlay="overlay",e.UpsellSelector="upsell"}(i||(i={}));var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscribeToChannel=function(e){e&&t.props.showSubscriptionModal({channelLogin:e,subLocation:h.b.VideoCardPreviewRestriction})},t.getSubscribeCtaText=function(){var e=t.props.restriction;if(e){var n=e.options;if(n.includes(p.Ed.ALLOW_TIER_3_ONLY))return Object(c.d)("Subscribe at Tier 3 to watch","VideoPreviewCardRestriction");if(n.includes(p.Ed.ALLOW_TIER_2_AND_3_ONLY))return Object(c.d)("Subscribe at Tier 2 to watch","VideoPreviewCardRestriction")}return Object(c.d)("Subscribe to watch","VideoPreviewCardRestriction")},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.restriction,o=t.channelLogin;if(!n||!this.props.isRestricted)return null;var s=this.getRestrictionAction(n),c=this.getSubscribeCtaText(),l={type:g.d.Secondary,targetBlank:!0,overlay:!0,onClick:function(){s&&o&&e.subscribeToChannel(o)}};l["aria-label"]=c;var u=s&&s.name&&a.createElement(g.a,Object(r.__assign)({},l),c);return a.createElement(b.a,{background:y.d.Overlay,className:"video-preview-card-restriction",color:y.f.Overlay,display:y.g.Flex,position:y.n.Absolute,attachTop:!0,attachLeft:!0,zIndex:y.s.Default,padding:{x:5},textAlign:y.p.Center,fullWidth:!0,fullHeight:!0,alignItems:y.b.Center,alignContent:y.a.Center,flexDirection:y.h.Column,flexWrap:y.i.Wrap,justifyContent:y.l.Center,"data-test-selector":i.Overlay},u)},t.prototype.getRestrictionAction=function(e){if(e.exemptions){var t=e.exemptions.find((function(e){return e.type===p.Dd.PRODUCT}));return t&&t.actions&&t.actions.length>0&&t.actions[0]||null}return null},t}(a.PureComponent),k=Object(o.b)((function(e){var t=Object(m.e)(e);return{currentUserLogin:t&&t.login,isLoggedIn:Object(m.f)(e)}}),(function(e){return Object(s.b)({login:function(){return Object(d.e)(l.a.FollowButton)},showSubscriptionModal:function(e){var t=Object(r.__rest)(e,[]);return Object(u.e)(f.a,t)}},e)}))(v);n.d(t,"TestSelectors",(function(){return i})),n.d(t,"VideoPreviewCardRestrictionComponent",(function(){return v})),n.d(t,"VideoPreviewCardRestriction",(function(){return k}))},qhDs:function(e,t,n){},qiem:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OneClickCheckoutOrderPolling"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"purchaseOrderID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeOrder"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchaseOrder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"purchaseOrderID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeOrder"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTokenID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"failureReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:211}};n.loc.source={body:"query OneClickCheckoutOrderPolling(\n$purchaseOrderID: ID!\n$includeOrder: Boolean!\n) {\ncurrentUser {\nid\npurchaseOrder(id: $purchaseOrderID) @include(if: $includeOrder) {\nid\nactionTokenID\nfailureReason\nstate\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.OneClickCheckoutOrderPolling=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"OneClickCheckoutOrderPolling")},qyVS:function(e,t,n){},rACw:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n("/7QA"),r=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);function a(e){return!!e&&r.test(e)}function o(e){if(!a(e))return Object(i.d)("Please enter a valid email.","EmailValidator")}},rYEI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i,r=n("/7QA"),a=n("1bK4");function o(e){var t=1;return e>=3e3&&(e-=a.e,t=3),e>=2e3&&(e-=a.d,t=2),function(e,t){if(e>1)return 0===t?Object(r.d)("Tier {tierNum}, Base",{tierNum:Object(r.f)(e)},"LoyaltyBadgesPageComponent"):t<12?Object(r.d)("{monthNum, plural, one {Tier {tierNum}, {monthNum}-Month} other {Tier {tierNum}, {monthNum}-Month}}",{tierNum:Object(r.f)(e),monthNum:Object(r.f)(t)},"LoyaltyBadgesPageComponent"):Object(r.d)("{yearNum, plural, one {Tier {tierNum}, {yearNum}-Year} other {Tier {tierNum}, {yearNum}-Year}}",{tierNum:Object(r.f)(e),yearNum:t/12},"LoyaltyBadgesPageComponent");return 0===t?Object(r.d)("Base","LoyaltyBadgesPageComponent"):t<12?Object(r.d)("{monthNum, plural, one {{monthNum}-Month} other {{monthNum}-Month}}",{monthNum:Object(r.f)(t)},"LoyaltyBadgesPageComponent"):Object(r.d)("{yearNum, plural, one {{yearNum}-Year} other {{yearNum}-Year}}",{yearNum:t/12},"LoyaltyBadgesPageComponent")}(t,e)}!function(e){e.Base="Base",e.Month2="2-Month",e.Month3="3-Month",e.Month6="6-Month",e.Month9="9-Month",e.Year1="1-Year",e.Year1Half="1.5-Year",e.Year2="2-Year",e.Year2Half="2.5-Year",e.Year3="3-Year",e.Year3Half="3.5-Year",e.Year4="4-Year",e.Year4Half="4.5-Year",e.Year5="5-Year",e.Year5Half="5.5-Year",e.Year6="6-Year",e.Year6Half="6.5-Year",e.Year7="7-Year",e.Year7Half="7.5-Year",e.Year8="8-Year"}(i||(i={}));var s=[{availableToAffiliate:!0,name:i.Base,requiredTenureMonths:0},{availableToAffiliate:!0,name:i.Month2,requiredTenureMonths:2},{availableToAffiliate:!0,name:i.Month3,requiredTenureMonths:3},{availableToAffiliate:!0,name:i.Month6,requiredTenureMonths:6},{availableToAffiliate:!0,name:i.Month9,requiredTenureMonths:9},{availableToAffiliate:!0,name:i.Year1,requiredTenureMonths:12},{availableToAffiliate:!1,name:i.Year1Half,requiredTenureMonths:18},{availableToAffiliate:!1,name:i.Year2,requiredTenureMonths:24},{availableToAffiliate:!1,name:i.Year2Half,requiredTenureMonths:30},{availableToAffiliate:!1,name:i.Year3,requiredTenureMonths:36},{availableToAffiliate:!1,name:i.Year3Half,requiredTenureMonths:42},{availableToAffiliate:!1,name:i.Year4,requiredTenureMonths:48},{availableToAffiliate:!1,name:i.Year4Half,requiredTenureMonths:54},{availableToAffiliate:!1,name:i.Year5,requiredTenureMonths:60},{availableToAffiliate:!1,name:i.Year5Half,requiredTenureMonths:66},{availableToAffiliate:!1,name:i.Year6,requiredTenureMonths:72},{availableToAffiliate:!1,name:i.Year6Half,requiredTenureMonths:78},{availableToAffiliate:!1,name:i.Year7,requiredTenureMonths:84},{availableToAffiliate:!1,name:i.Year7Half,requiredTenureMonths:90},{availableToAffiliate:!1,name:i.Year8,requiredTenureMonths:96}]},"rsq/":function(e,t,n){},rw43:function(e,t,n){},s0i4:function(e,t,n){e.exports=n.p+"assets/expanded-emote-c25caeb5218f4c4775f3.png"},"sAl/":function(e,t,n){},sqAG:function(e,t,n){e.exports=n.p+"assets/green-gem-5e6e942a04394ef59ee9.png"},"t/uW":function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("fvsf"),s=n("TbBp"),c=n("DUmW"),l=n("+Zug"),u=n("sUnt"),d=n("akKH"),p=n("3aAs"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCountryChange=function(e){t.props.onChange({countryCode:e.currentTarget.value,zipCode:""})},t.onZipChange=function(e){t.props.onChange({countryCode:t.props.countryCode,zipCode:e.currentTarget.value})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.hidePriceVaries?"":Object(a.d)("Price may vary","CountryOfResidenceSelector");return r.createElement(c.a,{gutterSize:c.b.Medium},r.createElement(l.a,{cols:{default:12,sm:6}},r.createElement(u.a,{margin:{bottom:1},"data-a-target":"country-of-residence"},r.createElement(d.a,{label:Object(a.d)("Country of Residence","CountryOfResidenceSelector"),labelOptional:e},r.createElement(o.a,{countryCode:this.props.countryCode,countryCodeList:s.a,onChange:this.onCountryChange})))),this.zipCodeRequired&&r.createElement(l.a,{cols:6},r.createElement(u.a,{margin:{bottom:1},"data-a-target":"country-of-residence-postal-code"},r.createElement(d.a,{label:Object(a.d)("Postal Code","CountryOfResidenceSelector")},r.createElement(p.a,{type:p.c.Text,placeholder:this.placeholderText,value:this.props.zipCode||"",error:this.props.zipCodeError,onChange:this.onZipChange,maxLength:this.zipCodeMaxLength,autoComplete:"postal-code"})))))},Object.defineProperty(t.prototype,"zipCodeRequired",{get:function(){return["US","CA"].includes(this.props.countryCode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholderText",{get:function(){switch(this.props.countryCode){case"US":return"12345";case"CA":return"M5J 0A1";default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zipCodeMaxLength",{get:function(){switch(this.props.countryCode){case"US":return 5;case"CA":return 7;default:return}},enumerable:!0,configurable:!0}),t}(r.PureComponent);n.d(t,"a",(function(){return m}))},uReR:function(e,t,n){e.exports=n.p+"assets/amex-0e89bed815722eb64119.svg"},"vE+g":function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_1x-27fb4921a874a8f4d84b.png"},vHGB:function(e,t,n){"use strict";var i=n("mrSG"),r=n("TSYQ"),a=n("q1tI"),o=n("/7QA"),s=n("DMoW"),c=n("2xye"),l=n("ZEQw"),u=n("xZ3y"),d=n("rYEI");var p=function(e){e.badge_type=e.badge_type.toLowerCase().replace(/( |\s)/g,"_"),o.p.tracking.track(c.SpadeEventType.ChatBadgeClick,e)},m=n("8Xrw"),f=n("1bK4"),h=n("Rjl4"),g=n("sUnt"),b=n("yymn"),y=n("Jsra"),v=n("b7S+");n("E78O");n.d(t,"a",(function(){return S}));var k="https://www.twitch.tv/products/turbo?ref=chat_badge",S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isHovering:!1},t.primeReferralID="",t.onMouseOver=function(){t.setState({isHovering:!0})},t.onMouseOut=function(){t.setState({isHovering:!1})},t.onBadgeClickHandler=function(){var e=t.props.badge||t.props.schemaBadge,n=(null==e?void 0:e.title)||"";if(e)switch(Object(f.f)(e.version)){case f.a.TIER_2:n+="_flaired_tier_2";break;case f.a.TIER_3:n+="_flaired_tier_3"}p({badge_type:n,badge_url_target:t.targetURL})},t.onPrimeBadgeClickHandler=function(){Object(h.t)({tp_refcode:t.primeReferralID,medium:c.PageviewMedium.Chat,content:c.PageviewContent.CrownBadge,tp_campaign:h.b.TrackingAlpha}),t.onBadgeClickHandler()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.schemaBadge||this.props.badge,t=e&&function(e,t){if(!t)return e.title;var n=Number(t)||0;if("subscriber"===e.setID){var i=Number(e.version)||0;if(n>0)return 0===i?Object(o.d)("{tenure}-Month Subscriber",{tenure:String(n)},"DynamicBadgeTitles"):Object(o.d)("{tenure}-Month Subscriber ({title} Badge)",{tenure:String(n),title:Object(d.a)(i)},"DynamicBadgeTitles")}else if("founder"===e.setID)return n>0?Object(o.d)("Founder, {tenure}-Month Subscriber",{tenure:String(n)},"DynamicBadgeTitles"):Object(o.d)("Founder","DynamicBadgeTitles");return e.title}(e,this.props.dynamicData)||"",n=this.props.schemaBadge?this.props.schemaBadge.version:this.props.badge&&this.props.badge.version||"",i=this.props.schemaBadge?this.props.schemaBadge.setID:this.props.badge&&this.props.badge.setID||"",s=this.props.schemaBadge?this.props.schemaBadge.image1x:this.props.badge&&this.props.badge.image1x||"",c=this.props.schemaBadge?this.props.schemaBadge.image2x:this.props.badge&&this.props.badge.image2x||"",l=this.props.schemaBadge?this.props.schemaBadge.image4x:this.props.badge&&this.props.badge.image4x||"",p=this.props.large,f=this.props.hideTooltip,k=r({"chat-badge":!this.props.noMargins}),S=p?c:s,C=p?c+" 1x, "+l+" 2x":s+" 1x, "+c+" 2x, "+l+" 4x";i===u.a&&(t=Object(u.d)(t,n));var E=a.createElement("img",{alt:t,"aria-label":Object(o.d)("{badgeTitle} badge",{badgeTitle:t},"Badge"),className:k,src:S,srcSet:C,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut}),O=this.props.isLocked?a.createElement("figure",null,a.createElement(g.a,{display:b.g.Flex,justifyContent:b.l.End,position:b.n.Absolute,alignItems:b.b.End},a.createElement(m.a,{lockIcon:m.b.LOCK,className:"chat-badge__lock"})),E):E;if(this.targetURL=this.getTargetURL(),""!==this.targetURL){var P=this.onBadgeClickHandler;e&&"cHJlbWl1bTsxOw=="===e.id&&(this.primeReferralID=Object(h.e)(),this.targetURL=Object(h.d)(this.targetURL,this.primeReferralID),P=this.onPrimeBadgeClickHandler),O=a.createElement(y.a,{linkTo:this.targetURL,onClick:P,targetBlank:!0,"data-a-target":"chat-badge"},O)}return!f&&this.state.isHovering?a.createElement(v.a,{align:v.b.Left,"data-a-target":"chat-badge",display:b.g.Inline,key:s,label:t,offsetY:"0.9rem"},O):O},t.prototype.getTargetURL=function(){if(this.props.badge){if(this.props.badge.setID===u.a)return"";switch(this.props.badge.clickAction){case l.d:case s.n.VISIT_URL:return this.props.badge.clickURL;case l.b:case s.n.SUBSCRIBE:return this.props.badge.channelName?this.getSubscriberLink(this.props.badge.channelName):"";case l.c:case s.n.GET_TURBO:return k;default:return""}}else if(this.props.schemaBadge){if(this.props.schemaBadge.setID===u.a)return"";switch(this.props.schemaBadge.clickAction){case l.d:case s.n.VISIT_URL:return this.props.schemaBadge.clickURL||"";case l.b:case s.n.SUBSCRIBE:return this.props.schemaBadge.channelName?this.getSubscriberLink(this.props.schemaBadge.channelName):"";case l.c:case s.n.GET_TURBO:return k;default:return""}}return""},t.prototype.getSubscriberLink=function(e){return"https://www.twitch.tv/subs/"+e},t}(a.Component)},"vK6+":function(e,t,n){},vLiP:function(e,t,n){},vZNl:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ConfirmCountryOfResidence"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"residence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:119}};n.loc.source={body:"query ConfirmCountryOfResidence {\ncurrentUser {\nid\nresidence {\ncountryCode\npostalCode\n}\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ConfirmCountryOfResidence=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ConfirmCountryOfResidence")},wOiE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("/7QA"),r=n("wUQP");function a(){return Object(r.c)("amazon_pay_enabled",{defaultThreshold:1})}function o(){return Object(r.c)("paypal_enabled",{defaultThreshold:1})}function s(){return Object(r.c)("recurly_enabled",{defaultThreshold:1})}function c(){return Object(r.c)("xsolla_enabled",{defaultThreshold:1})}function l(e){return i.b.get("recurly_cc_disabled_countries",[]).includes(e)}},x9xf:function(e,t,n){e.exports=n.p+"assets/extended-broadcaster-053b497cd16b10d9e6ba.png"},xWvT:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"KRExtraLegalDisclaimer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:60}};n.loc.source={body:"query KRExtraLegalDisclaimer {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.KRExtraLegalDisclaimer=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"KRExtraLegalDisclaimer")},xZ3y:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var i=n("/7QA"),r="bits",a="cheer";function o(e,t){return e&&e.setID===r&&e.title&&!c(e)?s(e.title,e.version):Object(i.g)(t,{maximumFractionDigits:2})}function s(e,t){if(e.endsWith(t)){var n=parseInt(t,10);if(!isNaN(n))return""+e.substring(0,e.length-t.length)+Object(i.g)(n,{maximumFractionDigits:2})}return e}function c(e){return e.title===a+" "+e.version}},xf5M:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLoginModerationTracking"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"target"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:234}};n.loc.source={body:"query ChatLoginModerationTracking($channelID: ID! $targetUserID: ID!) {\ntarget: user(id: $targetUserID) {\nid\nlogin\n}\nchannel: user(id: $channelID) {\nid\nlogin\nself {\nisModerator\nisEditor\n}\n}\ncurrentUser {\nid\nlogin\nroles {\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatLoginModerationTracking=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ChatLoginModerationTracking")},yAI6:function(e,t,n){},yLMg:function(e,t,n){},yeor:function(e,t,n){},yrda:function(e,t,n){e.exports=n.p+"assets/amazon_pay_2x-914335e3401a72109a8a.png"},z8ZU:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"userResidenceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResidence"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}}],loc:{start:0,end:74}};n.loc.source={body:"fragment userResidenceFragment on UserResidence {\ncountryCode\npostalCode\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},zNDD:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("/7QA"),r=864e5;function a(e,t){if(!e)return"";var n=e instanceof Date?e:new Date(e),a=t&&t.relativeDateLimit||r,o=t&&t.displayFormat||"short";return Math.abs(n.getTime()-Date.now())<=a?Object(i.i)(n):Object(i.c)(n,o)}},zbfc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetUserResidenceMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetUserResidenceInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setUserResidence"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"residence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:154}};n.loc.source={body:"mutation SetUserResidenceMutation($input: SetUserResidenceInput!) {\nsetUserResidence(input: $input) {\nuser {\nid\nresidence {\ncountryCode\npostalCode\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SetUserResidenceMutation=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"SetUserResidenceMutation")}}]);