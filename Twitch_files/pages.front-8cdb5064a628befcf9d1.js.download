(window.webpackJsonp=window.webpackJsonp||[]).push([[227,97],{"+JBF":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("efpB");function r(e){return e&&e.self&&e.self.viewingHistory&&null!==e.self.viewingHistory.position?0===e.lengthSeconds||0===e.self.viewingHistory.position?null:e.self.viewingHistory.position/(e.lengthSeconds||1/0)*100:null}function o(e){var t=Object(a.a)();return Object(i.__assign)({content:e.content,content_index:e.content_index,medium:e.medium},t&&{medium:t.medium,search_query_id:t.search_query_id,search_session_id:t.search_session_id})}},"0JAG":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=10;function a(e,t,n){if(void 0===n&&(n=1),!t||!e)return-1;var a=window.getComputedStyle(document.documentElement).fontSize||i.toString(),r=parseFloat(a)/i;return Math.floor(e/(t*r))*n}},"0LAi":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("X2PJ"),s=n("yymn"),c=n("tlKs"),l=n("sUnt"),d=n("7uM4"),u=n("C7sF"),m=(n("v/VB"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(o.a,{className:"subscriber-stream-tag",borderRadius:s.e.Rounded,display:s.g.InlineFlex,alignItems:s.b.Center,fontWeight:s.k.SemiBold},a.createElement(c.a,Object(i.__assign)({},this.props),a.createElement(l.a,{display:s.g.Flex,margin:{right:.5}},a.createElement(d.a,{asset:this.props.subscribed?u.a.Star:u.a.StarHollow,height:14,width:14})),this.props.label))},t}(a.Component)),p=n("MXoD"),g=n("DMoW"),h=n("2xye"),f=n("SSXq"),v=n("k5yb"),k=n("pP4p"),b=n("VL3x"),y=n("h8Tj"),C=6.3,T=8,S=2,w=10*b.a;function _(e,t){var n,i=e,a=t.length;for(n=0;n<a;n++){var r=t[n],o=Object(y.a)(r.localizedName);if(o||(o=S+T+r.localizedName.length*C),(i-=o+S)<0)break;i-=w}return n}var I=n("TCeE"),E=n("4HIT"),P=n("hnjF"),N=n("yLWi");function O(e){return e.toLowerCase().replace(/\s/g,"")}function D(e,t){return O(e).startsWith(t)?1:0}var F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={width:null},t.wrapperRef=a.createRef(),t.setTagAreaWidth=function(){if(t.wrapperRef.current){var e=t.wrapperRef.current.getBoundingClientRect().width;t.setState({width:e});var n=t.props,i=n.tags,a=n.tagsShownCallback;a&&a(i.slice(0,_(e,i)))}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.setTagAreaWidth()},t.prototype.render=function(){var e=this,t=this.props.tags;if(this.props.priorityTagTerm){var n=O(this.props.priorityTagTerm);t=Object(i.__spreadArrays)(t).sort((function(e,t){return D(t.localizedName,n)-D(e.localizedName,n)}))}var o=this.state.width,c=1/0;void 0!==this.props.tagNumberLimit?c=this.props.tagNumberLimit:this.props.fitOneLine&&null!==o&&(c=_(o,t)),c>=0&&(t=t.slice(0,c));var l=r.b.get(I.b,[]);return a.createElement(P.a,{display:s.g.InlineBlock,fullWidth:this.props.fitOneLine},a.createElement("div",{ref:this.wrapperRef},t.map((function(n,r){var o,s={};!e.props.linkTo&&e.props.autoLink&&n.scope?s.pathname=n.scope===g.me.ALL?E.a.PopularTag:E.a.DirectoryTag:e.props.linkTo&&"string"==typeof e.props.linkTo?s.pathname=e.props.linkTo:e.props.linkTo&&(s=Object(i.__assign)({},e.props.linkTo),o=e.props.linkTo.state&&e.props.linkTo.state.content),s.pathname&&(s.pathname=s.pathname.replace(":tagID",n.id));var c={targetBlank:!1,label:n.localizedName,"aria-label":n.localizedName,linkTo:s.pathname?Object(p.a)({content:o||h.PageviewContent.Tag},s):void 0,onClick:function(t){t.stopPropagation(),e.props.callback&&e.props.callback(t,n)},"data-a-target":n.localizedName};return Object(v.G)()&&c.linkTo&&(c.targetBlank=!0,"string"==typeof c.linkTo?c.linkTo=Object(f.a)(c.linkTo):c.linkTo&&c.linkTo.pathname&&(c.linkTo=Object(f.a)(c.linkTo.pathname))),a.createElement(k.a,{key:n.id,tagName:n.localizedName,cachedWidth:Object(y.a)(n.localizedName),isLast:r===t.length-1},l.includes(n.id)?a.createElement(m,Object(i.__assign)({},c,{subscribed:!1})):a.createElement(N.a,Object(i.__assign)({},c)))}))))},t}(a.Component);n.d(t,"a",(function(){return F}))},"0Rl0":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("q1tI"),a=n("uXHW"),r=n("fPaz"),o=n("PL8s"),s=n("AFv4"),c=n("sUnt"),l=n("yymn"),d=n("+80q"),u=function(){return i.createElement(a.a,null,i.createElement(r.b,{ratio:r.c.Aspect16x9},i.createElement(o.a,null)),i.createElement(s.a,null,i.createElement(c.a,{display:l.g.Flex,margin:{bottom:1}},i.createElement(c.a,{display:l.g.InlineBlock,margin:{top:1,right:1}},i.createElement(o.a,{width:40,height:56})),i.createElement(c.a,{display:l.g.InlineBlock,margin:{top:1}},i.createElement(d.a,null,i.createElement(o.a,{width:150})),i.createElement(d.a,{fontSize:l.j.Size7},i.createElement(o.a,{width:100}))))))}},"0T/G":function(e,t){},"0fnA":function(e,t,n){"use strict";n.r(t);var i,a=n("q1tI"),r=n("mrSG"),o=n("TSYQ"),s=n("Ty5D"),c=n("ANjH"),l=n("/7QA"),d=n("yR8l"),u=n("D7An"),m=n("NvVO"),p=n("MPw5"),g=n("2xye"),h=n("cTNz"),f=n("/MKj"),v=n("kduP"),k=n("imSJ"),b=n("eFQ3"),y=n("Tji9"),C=n("S8nt"),T=n("+XUr"),S=n("oKCn"),w=n("i/Zp");function _(){var e=l.m.get("video-quality",{default:"auto"});if(!e.default)return!0;var t=e.default;return"auto"===t||"chunked"===t||!isNaN(parseInt(t,10))&&parseInt(t,10)>720}function I(e,t){return t>=0?t%e:(t%e+e)%e}!function(e){e[e.Stream=1]="Stream",e[e.Vod=2]="Vod"}(i||(i={}));var E=n("0LAi"),P=n("4HIT"),N=n("sUnt"),O=n("yymn"),D=n("HH5h"),F=n("Jsra"),L=n("hnjF"),j=n("+80q");n("JIAW");function x(e){return e.replace(/(<([^>]+)>)/gi,"").replace(/ +/g," ").replace(/(\(\/([^\)]+)\))/gi,"")}var R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.item,t=e.broadcaster.profileImageURL,n=Object(k.f)(e.content.viewersCount),i={medium:"twitch_home",content:e.isScheduled?"carousel_promo":"carousel_backfill"},r=e.description?a.createElement("div",{title:x(e.description),"data-test-selector":"carousel-description"},x(e.description)):a.createElement("div",{"data-test-selector":"carousel-title"},e.title);return a.createElement(N.a,{className:o({"carousel-metadata":!0}),fullHeight:!0,padding:1,position:O.n.Relative},a.createElement(N.a,{display:O.g.Flex,justifyContent:O.l.Start,alignItems:O.b.Start,margin:{bottom:1}},a.createElement(N.a,{flexShrink:0},a.createElement(D.a,{userLogin:e.broadcaster.login,src:t,size:50,alt:Object(l.d)("{name} Avatar",{name:e.broadcaster.displayName},"CarouselMetadata")})),a.createElement(N.a,{display:O.g.Flex,flexDirection:O.h.Column,alignItems:O.b.Start,justifyContent:O.l.Between,margin:{left:1},flexShrink:1},a.createElement(F.a,{"aria-label":Object(l.d)("Link to {name}",{name:e.broadcaster.displayName},"CarouselMetadata"),linkTo:{pathname:"/"+e.broadcaster.login,state:i}},a.createElement(L.a,{className:"carousel-metadata--top-text",ellipsis:!0},a.createElement(j.a,{title:e.broadcaster.displayName,bold:!0},e.broadcaster.displayName))),a.createElement(L.a,{className:"carousel-metadata--top-text",ellipsis:!0},a.createElement(F.a,{"aria-label":Object(l.d)("Link to {game}",{game:e.content.gameName},"CarouselMetadata"),linkTo:{pathname:Object(v.a)(e.content.gameName),state:i}},e.content.gameDisplayName)),a.createElement(j.a,null,n))),e.tags&&a.createElement(N.a,{margin:{bottom:.5}},a.createElement(E.a,{tags:e.tags,linkTo:{pathname:P.a.PopularTag,state:i},tagNumberLimit:2})),r,a.createElement(N.a,{className:"carousel-metadata--fadeout",position:O.n.Absolute,attachBottom:!0,fullWidth:!0}))},t}(a.Component),A="google_calendar",M="backfill";function V(e){l.o.track(g.SpadeEventType.FrontPageCarouselClick,e)}var G=n("GnwI"),H=n("Wjf2"),U=n("Q3S8"),B=815,q=1400;function W(e){return!(window.innerWidth<=B)&&!(window.innerWidth<=q&&e)}var z,Q,Y,J=n("vCsY"),K=n("Ws8v"),X=n("X2PJ"),$=n("C8Nf"),Z=n("uG/k"),ee=n("XQbB");n("H9ix");!function(e){e.Image="featured-item-image",e.Video="featured-item-video",e.NoVideoWrapper="featured-item-no-video-wrapper",e.VideoWrapper="featured-item-video-wrapper",e.ExperimentVideoWrapper="featured-item-experiment-video-wrapper"}(z||(z={})),function(e){e.Enter="enter",e.EnterActive="enterActive",e.Visible="visible"}(Q||(Q={})),function(e){e.Leave="leave",e.LeaveActive="leaveActive",e.Hidden="hidden"}(Y||(Y={}));var te=Object(r.__assign)(Object(r.__assign)({},Q),Y),ne=function(e){function t(t){var n=e.call(this,t)||this;return n.fadeVideoIn=function(){n.trackPromotionView(),n.state.videoStatus===te.Enter&&requestAnimationFrame((function(){n.setState({videoStatus:te.EnterActive}),n.enterTimeout=setTimeout((function(){n.setState({videoStatus:te.Visible})}),n.props.transitionDuration)}))},n.fadeVideoOut=function(){clearTimeout(n.enterTimeout),requestAnimationFrame((function(){n.setState({videoStatus:te.LeaveActive}),setTimeout((function(){n.setState({videoStatus:te.Hidden})}),n.props.transitionDuration)}))},n.handlePlayerClick=function(e){var t=e.content,i=e.state.currentVideoOffsetTimestamp,a=n.getPathToContent(t);Object(U.r)(t)?n.props.history.push({pathname:a,state:{medium:g.PageviewMedium.TwitchHome,content:n.props.isScheduled?g.PageviewContent.CarouselPromo:g.PageviewContent.CarouselBackfill}}):n.props.history.push(a+(i?"?t="+i:""))},n.getPathToContent=function(e){return Object(U.s)(e)?"/videos/"+Object(U.m)(e):Object(U.o)(e)?"/collections/"+Object(U.d)(e):Object(U.n)(e)?e.channelLogin?"/"+e.channelLogin+"/clip/"+e.clipSlug:Object(H.g)(e.clipSlug):"/"+Object(U.b)(e)},n.trackCarouselClick=function(){V({broadcast_type:n.props.item.content.subType,carousel_index:n.props.index,channel:n.props.item.broadcaster.login,game:n.props.item.content.gameName,promotion_was_scheduled:n.props.item.isScheduled,views:n.props.item.content.viewersCount})},n.trackPromotionView=function(){var e,t={broadcast_type:n.props.item.content.subType,carousel_index:n.props.index,channel:n.props.item.broadcaster.login,game:n.props.item.content.gameName,promotion_was_scheduled:n.props.item.isScheduled,views:n.props.item.content.viewersCount};e=t,l.o.track(g.SpadeEventType.FrontPageCarouselPromotionCardView,e)},n.onClick=function(){n.trackCarouselClick(),n.props.onClick(n.props.offsetFromCenter)},n.renderVideoHelper=function(){var e=W(n.props.hasTakeoverAd),t={type:i.Stream,id:n.props.item.content.id,autoplay:n.props.autoplay,showChannelInfoOnHover:!e,linkTrackingContext:{medium:g.PageviewMedium.TwitchHome,content:n.props.isScheduled?g.PageviewContent.CarouselPromo:g.PageviewContent.CarouselBackfill},onPlayerInit:n.fadeVideoIn,onPlayerClick:n.handlePlayerClick},r=0;return n.state.videoStatus!==te.EnterActive&&n.state.videoStatus!==te.Leave&&n.state.videoStatus!==te.Visible||(r=1),a.createElement(L.a,{fullWidth:e,fullHeight:e,display:O.g.Flex},a.createElement("div",{style:{transition:"opacity "+n.props.transitionDuration+"ms ease",opacity:r},onClick:e?void 0:n.onClick,"data-test-selector":e?void 0:z.VideoWrapper},a.createElement(L.a,{fullHeight:!0,flexGrow:1,position:e?O.n.Relative:void 0},a.createElement("div",{onClick:e?n.onClick:void 0,"data-test-selector":e?z.ExperimentVideoWrapper:void 0},function(e){switch(e.type){case i.Stream:return a.createElement(b.a,{key:e.id,content:{type:T.a.Live,channelLogin:e.id},behaviors:{declineVideoAdsReason:y.a.Frontpage,disableAutoplay:!e.autoplay,disableDoubleClickFullscreen:!0,disableRecommendations:!0,disableStatusIndicator:!0,disableTheatreMode:!0,exclusivePlayback:!0,forceMaxAutoDimensions:_()?S.d:void 0,initialQuality:_()?S.f.Auto:void 0,linkTrackingContext:e.linkTrackingContext,pauseWhenNotInViewport:C.c.Once,pauseWhenModalShowing:!0,showChannelInfoOnHover:!!e.showChannelInfoOnHover},callbacks:{onInit:e.onPlayerInit,onDestroy:e.onPlayerDestroy,onPauseToggled:e.onPauseToggled,onPlayerClick:e.onPlayerClick},type:w.a.Frontpage});case i.Vod:return a.createElement(b.a,{key:e.id,content:{type:T.a.VOD,vodID:e.id},behaviors:{declineVideoAdsReason:y.a.Frontpage,disableAutoplay:!e.autoplay,disableDoubleClickFullscreen:!0,disableRecommendations:!0,disableTheatreMode:!0,exclusivePlayback:!0,forceMaxAutoDimensions:_()?S.d:void 0,initialQuality:_()?S.f.Auto:void 0,linkTrackingContext:e.linkTrackingContext,pauseWhenNotInViewport:C.c.Once,pauseWhenModalShowing:!0},callbacks:{onInit:e.onPlayerInit,onDestroy:e.onPlayerDestroy,onPauseToggled:e.onPauseToggled,onVideoTimeChange:e.onVideoTimeChange,onPlayerClick:e.onPlayerClick},type:w.a.Frontpage});default:return null}}(t))),e&&a.createElement(N.a,{fullHeight:!0,flexGrow:0},a.createElement(R,{item:n.props.item,hasTakeoverAd:n.props.hasTakeoverAd}))))},n.state={videoStatus:t.showVideo?te.Visible:te.Hidden},n}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.showVideo,i=t.videoStatus,a=!0===n&&Object.keys(Y).some((function(e){return Y[e]===i})),r=!1===n&&Object.keys(Q).some((function(e){return Q[e]===i}));return a||r?{videoStatus:a?te.Enter:te.Leave}:null},t.prototype.componentDidUpdate=function(e,t){var n=t.videoStatus;this.state.videoStatus===te.Leave&&n!==te.Leave&&this.fadeVideoOut()},t.prototype.render=function(){var e=o("featured-content-carousel-featured-item","featured-content-carousel-featured-item--offset-"+Math.abs(this.props.offsetFromCenter),{"featured-content-carousel-featured-item--mischief":this.props.hasTakeoverAd});return a.createElement("div",Object(r.__assign)({},Object(J.a)(this.props)),a.createElement("div",{className:e},a.createElement(K.a,{position:O.n.Relative,overflow:O.m.Hidden,elevation:3,background:O.d.AccentAlt2,fullWidth:!0,fullHeight:!0},a.createElement(X.a,{className:o("featured-content-carousel-featured-item__overlay","featured-content-carousel-featured-item__overlay--offset-"+Math.abs(this.props.offsetFromCenter)),position:O.n.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0,background:O.d.Overlay},a.createElement("div",{onClick:this.onClick,"data-test-selector":z.NoVideoWrapper})),this.renderVideo(),0===this.props.offsetFromCenter&&a.createElement(N.a,{position:O.n.Absolute,attachTop:!0,attachLeft:!0,margin:{top:1,left:1},zIndex:O.s.Above},a.createElement($.a,{label:Object(l.d)("Live","CarouselPlayerFeaturedItem")})),this.props.item.content.previewImageURL&&a.createElement(X.a,{fullWidth:!0},a.createElement(Z.a,{src:this.props.item.content.previewImageURL,alt:this.props.item.title,"data-test-selector":z.Image})))))},t.prototype.renderVideo=function(){if(this.props.item.content.id&&this.state.videoStatus!==te.Hidden)return a.createElement(N.a,{position:O.n.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0,zIndex:O.s.Above,"data-test-selector":z.Video,fullHeight:!0},this.state.videoStatus===te.Enter&&a.createElement(K.a,{position:O.n.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0,display:O.g.Flex,alignItems:O.b.Center,justifyContent:O.l.Center,color:O.f.Overlay},a.createElement(ee.a,{delay:this.props.transitionDuration+500,size:ee.b.Large,inheritColor:!0})),this.renderVideoHelper())},t}(a.Component),ie=Object(c.d)(Object(G.withLatencyTracking)("FeaturedItem",{autoReportInteractive:!0}),s.l)(ne),ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(ie,Object(r.__assign)({},this.props,{autoplay:!this.props.disableAutoplay}))},t}(a.Component),re=Object(c.d)(Object(f.b)((function(e){return{disableAutoplay:!(!l.p.integrations.app&&!e.modal.show)}})))(ae);var oe,se=n("4rCz"),ce=n("7d/q"),le=n("C7sF"),de=(n("DuIN"),function(e){return a.createElement(K.a,{position:O.n.Absolute,attachLeft:e.left,attachRight:e.right,zIndex:O.s.Above,borderRadius:O.e.Large,className:"carousel-player-nav-arrow__container"},a.createElement(N.a,{display:O.g.Flex,alignItems:O.b.Center,justifyContent:O.l.Center},a.createElement(ce.a,Object(r.__assign)({icon:e.right&&le.a.AngleRight||le.a.AngleLeft,size:ce.b.Large,"aria-label":e.right?Object(se.d)("Right Arrow","NavArrow"):Object(se.d)("Left Arrow","NavArrow"),onClick:e.onClick},Object(J.a)(e)))))}),ue=n("kW4h"),me=(n("7D17"),5),pe=200;!function(e){e.LeftArrow="featured-content-carousel-left-arrow",e.Placeholder="featured-content-carousel-placeholder",e.RightArrow="featured-content-carousel-right-arrow"}(oe||(oe={}));var ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={listOffset:0,listOffsetWillChange:0,listOffsetIsChanging:0,listOffsetLastChanged:0,containerWidth:null,containerHeight:null},t.carouselItems=[],t.options={transitionDuration:450,transformScale:.7},t.initialResizeEventFired=!1,t.displayTracked=!1,t.recalculateTimeout=0,t.setContainerRef=function(e){t.containerRef=e,t.initialResizeEventFired||(t.recalculateDimensions(),t.initialResizeEventFired=!0)},t.onListItemClick=function(e){return function(){t.triggerListOffsetChange(-e)}},t.navigateLeft=function(){t.triggerListOffsetChange(-1)},t.navigateRight=function(){t.triggerListOffsetChange(1)},t.getItemContainerWidthPixels=function(){return W(t.props.hasTakeoverAd)?750:530},t.triggerListOffsetChange=function(e){if(0===t.state.listOffsetIsChanging||Math.sign(e)===Math.sign(t.state.listOffsetIsChanging)){var n=Date.now(),i=t.options.transitionDuration/3;if(!(n<t.lastChangeStartedAt+i)){t.lastChangeStartedAt=n;var a=t.getMedianCount()+e,r=t.carouselItems.length-t.getMedianCount()+a+t.state.listOffset,o=I(t.carouselItems.length,r);t.trackCarouselClick(t.carouselItems[o]),t.setState((function(t){return{listOffsetWillChange:t.listOffsetWillChange+e}}),(function(){requestAnimationFrame((function(){t.setState((function(e){return{listOffset:e.listOffset+e.listOffsetWillChange,listOffsetIsChanging:e.listOffsetIsChanging+e.listOffsetWillChange,listOffsetWillChange:0}})),clearTimeout(t.transitionCompletionTimeout),t.transitionCompletionTimeout=setTimeout((function(){t.setState((function(e){return{listOffsetIsChanging:0,listOffsetLastChanged:e.listOffsetIsChanging}}))}),t.options.transitionDuration)}))}))}}},t.trackCarouselClick=function(e){V({broadcast_type:e.content.subType,carousel_index:t.carouselItems.indexOf(e),channel:e.broadcaster.login,game:e.content.gameName,promotion_was_scheduled:e.isScheduled,views:e.content.viewersCount})},t.getNumToDisplay=function(){if(!t.props.data||t.props.data.loading||!t.props.data.featuredStreams)return me;var e=Math.min(t.props.data.featuredStreams.length,me);return e%2?e:e-1},t.getMedianCount=function(){return Math.ceil(t.getNumToDisplay()/2)},t.getOffsetFromCenter=function(e){return Math.abs(t.getMedianCount()-e)},t.debounceRecalculateDimensions=function(){clearTimeout(t.recalculateTimeout),t.recalculateTimeout=setTimeout((function(){t.recalculateDimensions()}),pe)},t.recalculateDimensions=function(){if(t.containerRef){var e=t.containerRef.getBoundingClientRect();t.setState({containerWidth:e.width,containerHeight:e.height})}},t.renderItem=function(e,n,i){var r,s=t.carouselItems.indexOf(e),c=n===t.getMedianCount()&&0===t.state.listOffsetIsChanging&&0===t.state.listOffsetWillChange,l=c?"featured-item":void 0,d=c?"featured-item-index-"+s:void 0;return a.createElement("div",{key:e.content.id+"-"+i,style:{position:"absolute",top:0,left:"calc(50% - "+t.getItemContainerWidthPixels()/2+"px)",zIndex:t.getMedianCount()-t.getOffsetFromCenter(n),transform:t.transformX(n)+" scale("+t.transformScalePercent(n)+")",transition:"all "+t.options.transitionDuration+"ms ease"},className:o((r={"featured-content-carousel__item-container":!0,"featured-content-carousel__item-container--description":W(t.props.hasTakeoverAd),"featured-content-carousel__item-container--leaving-or-entering":t.getOffsetFromCenter(n)>=t.getMedianCount()},r["featured-content-carousel__item-container--offset-"+t.getOffsetFromCenter(n)]=!0,r["featured-content-carousel__item-container--"+t.getPositionString(n)]=!0,r)),"data-a-target":d},a.createElement(re,{onClick:t.onListItemClick(t.getMedianCount()-n),index:s,item:e,isRightSide:t.shouldMetaBeDisplayedOnRight(n),showVideo:c,isScheduled:e.isScheduled,hasTakeoverAd:t.props.hasTakeoverAd,transitionDuration:t.options.transitionDuration,offsetFromCenter:t.getMedianCount()-n,"data-a-target":l}))},t.shouldMetaBeDisplayedOnRight=function(e){var n=t.getMedianCount();return e!==n?e>n:t.state.listOffsetIsChanging>0||0===t.state.listOffsetIsChanging&&t.state.listOffsetLastChanged>0},t.transformX=function(e){var n=t.getMedianCount();if(e===n||null===t.state.containerWidth)return"";for(var i=200,a=1;a<=t.getNumToDisplay();a++)i+=t.transformScalePercent(a)*t.getItemContainerWidthPixels();var r=t.getOffsetFromCenter(e)/(n-1),o=Math.min(t.state.containerWidth,i)/2*r;return e<n?"translatex(-"+o+"px) translatex("+50*r+"%)":e>n?"translatex("+o+"px) translatex(-"+50*r+"%)":""},t.transformScalePercent=function(e){var n=t.getOffsetFromCenter(e),i=t.getMedianCount()-1,a=(1-t.options.transformScale)/i;return Math.max(0,1-n*a)},t.getPositionString=function(e){var n=t.getMedianCount(),i=t.getOffsetFromCenter(e);return e<n?"left-"+i:e>n?"right-"+i:"center"},t}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.debounceRecalculateDimensions,!0)},t.prototype.componentDidUpdate=function(e){this.props.sideNavCollapsed!==e.sideNavCollapsed&&requestAnimationFrame(this.recalculateDimensions)},t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive(),window.addEventListener("resize",this.debounceRecalculateDimensions,!0)},t.prototype.render=function(){return this.props.hideCarousel||this.props.data&&this.props.data.error?null:a.createElement("div",{ref:this.setContainerRef,className:"featured-content-carousel__wrapper"},a.createElement(N.a,{display:O.g.Flex,alignItems:O.b.Center,justifyContent:O.l.Center,position:O.n.Relative,className:"featured-content-carousel"},a.createElement(de,{left:!0,onClick:this.navigateLeft,"data-test-selector":oe.LeftArrow,"data-a-target":"featured-item-left-button"}),a.createElement(de,{right:!0,onClick:this.navigateRight,"data-test-selector":oe.RightArrow,"data-a-target":"featured-item-right-button"}),this.renderItems()))},t.prototype.renderPlaceholders=function(){var e=this;return Array.from({length:me},(function(t,n){var i;return a.createElement("div",{key:n+1,style:{position:"absolute",top:0,left:"calc(50% - "+e.getItemContainerWidthPixels()/2+"px)",zIndex:e.getMedianCount()-e.getOffsetFromCenter(n+1),transform:e.transformX(n+1)+" scale("+e.transformScalePercent(n+1)+")"},className:o((i={"featured-content-carousel__item-container":!0,"featured-content-carousel__item-container--description":W(e.props.hasTakeoverAd),"featured-content-carousel__item-container--leaving-or-entering":e.getOffsetFromCenter(n+1)>=e.getMedianCount()},i["featured-content-carousel__item-container--offset-"+e.getOffsetFromCenter(n+1)]=!0,i["featured-content-carousel__item-container--"+e.getPositionString(n+1)]=!0,i)),"data-test-selector":oe.Placeholder},a.createElement(K.a,{className:o("featured-content-carousel__item-placeholder",{"featured-content-carousel__item-placeholder--description":W(e.props.hasTakeoverAd)}),background:O.d.Alt2,elevation:3}))}))},t.prototype.renderItems=function(){if(!this.props.data||this.props.data.loading||!this.props.data.featuredStreams)return this.renderPlaceholders();var e,t,n=[];this.carouselItems.length||(this.carouselItems=function(e){var t=[],n=e.featuredStreams;if(!n)return t;for(var a=0,r=n;a<r.length;a++){var o=r[a];if(o){var s="",c="",l=null;o.stream&&o.stream.game&&(null!==o.stream.game.name&&(s=o.stream.game.name),null!==o.stream.game.displayName&&(c=o.stream.game.displayName)),o.stream&&o.stream.broadcaster&&(l=o.stream.broadcaster);var d={broadcaster:{displayName:l&&l.displayName?l.displayName:"",id:l&&l.id?l.id:"",login:l&&l.login?l.login:"",profileImageURL:l&&l.profileImageURL?l.profileImageURL:""},content:{id:l&&l.login?l.login:"",gameName:s,gameDisplayName:c,previewImageURL:o.stream&&o.stream.previewImageURL?o.stream.previewImageURL:"",type:i.Stream,subType:o.stream&&o.stream.type?o.stream.type:"",viewersCount:o.stream&&o.stream.viewersCount?o.stream.viewersCount:0},description:o.description,isScheduled:o.isScheduled||!1,isSponsored:o.isSponsored||!1,priorityLevel:o.priorityLevel||10,title:o.title||"",tags:o.stream&&o.stream.tags};t.push(d)}}return t}(this.props.data)),this.displayTracked||(e=this.carouselItems,t={},e.forEach((function(e,n){t["carousel_slot_"+n+"_channel"]=e.broadcaster.login,t["carousel_slot_"+n+"_priority"]=e.priorityLevel,t["carousel_slot_"+n+"_game"]=e.content.gameName,t["carousel_slot_"+n+"_ccu"]=e.content.viewersCount,t["carousel_slot_"+n+"_type"]=e.content.subType,e.isScheduled?t["carousel_slot_"+n+"_source"]=A:t["carousel_slot_"+n+"_source"]=M})),l.o.track(g.SpadeEventType.FrontPageCarouselDisplay,t),this.displayTracked=!0);var a=1,r=this.getNumToDisplay();a+=Math.min(this.state.listOffsetWillChange,0)-Math.max(this.state.listOffsetIsChanging,0),r+=Math.max(this.state.listOffsetWillChange,0)-Math.min(this.state.listOffsetIsChanging,0);for(var o=a;o<=r;o++)n.push(this.getItemForSlot(o));return n},t.prototype.getItemForSlot=function(e){var t,n,i=this.carouselItems.length-this.getMedianCount()+e+this.state.listOffset,a=I(this.carouselItems.length,i),r=(t=this.carouselItems.length,n=i,Math.floor(n/t));return this.renderItem(this.carouselItems[a],e,r)},t}(a.Component),he=Object(c.d)(Object(d.a)(ue,{options:function(){return{variables:{language:l.p.intl.getLanguageCode(),first:8,acceptedMature:l.m.get("mature",!1)}}},skip:function(e){return!e.firstPageLoaded}}),Object(G.withLatencyTracking)("LoggedInCarousel"))(ge);var fe=Object(f.b)((function(e){return{sideNavCollapsed:!e.ui.sideNavExpanded,firstPageLoaded:e.session.firstPageLoaded}}))(he),ve=n("2aVy"),ke=n("Bh3T"),be=n("JoTo"),ye=n("cnlr"),Ce=n("MJbm"),Te=n("Uive"),Se=(n("oHFS"),970),we=0,_e="#google_ads_iframe_\\/3576121\\/twitch\\/headliner_0__container__",Ie="frontpage-headliner",Ee="frontpage-headliner-layout",Pe=function(e){function t(t){var n=e.call(this,t)||this;return n.onResize=function(e){we&&clearTimeout(we),we=setTimeout((function(){n.setState((function(t){var n=e<Se;return{shouldRenderAd:t.shouldRenderAd||!n,isAdHidden:n}})),we=0}),50)},n.onSlotRendered=function(e){if("headliner"===e.slot.getSlotElementId()&&n.slotRef.current){!e.isEmpty&&n.props.onSlotFilled&&n.props.onSlotFilled();var t=n.slotRef.current.querySelector(_e);if(t){t.style.height="100%",t.style.width="100%";var i=t.querySelector("iframe");i&&(i.style.height="100%",i.style.width="100%",i.height="100%",i.width="100%")}}},n.state={isAdHidden:!0,shouldRenderAd:!1},n.slotRef=a.createRef(),n}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(N.a,{className:"headliner-ad",position:O.n.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0},a.createElement(Ce.a,{onResize:this.onResize}),a.createElement(N.a,{display:this.state.isAdHidden?O.g.Hide:O.g.Block,fullWidth:!0,fullHeight:!0,"data-a-target":Ee},a.createElement("div",{style:{width:"100%",height:"100%"},ref:this.slotRef},this.renderAd())))},t.prototype.componentDidMount=function(){h.g.addListener(h.f,this.onSlotRendered)},t.prototype.componentWillUnmount=function(){h.g.removeListener(h.f,this.onSlotRendered)},t.prototype.renderAd=function(){if(this.state.shouldRenderAd)return a.createElement(Te.a,{adSize:h.c.headliner,adUnit:h.d.headliner,autoEnable:!1,injectStyles:{height:"100%",width:"100%"},slotID:h.b.headliner,targeting:{pagetype:h.a.frontpage},"data-a-target":Ie})},t}(a.Component),Ne=n("0JAG"),Oe=n("kRBY"),De=n("wgyx"),Fe=n("ZS2+"),Le=n("BxgR"),je=n("RXle"),xe=n("fXu0"),Re=n("b0Hx"),Ae=n("x75U"),Me=n("K+jS"),Ve=n("DMoW");var Ge,He=n("A65o"),Ue=n("fPaz"),Be=n("tlKs");n("bY5W");!function(e){e.Viewers="mischief-boxart-viewers"}(Ge||(Ge={}));var qe,We=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBoxArtClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.contentEdge.node;if(n&&"Stream"===n.__typename){var i=n.game;if(i){var a=g.PageviewContent.MischiefGameBoxArt,o=Object(r.__assign)(Object(r.__assign)({},t.props.shelfCardTrackingProps),{tag_set:[],tag_filter_set:[],tag_streamer_set:[]}),s={pathname:Object(v.a)(i.name),state:Object(r.__assign)({content:a,content_index:t.props.itemPosition,medium:g.PageviewMedium.TwitchHome},o)};t.props.trackClick(a,[],void 0,{contentTypeOverride:De.b.Game,rowPosition:t.props.rowPosition}),l.p.history.push(s.pathname,s.state)}}},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.impressionListener.registerImpressionCallback((function(){var t=function(e){var t=e.node;if(t&&"Stream"===t.__typename){var n=t.game;if(n)return{__typename:e.__typename,cursor:e.cursor,trackingID:e.trackingID,node:n,promotionsCampaignID:"",sourceType:Ve.Td.RECOMMENDED}}}(e.props.contentEdge);e.props.trackImpression([],{contentEdge:t,rowPosition:e.props.rowPosition})}))},t.prototype.render=function(){var e=this.props.contentEdge.node;if(!e||"Stream"!==e.__typename)return null;var t=e.broadcaster,n=e.game,i=t&&t.login;if(!n||!n.boxArtURL||!i)return null;var r=Object(l.d)("{gameName} Box Art",{gameName:n.name},"LiveShelfCard"),o=this.dynamicStyle(),s=o.topSize,c=o.bottomSize;return a.createElement(N.a,{fullHeight:!0,display:O.g.Flex,flexDirection:O.h.Column,className:"live-shelf-boxart-card"},a.createElement(N.a,{flexShrink:0},a.createElement(Ue.b,{ratio:Ue.c.Aspect3x4},a.createElement(Be.a,{onClick:this.onBoxArtClick,linkTo:Object(v.a)(n.name)},a.createElement(L.a,{fullWidth:!0,fullHeight:!0},a.createElement(Z.a,{src:n.boxArtURL,alt:r}))))),a.createElement(N.a,{display:O.g.Flex,flexDirection:O.h.Column,justifyContent:O.l.Center,alignItems:O.b.Center,padding:{y:.5},"data-test-selector":Ge.Viewers,textAlign:O.p.Center,fullHeight:!0,flexGrow:1},Object(l.d)("<x:count>{viewersCount}</x:count> <x:subtitle>Watching</x:subtitle>",{"x:count":function(e){return a.createElement(Me.a,{size:s},e)},"x:subtitle":function(e){return a.createElement(j.a,{fontSize:c},e)},viewersCount:Object(se.g)(n.viewersCount||0)},"LiveShelfCard")))},t.prototype.dynamicStyle=function(){var e=this.props.cardWidth;return e<380?{topSize:Me.b.Small,bottomSize:O.j.Size7}:e<415?{topSize:Me.b.Default,bottomSize:O.j.Size6}:e<500?{topSize:Me.b.Default,bottomSize:O.j.Size5}:{topSize:Me.b.Large,bottomSize:O.j.Size4}},t}(a.Component),ze=Object(c.d)(Object(xe.a)("LiveShelfBoxArtCard",{percentage:75,impressionWrapperClassName:"live-shelf-card--impression-wrapper"}),Object(He.a)())(We),Qe=(n("Kf84"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={videoHasStarted:!1},t.videoHasPlayed=function(){t.state.videoHasStarted||t.setState({videoHasStarted:!0})},t.onStreamClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.contentEdge.node;if(n&&"Stream"===n.__typename){var i=n.broadcaster,a=i&&i.login,o=g.PageviewContent.MischiefVideoThumbnail,s={pathname:"/"+a,state:Object(r.__assign)({content:o,content_index:t.props.itemPosition,medium:g.PageviewMedium.TwitchHome},t.props.shelfCardTrackingProps)},c=n.game;t.props.trackClick(o,[],void 0,{contentTypeOverride:De.b.Preview,reasonTarget:c&&c.id||void 0,reasonTargetType:De.b.Game,rowPosition:t.props.rowPosition}),l.p.history.push(s.pathname,s.state)}},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.impressionListener.registerImpressionCallback((function(){var t=e.props.contentEdge.node;if(t&&"Stream"===t.__typename){var n=t.game;e.props.trackImpression([],{rowPosition:e.props.rowPosition,contentTypeOverride:De.b.Preview,reasonTarget:n&&n.id||void 0,reasonTargetType:De.b.Game})}}))},t.prototype.render=function(){var e=this.props.contentEdge.node;if(!e||"Stream"!==e.__typename)return null;var t=e.broadcaster,n=e.game,i=e.previewImageURL,r=t&&t.login;return n&&n.boxArtURL&&r?a.createElement(Be.a,{onClick:this.onStreamClick,linkTo:"/"+r},a.createElement(N.a,{overflow:O.m.Hidden},a.createElement(Ue.b,{ratio:Ue.c.Aspect16x9},i&&a.createElement(L.a,{position:O.n.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0},a.createElement(Z.a,{src:i,alt:Object(l.d)("Stream Preview","LiveShelfCard")})),a.createElement(N.a,{position:O.n.Absolute,attachLeft:!0,attachTop:!0,fullWidth:!0,zIndex:O.s.Above,display:O.g.Flex,alignItems:O.b.Start,justifyContent:O.l.End,padding:1},a.createElement(K.a,{alignItems:O.b.Center,borderRadius:O.e.Small,className:"live-shelf-stream-card--status-indicator",padding:{x:1,y:.5}},a.createElement(j.a,{color:O.f.Overlay,fontSize:O.j.Size5},Object(l.d)("LIVE","ChannelStatusTextualIndicator")))),a.createElement("div",{className:o("live-shelf-stream-card--video",{"live-shelf-stream-card--video-started":this.state.videoHasStarted})},this.props.shouldRenderVideo&&a.createElement(b.a,{content:{type:T.a.Live,channelLogin:r},behaviors:{showChannelInfoOnHover:!1,disableTheatreMode:!0,disableAudio:!0,forceControlVisibility:C.a.Hidden,disableUserPreferencePersistence:!0,forceQuality:S.f.VeryLow},callbacks:{onPlaying:this.videoHasPlayed},type:w.a.Mischief}))))):null},t}(a.Component)),Ye=Object(c.d)(Object(xe.a)("LiveShelfStreamCard",{percentage:75}),Object(He.a)())(Qe);function Je(e){return e<700?qe.Size1:qe.Size2}!function(e){e[e.Size2=2]="Size2",e[e.Size1=1]="Size1"}(qe||(qe={}));var Ke;n("sSu5");!function(e){e.Stream="stream",e.BoxArt="boxart"}(Ke||(Ke={}));var Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRealItemPosition=function(e){if(t.props.layoutType===qe.Size1)return e===Ke.BoxArt?0:1;var n=2*t.props.itemPosition;return e===Ke.Stream&&n++,n%4},t.getRealRowPosition=function(){return Je(t.props.width)===qe.Size1?t.props.itemPosition+t.props.position:Math.floor(t.props.itemPosition/2)+t.props.position},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.contentEdge.node;if(!e||"Stream"!==e.__typename)return null;var t=e.broadcaster,n=e.game,i=t&&t.login;return n&&n.boxArtURL&&i?a.createElement(K.a,{className:"live-shelf-card",display:O.g.Flex,"data-test-selector":"live-shelf-card-selector",overflow:O.m.Hidden,elevation:2},a.createElement(N.a,{className:"live-shelf-card--game"},a.createElement(ze,{contentEdge:this.props.contentEdge,itemPosition:this.getRealItemPosition(Ke.BoxArt),rowPosition:this.getRealRowPosition(),shelf:this.props.shelf,pageType:this.props.pageType,cardWidth:this.props.cardWidth})),a.createElement("div",{className:"live-shelf-card--separation"}),a.createElement(N.a,{className:"live-shelf-card--video",position:O.n.Relative,flexGrow:1,fullHeight:!0},a.createElement(Ye,{contentEdge:this.props.contentEdge,itemPosition:this.getRealItemPosition(Ke.Stream),shelf:this.props.shelf,rowPosition:this.getRealRowPosition(),shouldRenderVideo:this.props.shouldRenderVideo}))):null},t}(a.Component),$e=(n("CYVv"),l.b.get("mischief_video_threshold_ms",1e4)),Ze=function(e){function t(t){var n=e.call(this,t)||this;return n.setPageloadTiming=function(){var e=Date.now()-performance.timing.navigationStart;n.setState({isSlowDeviceConnection:e>$e})},n.getRow=function(e){return Je(n.props.width)===qe.Size1?e+n.props.position:Math.floor(e/2)+n.props.position},n.trackTitleClick=function(){return n.props.trackComponentClick(De.a.Header)},n.trackTitleImpression=function(){return n.props.trackComponentImpression(n.props.shelf,De.a.Header)},n.initialFirstPageLoaded=n.props.firstPageLoaded,n.state={isSlowDeviceConnection:!n.props.firstPageLoaded},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.impressionListener.registerImpressionCallback(this.trackTitleImpression),!this.initialFirstPageLoaded&&this.props.firstPageLoaded&&this.setPageloadTiming()},t.prototype.componentDidUpdate=function(e){!e.firstPageLoaded&&this.props.firstPageLoaded&&this.setPageloadTiming()},t.prototype.render=function(){var e=this,t=this.props.shelf,n=Je(this.props.width),i=[],r=t.content&&t.content.edges;if(r&&r.forEach((function(r,o){r&&r.node&&e.shouldRenderNode(r.node)&&i.push(a.createElement(N.a,{key:r.node.id,margin:{x:.5,bottom:1},flexGrow:1},a.createElement(Xe,{shelf:t,contentEdge:r,itemPosition:o,pageType:e.props.pageType,rowPosition:e.getRow(o),position:e.props.position,cardWidth:e.props.width/n,width:e.props.width,layoutType:n,shouldRenderVideo:e.props.firstPageLoaded&&!e.state.isSlowDeviceConnection})))})),i.length<this.props.itemsToDisplay)return null;i=i.slice(0,this.props.itemsToDisplay);var o=null;return o=n===qe.Size1?this.renderSmallView(i):n===qe.Size2?this.renderDefaultView(i):this.renderLargeView(i),a.createElement(N.a,{key:t.id},a.createElement(K.a,{color:O.f.Base,className:"live-card-shelf",margin:{bottom:2}},a.createElement(Me.a,{type:j.e.H3},a.createElement(N.a,{padding:{bottom:1},display:O.g.Flex,justifyContent:O.l.Center},a.createElement(N.a,null,a.createElement(Re.a,{title:t.title,shelfTrackingProps:this.props.shelfTrackingProps,trackTitleClick:this.trackTitleClick})))),o))},t.prototype.renderLargeView=function(e){return a.createElement(N.a,{display:O.g.Flex},e)},t.prototype.renderDefaultView=function(e){var t=e.length/2,n=e.slice(0,t),i=e.slice(t,e.length);return a.createElement(a.Fragment,null,a.createElement(N.a,{display:O.g.Flex},n),a.createElement(N.a,{display:O.g.Flex},i))},t.prototype.renderSmallView=function(e){return a.createElement(N.a,null,e)},t.prototype.shouldRenderNode=function(e){return!!(e&&e.id&&e.__typename)&&!!("Stream"!==e.__typename||(e=e).previewImageURL&&e.broadcaster&&e.broadcaster.login&&e.game&&e.game.boxArtURL)},t}(a.Component),et=Object(c.d)(Object(xe.a)("LiveShelf",{percentage:15}),Object(Ae.b)())(Ze),tt=n("9L5u"),nt=n("nsVP"),it=n("w09P"),at=n("geRD");var rt,ot=n("3sMy"),st=n("PL8s"),ct=n("uOxs"),lt=n("7uM4"),dt=n("dEDE"),ut=Fe.a.wrap((function(){return n.e(230).then(n.bind(null,"GqGv"))}),"EntityDisclosure");!function(e){e.ErrorImage="recommended-content-error-img"}(rt||(rt={}));var mt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={requestID:t.props.initialRequestID},t.renderShelves=function(){if(!t.props.data.shelves||!t.props.data.shelves.edges)return null;var e=!1;return t.props.data.shelves.edges.map((function(n,i){return t.numToRenderInitially||(t.numToRenderInitially=t.calculateNumShelvesInitially()),i>t.numToRenderInitially-1&&!t.props.firstPageLoaded?null:n.node&&n.node.title&&n.node.title.key===ot.a.TopMischief||n.node.title.key===ot.a.MischiefForYou?(e=!0,a.createElement(et,{key:n.node.id,shelf:n.node,itemsToDisplay:4,position:i,requestID:t.state.requestID,pageType:De.e.FrontPage,width:t.props.width,firstPageLoaded:t.props.firstPageLoaded})):a.createElement(tt.a,{key:n.node.id,shelf:n.node,position:e?i-1:i,itemsToDisplay:t.props.itemsToDisplay,requestID:t.state.requestID,pageType:De.e.FrontPage,hideRecFeedback:!t.props.isLoggedIn})})).filter((function(e){return e}))},t.trackRecRequest=function(e){var t={endpoint:De.d.Live,requestID:e,section:De.c.TwitchHome};Object(De.l)(t)},t.renderEntityDisclosure=function(){return t.props.firstPageLoaded&&!t.props.isLoggedIn&&Object(Le.a)()?a.createElement(ut,null):null},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.trackRecRequest(this.state.requestID)},t.prototype.componentDidUpdate=function(e){if(this.props.data.error)this.props.latencyTracking.reportInteractive();else{var t=this.props.data.shelves&&this.props.data.shelves.edges;if(!this.props.data.loading&&t&&(this.props.latencyTracking.reportInteractive(),e.itemsToFetch!==this.props.itemsToFetch)){for(var n=[],i=0,a=t;i<a.length;i++){var r=a[i];r&&r.node&&r.node.content&&r.node.content.edges&&n.push(r.node.content.edges.length)}if(this.props.itemsToFetch>Math.min.apply(Math,n)){var o=Object(De.h)();this.props.loadMore(o),this.trackRecRequest(o),this.setState({requestID:o})}}}},t.prototype.render=function(){return a.createElement(N.a,{padding:{bottom:5}},this.renderContent(),this.renderEntityDisclosure())},t.prototype.renderContent=function(){return this.props.data.shelves&&this.props.data.shelves.edges?this.renderShelves():this.props.data.loading?this.renderLoading():this.props.data.error?this.renderError():null},t.prototype.renderLoading=function(){for(var e=this.props.itemsToDisplay,t=[],n=[],i=0;i<e;i++)n.push(a.createElement(je.VideoPreviewCardPlaceholder,{key:"frontpage-thumbnails-placeholder-"+i}));for(i=0;i<3;i++)t.push(a.createElement(N.a,{margin:{bottom:2},key:"frontpage-shelves-placeholder-"+i},a.createElement(N.a,{margin:{bottom:1}},a.createElement(st.a,{height:25,width:150})),a.createElement(ct.a,{gutterSize:ct.c.ExtraSmall,childWidth:ct.b.Medium,placeholderItems:0},n)));return a.createElement(a.Fragment,null,t)},t.prototype.calculateNumShelvesInitially=function(){var e=(window.innerHeight||document.documentElement.clientHeight||screen.height)-400;return Math.ceil(e/350)},t.prototype.renderError=function(){return a.createElement(K.a,{textAlign:O.p.Center,fullWidth:!0,fullHeight:!0},a.createElement(lt.a,{asset:le.a.DeadGlitch,width:200,height:200,"data-test-selector":rt.ErrorImage}),a.createElement(j.a,{fontSize:O.j.Size4},Object(l.d)("Something went wrong...","RecommendedContent")),a.createElement(j.a,{fontSize:O.j.Size5,color:O.f.Alt2},Object(l.d)("We couldn't find your recommendations","RecommendedContent")),a.createElement(N.a,{padding:{top:1}},a.createElement(dt.a,{linkTo:"/directory"},Object(l.d)("Browse channels","RecommendedContent"))))},t}(a.Component),pt=Object(c.d)(Object(d.c)(nt,{options:function(e){return{fetchPolicy:"network-only",errorPolicy:"no-cache-write",variables:{itemsPerRow:e.itemsToFetch,langWeightedCCU:!e.isLoggedIn||void 0,platform:"web",requestID:e.initialRequestID}}},props:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{loadMore:function(t){return e.data.fetchMore({query:nt,variables:{itemsPerRow:e.ownProps.itemsToFetch,langWeightedCCU:!e.ownProps.isLoggedIn||void 0,platform:"web",requestID:t},updateQuery:function(e,t){return function(e,t){return it(e,(function(e){return e&&e.shelves&&e.shelves.edges}),(function(e){return e&&t&&t.shelves&&t.shelves.edges?(t.shelves.edges.forEach((function(t){for(var n=!1,i=0;i<e.length;i++)if(e[i].node.id===t.node.id){n=!0,e[i]=it(e[i],(function(e){return e.node.content.edges}),(function(e){return e&&t&&t.node&&t.node.content&&t.node.content.edges?Object(at.d)(e,t.node.content.edges):null}));break}n||e.push(t)})),e):null}))}(e,t.fetchMoreResult)}})}})}}),Object(G.withLatencyTracking)("RecommendedContent"))(mt),gt=n("eh8k"),ht=2,ft=10;var vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={initialItemsToFetch:0,itemsToFetch:0,itemsToDisplay:0,width:0},t.onResize=function(e){if(e!==t.width){t.width=e;var n=Math.max(ht,Object(Ne.a)(e+ft,300,1)),i=n*gt.a;t.state.initialRequestID?i===t.state.itemsToFetch&&e===t.state.width||t.setState({itemsToFetch:i,itemsToDisplay:n,width:e}):t.setState({initialItemsToFetch:i,initialRequestID:Object(De.h)(),itemsToFetch:i,itemsToDisplay:n,width:e})}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.state.initialItemsToFetch>0&&this.state.initialRequestID?a.createElement(pt,{initialItemsToFetch:this.state.initialItemsToFetch,itemsToFetch:this.state.itemsToFetch,initialRequestID:this.state.initialRequestID,isLoggedIn:this.props.isLoggedIn,itemsToDisplay:this.state.itemsToDisplay,firstPageLoaded:this.props.firstPageLoaded,width:this.state.width}):null;return a.createElement(a.Fragment,null,e,a.createElement(Ce.a,{onResize:this.onResize}))},t}(a.Component),kt=Object(f.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isLoggedIn:Object(Oe.f)(e)}}))(vt),bt=n("6Oka"),yt=(n("X2bz"),n("rBXG")),Ct=1020,Tt=50,St=function(e){function t(t){var n=e.call(this,t)||this;return n.recalculateTimeout=0,n.onSlotFilled=function(){n.setState({hasTakeoverAd:!0})},n.onSlotAdded=function(){n.setState((function(e){var t=e.numSlotsAdded+1,n=h.b.headliner;return 1===t&&p.a.display(n),{numSlotsAdded:t}}))},n.recalculateDimensions=function(){n.setState({useMischiefStyles:window.innerWidth>=Ct})},n.debounceRecalculateDimensions=function(){clearTimeout(n.recalculateTimeout),n.recalculateTimeout=setTimeout((function(){n.recalculateDimensions()}),Tt)},n.state={numSlotsAdded:0,hasTakeoverAd:!1,useMischiefStyles:window.innerWidth>=Ct},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){l.p.setPageTitle(),h.g.addListener(h.e,this.onSlotAdded),window.addEventListener("resize",this.debounceRecalculateDimensions,!0)},t.prototype.componentWillUnmount=function(){h.g.removeListener(h.e,this.onSlotAdded),window.removeEventListener("resize",this.debounceRecalculateDimensions,!0)},t.prototype.render=function(){return a.createElement(K.a,{fullHeight:!0},a.createElement(be.a,null,a.createElement(ye.UpsellCenter,null)),a.createElement(ke.b,{suppressScrollX:!0,disableDebounce:!0}),this.renderFeaturedCarousel(),a.createElement(N.a,{className:"front-page__recommended-content-container"},a.createElement(N.a,{margin:3},a.createElement(kt,null))),a.createElement(ve.a,null))},t.prototype.renderFeaturedCarousel=function(){return this.isCarouselHoldback()&&!this.isPartnerOrStaff()?a.createElement(fe,{hideCarousel:!0,hasTakeoverAd:this.state.hasTakeoverAd}):a.createElement(K.a,{className:o({"front-page-carousel":!0,"front-page-carousel--mischief":this.state.useMischiefStyles&&this.state.hasTakeoverAd,"front-page-carousel--with-takeover":this.state.hasTakeoverAd}),padding:this.state.useMischiefStyles&&this.state.hasTakeoverAd?void 0:{x:3,top:2}},this.renderAd(),a.createElement(fe,{hasTakeoverAd:this.state.hasTakeoverAd}))},t.prototype.renderAd=function(){return a.createElement(Pe,{onSlotFilled:this.onSlotFilled})},t.prototype.isCarouselHoldback=function(){return void 0===this.isCarouselHoldbackCache&&(this.isCarouselHoldbackCache="experiment"===l.p.experiments.getAndTrackAssignment(u.c.CarouselHoldback)),this.isCarouselHoldbackCache},t.prototype.isPartnerOrStaff=function(){return!(!this.props.data||this.props.data.loading||this.props.data.error||!this.props.data.currentUser||!this.props.data.currentUser.roles)&&(this.props.data.currentUser.roles.isPartner||this.props.data.currentUser.roles.isStaff)},t}(a.Component),wt=Object(c.d)(s.l,Object(d.a)(bt,{options:{variables:{limit:yt.a}}}))(St),_t=Object(G.withPageTracking)("AnonFrontPage",{autoReportInteractive:!0,destination:m.a.Index,location:g.PageviewLocation.FrontPage})(wt),It=Object(G.withPageTracking)("FrontPage",{autoReportInteractive:!0,destination:m.a.Index,location:g.PageviewLocation.FrontPage})(wt);function Et(e){return e.isLoggedIn?a.createElement(It,null):a.createElement(_t,null)}n.d(t,"FrontPageWrapper",(function(){return Et}))},"0zfo":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("sUnt"),s=n("+80q"),c=n("yymn"),l=n("Jsra"),d=n("hnjF"),u=n("Ws8v"),m=function(e){var t=r.createElement(o.a,{display:c.g.Flex,alignItems:c.b.Start},r.createElement(s.a,{type:s.e.H3,fontSize:c.j.Size5,lines:e.lines,ellipsis:!0},e.children),e.badge&&r.createElement(o.a,{display:c.g.InlineFlex,margin:{left:.5}},e.badge));return(e.linkTo||e.onClick||e.renderLink)&&(t=r.createElement(d.a,{fullWidth:!0},r.createElement(l.a,a()({},e,{type:l.b.Inherit,hoverUnderlineNone:!0}),t))),r.createElement(u.a,{color:c.f.Alt},t)};m.displayName="MediaCardTitle",m.defaultProps={lines:1}},"1Ijn":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPreviewCard__VideoMoments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"momentRequestType"},value:{kind:"EnumValue",value:"VIDEO_CHAPTER_MARKERS"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"videoMomentEdge"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"videoMomentEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMomentEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"videoChapter"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"videoChapter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMoment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"momentDetails"},directives:[]},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"momentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMoment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"gameChangeDetails"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"hearthstoneDetails"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"overwatchDetails"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pubgDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"gameChangeDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GameChangeMomentDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"40"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"53"}}],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"hearthstoneDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HearthstoneMomentDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"broadcasterHero"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"class"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"opponentHero"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"class"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gameMode"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"overwatchDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OverwatchMomentDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"heroName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pubgDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PUBGMomentDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"maxPlayerCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minPlayerCount"},arguments:[],directives:[]}]}}],loc:{start:0,end:946}};n.loc.source={body:"query VideoPreviewCard__VideoMoments($videoId: ID!) {\nvideo(id: $videoId) {\nid\nmoments(momentRequestType: VIDEO_CHAPTER_MARKERS) {\nedges {\n...videoMomentEdge\n}\n}\n}\n}\nfragment videoMomentEdge on VideoMomentEdge {\ncursor\nnode {\n...videoChapter\n}\n}\nfragment videoChapter on VideoMoment {\nid\ndurationMilliseconds\npositionMilliseconds\ntype\ndescription\nthumbnailURL\n...momentDetails\nvideo {\nid\nlengthSeconds\n}\n}\nfragment momentDetails on VideoMoment {\ndetails {\n...gameChangeDetails\n...hearthstoneDetails\n...overwatchDetails\n...pubgDetails\n}\n}\nfragment gameChangeDetails on GameChangeMomentDetails {\ngame {\nid\ndisplayName\nboxArtURL(width: 40 height: 53)\n}\n}\nfragment hearthstoneDetails on HearthstoneMomentDetails {\nbroadcasterHero {\nid\nclass\nname\n}\nopponentHero {\nid\nclass\nname\n}\ngameMode {\ntype\nvalue\n}\n}\nfragment overwatchDetails on OverwatchMomentDetails {\nrole\nheroName\n}\nfragment pubgDetails on PUBGMomentDetails {\nmaxPlayerCount\nminPlayerCount\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPreviewCard__VideoMoments=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPreviewCard__VideoMoments")},"1mcJ":function(e,t,n){},"2aVy":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("ANjH"),s=n("/7QA"),c=n("yR8l"),l=n("XDCx"),d=n("kRBY"),u=n("6Oka"),m=n("rBXG"),p=n("Ideu"),g=n("ZS2+"),h=n("1/iK"),f=function(e){return e.getTime()>=v().getTime()},v=function(){return new Date((new Date).getTime()-12096e5)},k=n("7W27"),b=n("AO3T"),y=3;var C=g.a.wrap((function(){return n.e(92).then(n.bind(null,"pmDH"))}),"OnboardingModal"),T={action:h.a.OnboardingModal},S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldShowOnboarding=function(){return!!location.search.includes("onboard=1")||!t.props.loading&&!Object(k.b)()&&(e=t.props.followedCount,n=t.props.createdAt,e<y&&f(new Date(n))&&!Object(k.a)());var e,n},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){this.shouldShowOnboarding()&&this.startOnboarding()},t.prototype.componentDidUpdate=function(e){e.loading&&this.shouldShowOnboarding()&&this.startOnboarding()},t.prototype.startOnboarding=function(){var e;e=b.a.NewSignup,Object(b.d)({source:e}),Object(k.c)(),this.props.showOnboardingModal(T)},t}(a.Component),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.showOnboardingModal;if(!t)return null;var i=t.error,r=t.loading,o=t.currentUser,s=o&&o.followedGames&&o.followedGames.nodes,c=o&&o.createdAt;return!i&&s&&c?a.createElement(S,{loading:r,showOnboardingModal:n,followedCount:s.length,createdAt:c}):null},t}(a.Component),_=Object(o.d)(Object(r.b)((function(e){return{isUserReady:Object(d.f)(e)}}),(function(e){return Object(o.b)({showOnboardingModal:function(e){var t=Object(i.__rest)(e,[]);return Object(l.e)(C,t)}},e)})),Object(c.a)(u,{options:{variables:{limit:m.a}},skip:function(e){return!e.isUserReady||!(!s.p.integrations.app||s.p.integrations.app.id!==p.AppIntegrationID.Desklight)}}))(w);n.d(t,"a",(function(){return _}))},"3sMy":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.GreatNewClipsYouMayHaveMissed="GreatNewClipsYouMayHaveMissed",e.PopularClips="PopularClips",e.PopularVideos="PopularVideos",e.RecommendedBecauseYouWatchX="RecommendedBecauseYouWatchX",e.RecommendedBecauseYouFollowX="RecommendedBecauseYouFollowX",e.TopChannelsPlayingGame="TopChannelsPlayingGame",e.TopMischief="TopMischief",e.TopGames="TopGames",e.TopGamesForYou="TopGamesForYou",e.TopLiveChannels="TopLiveChannels",e.TopLiveChannelsYouMayLike="TopLiveChannelsYouMayLike",e.TopNewVideosYouMayHaveMissed="TopNewVideosYouMayHaveMissed",e.UpAndComingLiveChannels="UpAndComingLiveChannels",e.MischiefForYou="MischiefForYou",e._LiveRecommendationsFollowingPage="live_recs_following"}(i||(i={}))},"4HIT":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Games="/directory",e.DirectoryCategory="/directory/:category?",e.DirectoryTag="/directory/tags/:tagID",e.Popular="/directory/all",e.PopularTag="/directory/all/tags/:tagID"}(i||(i={}))},"5y8w":function(e,t,n){},"6Oka":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FrontPageNew_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followedGames"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:143}};n.loc.source={body:"query FrontPageNew_User($limit: Int) {\ncurrentUser {\nid\ncreatedAt\nfollowedGames(first: $limit) {\nnodes {\nid\n}\n}\nroles {\nisPartner\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.FrontPageNew_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"FrontPageNew_User")},"79Gn":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("kV5U"),s=n("vCsY"),c=n("hnjF"),l=n("yymn"),d=n("sUnt"),u=function(e){var t=e.meta||e.children&&e.children.meta,n=e.image||e.children&&e.children.image;return r.createElement(c.a,{margin:e.margin,display:l.g.Flex,flexDirection:l.h.Column},r.createElement("article",a()({},Object(s.a)(e),Object(o.a)(e)),r.createElement(d.a,{flexOrder:2,margin:{top:1}},t),r.createElement(d.a,{flexOrder:1},n)))};u.displayName="MediaCard",u.defaultProps={margin:{bottom:2}}},"7D17":function(e,t,n){},"7W27":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("/7QA"),a="twilight-onboarding",r="twilight-onboarding-prompt__dismissed";function o(){i.p.storage.set(a,!0)}function s(){return i.p.storage.get(a,!1)}function c(){return i.p.storage.get(r,!1)}},"7pbv":function(e,t,n){"use strict";n.r(t);var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("yR8l"),s=n("geRD"),c=n("L9xt"),l=n("Jsra"),d=n("dEDE"),u=n("C7sF"),m=n("fPaz"),p=n("hnjF"),g=n("Ws8v"),h=n("yymn"),f=n("sUnt"),v=n("Z2sP"),k=n("+80q"),b=n("qLrF"),y=n("IOBI"),C=function(e){var t=e.onClick;return a.createElement(d.a,{onClick:t,type:d.d.Text},Object(r.d)("Undo","HiddenContentNotice"))},T=function(e){var t=e.onClick;return a.createElement(d.a,{icon:u.a.Externallink,onClick:t,type:d.d.Text,targetBlank:!0,linkTo:"/settings/recommendations"},Object(r.d)("Settings","HiddenContentNotice"))},S=function(e){return{contentType:"Game"===e.__typename?b.c.Category:b.c.Channel,size:"Game"===e.__typename?b.a.Large:b.a.Small,aspectRatio:"Game"===e.__typename?m.c.BoxArt:m.c.Aspect16x9}},w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showError:!1,countdownState:b.b.Running},t.pauseCountdown=function(){t.setState({countdownState:b.b.Paused})},t.resumeCountdown=function(){t.state.countdownState!==b.b.Stopped&&t.setState({countdownState:b.b.Running})},t.onUndoClick=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t,n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!(e=this.props.addFeedbackPromise))return[2];this.setState({countdownState:b.b.Stopped}),i.label=1;case 1:return i.trys.push([1,7,,8]),[4,e];case 2:if(t=i.sent(),!(n=t.data&&t.data.addRecommendationFeedback&&t.data.addRecommendationFeedback.recommendationFeedback))return this.setState({showError:!0}),[2];a=Object(s.a)({feedbackID:n.id,sourceItemPage:c.PageviewMedium.TwitchHome,sourceItemRequestID:this.props.sourceItemRequestID||"",sourceItemTrackingID:this.props.sourceItemTrackingID||""}),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,this.props.undoFeedback(a)];case 4:return i.sent(),this.props.undoSuccessHandler(),[3,6];case 5:return i.sent(),this.setState({showError:!0}),[3,6];case 6:return[3,8];case 7:return i.sent(),this.props.undoSuccessHandler(),[3,8];case 8:return[2]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(p.a,{fullHeight:!0,margin:{bottom:3},"data-a-target":"hidden-content-notice"},a.createElement("div",{onMouseEnter:this.pauseCountdown,onMouseLeave:this.resumeCountdown},a.createElement(g.a,{display:h.g.Flex,flexDirection:h.h.Column,fullWidth:!0,fullHeight:!0,alignItems:h.b.Center,justifyContent:h.l.Center,position:h.n.Relative,background:h.d.Alt},a.createElement(f.a,{display:h.g.Flex,justifyContent:h.l.Between,alignItems:h.b.Center,flexDirection:h.h.Column},this.renderTop(),this.renderBottom()),this.props.shouldRemoveContent&&a.createElement(f.a,{position:h.n.Absolute,attachBottom:!0,fullWidth:!0},a.createElement(v.a,{animationDuration:5,animationDirection:v.b.Down,onAnimationEnd:this.props.onExpiration,size:v.c.ExtraSmall,paused:this.state.countdownState!==b.b.Running})))))},t.prototype.renderTop=function(){return a.createElement(f.a,{margin:{x:1},textAlign:h.p.Center},a.createElement(k.a,{fontWeight:h.k.SemiBold,fontSize:this.props.size===b.a.Large?h.j.Size4:this.props.size===b.a.Small?h.j.Size5:this.props.size===b.a.ExtraSmall?h.j.Size6:h.j.Size5},function(e,t){if(t===b.a.ExtraSmall)return Object(r.d)("Recommendation Removed","HiddenContentNotice");switch(e){case b.c.Shelf:case b.c.Category:return Object(r.d)("Recommended Category Removed","HiddenContentNotice");case b.c.Channel:return Object(r.d)("Recommended Channel Removed","HiddenContentNotice");default:return""}}(this.props.contentType,this.props.size)))},t.prototype.renderBottom=function(){var e=this.props.hasHorizontalLinks;return a.createElement(g.a,{margin:{top:e?0:1},textAlign:h.p.Center,fontSize:h.j.Size7,display:h.g.Flex,flexDirection:e?h.h.Row:h.h.Column},this.state.showError?Object(r.d)("Something went wrong, please <x:link-manage>click here</x:link-manage> to manage your recommendation feedback",{"x:link-manage":function(e){return a.createElement(l.a,{linkTo:"/settings/recommendations",targetBlank:!0,"data-test-selector":"hidden-content-undo-error"},e)}},"HiddenContentNotice"):a.createElement(a.Fragment,null,a.createElement(C,{onClick:this.onUndoClick}),a.createElement(T,{onClick:this.props.onManageClick})))},t}(a.Component),_=Object(o.a)(y,{name:"undoFeedback"})(w);n.d(t,"UndoLink",(function(){return C})),n.d(t,"SettingsLink",(function(){return T})),n.d(t,"mapNodeTypeToProps",(function(){return S})),n.d(t,"HiddenContentNoticeComponent",(function(){return w})),n.d(t,"HiddenContentNotice",(function(){return _})),n.d(t,"ContentNoticeSize",(function(){return b.a})),n.d(t,"HiddenContentType",(function(){return b.c})),n.d(t,"CountdownState",(function(){return b.b}))},"7qTX":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i=n("/7QA");function a(e){return"en"!==(i.p.intl.getLanguageCode()||"en").slice(0,2)?e:e.charAt(0).toUpperCase().concat(e.slice(1))}function r(e,t){return{content:e&&e.content?e.content:t,medium:e&&e.medium}}},"86FS":function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("H1ft"),o=n("yR8l"),s=function(e){return e.map((function(e){return c(e.node)}))},c=function(e){return{gameID:e.details&&!!e.details.game&&e.details.game&&e.details.game.id||"Unknown",duration:e.durationMilliseconds/1e3,label:e.description||"",offset:e.positionMilliseconds/1e3,thumbnailUrl:l(e),videoID:e.video&&e.video.id||""}},l=function(e){return e.details&&d(e.details)&&e.details.game&&e.details.game.boxArtURL?e.details.game.boxArtURL:e.thumbnailURL?e.thumbnailURL:"https://static-cdn.jtvnw.net/ttv-static/404_boxart-285x380.jpg"},d=function(e){return!!e.game},u=n("cr+I"),m=n("/7QA"),p=n("GFmA"),g=n("N0BP"),h=n("yWUM"),f=n("kduP"),v=n("vRsq"),k=n("2xye"),b=n("GnwI"),y=n("4HIT"),C=n("wgyx"),T=n("T2RZ"),S=n("nKT9"),w=n("+JBF"),_=Object(T.b)(k.PageviewMedium.Following,C.b.Vod,C.c.DirectoryFollowing)(p.a),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickHandler=function(){t.props.onClick&&t.props.onClick(t.props.tracking.content_index)},t.gameChangesWithLinks=function(){return t.props.videoGameChanges.map((function(e){var n={t:Object(h.a)(e.offset)};return t.props.collectionID&&(n.collection=t.props.collectionID),Object(i.__assign)(Object(i.__assign)({},e),{linkTo:{pathname:"/videos/"+t.props.video.id,search:u.stringify(n),state:{content:k.PageviewContent.PreviewCardGameBalloonGame,medium:t.props.tracking.medium}}})}))},t.trackVideoGameBalloonClick=function(){t.props.video.owner&&t.props.video.owner.id&&t.props.video.owner.login&&Object(S.b)({videoID:t.props.video.id,broadcasterID:t.props.video.owner.id,channelLogin:t.props.video.owner.login,contentIndex:t.props.tracking.content_index,pageviewMedium:t.props.tracking.medium})},t.trackVideoGameBalloonItemClick=function(e){t.props.video.owner&&t.props.video.owner.id&&t.props.video.owner.login&&Object(S.c)({videoID:t.props.video.id,broadcasterID:t.props.video.owner.id,channelLogin:t.props.video.owner.login,contentIndex:e,pageviewMedium:t.props.tracking.medium})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t,n,r,o=Object(w.a)(this.props.tracking),s={context:this.props.context,onClick:this.onClickHandler,title:this.props.video.title,linkTo:{pathname:Object(v.i)(void 0,this.props.video.id),state:o,search:this.generateSearchString()},thumbnailImageProps:{src:this.props.video.previewThumbnailURL,alt:this.props.video.title||""},channelDisplayName:this.props.video.owner&&this.props.video.owner.displayName||"",channelLogin:this.props.video.owner&&this.props.video.owner.login||"",channelLinkTo:{pathname:"/"+(this.props.video.owner?this.props.video.owner.login:""),state:o},channelImageProps:{src:this.props.video.owner&&this.props.video.owner.profileImageURL||"",alt:this.props.video.owner&&this.props.video.owner.displayName||""},gameTitle:this.props.video.game&&this.props.video.game.displayName||"",gameTitleLinkTo:{pathname:Object(f.a)(this.props.video.game&&this.props.video.game.name||""),state:o},gameBoxArtImageProps:{src:this.props.video.game&&this.props.video.game.boxArtURL||m.a.defaultBoxArtURL,alt:this.props.video.game?this.props.video.game.displayName:""},videoGameChanges:this.gameChangesWithLinks(),multipleVideoGameMarkersType:this.props.multipleVideoGameMarkersType,datePublished:this.props.video.publishedAt,viewCount:this.props.video.viewCount||0,durationInSeconds:!this.props.hideDuration&&this.props.video.lengthSeconds?this.props.video.lengthSeconds:void 0,animatedImageProps:this.props.video.animatedPreviewURL?{src:this.props.video.animatedPreviewURL,alt:""}:void 0,watchedProgressPercent:Object(w.b)(this.props.video)||0,listPosition:this.props.listPosition,isRestricted:this.props.video.self&&this.props.video.self.isRestricted||this.props.video.resourceRestriction&&!this.props.video.self||!1,restriction:this.props.video.resourceRestriction,trackImageLatency:this.props.trackImageLatency,onVideoGameBalloonClick:this.trackVideoGameBalloonClick,onVideoGameBalloonItemClick:this.trackVideoGameBalloonItemClick,trackingContext:o,tagListProps:!0!==this.props.hideTags&&this.props.video.contentTags?{tags:this.props.video.contentTags,linkTo:y.a.PopularTag}:void 0,primaryColorHex:this.props.video.owner&&this.props.video.owner.primaryColorHex};return this.props.autoTrack?a.createElement(_,Object(i.__assign)({},s,Object(g.a)(this.props),{trackingProps:{category:null===(e=this.props.video.game)||void 0===e?void 0:e.name,itemPosition:this.props.tracking.content_index,rowPosition:0,channelID:null===(n=null===(t=this.props.video)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.id,gameID:null===(r=this.props.video.game)||void 0===r?void 0:r.id,vodID:this.props.video.id,itemViewCount:this.props.video.viewCount}})):a.createElement(p.a,Object(i.__assign)({},s,Object(g.a)(this.props)))},t.prototype.generateSearchString=function(){var e={};this.props.collectionID&&(e.collection=this.props.collectionID),this.props.videoBrowseOptions&&(this.props.videoBrowseOptions.filter&&(e.filter=this.props.videoBrowseOptions.filter),this.props.videoBrowseOptions.sort&&(e.sort=this.props.videoBrowseOptions.sort),this.props.videoBrowseOptions.range&&(e.range=this.props.videoBrowseOptions.range));var t=this.videoStartTimestamp();t&&(e.t=t);var n=u.stringify(e);return n?"?"+n:""},t.prototype.videoStartTimestamp=function(){var e,t=this;if(!this.props.startAtCategoryID)return null;var n=null===(e=this.props.videoGameChanges.find((function(e){return e.gameID===t.props.startAtCategoryID})))||void 0===e?void 0:e.offset;return n?Object(h.a)(n):null},t}(a.Component),E=Object(b.withLatencyTracking)("VideoPreviewCard",{autoReportInteractive:!0})(I),P=n("1Ijn");n.d(t,"a",(function(){return O}));var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EMPTY_MOMENTS_ARRAY=[],t.convertMomentEdgesToChanges=function(){var e=t.props.data,n=s(e&&e.video&&e.video.moments&&e.video.moments.edges||t.EMPTY_MOMENTS_ARRAY);return n.length>1?n:t.EMPTY_MOMENTS_ARRAY},t}return Object(i.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){var t=e.data&&e.data.video&&e.data.video.moments&&e.data.video.moments.edges||[],n=this.props.data&&this.props.data.video&&this.props.data.video.moments&&this.props.data.video.moments.edges||[],i=t.length!==n.length;return e.video.id!==this.props.video.id||i},t.prototype.render=function(){return a.createElement(E,Object(i.__assign)({videoGameChanges:this.convertMomentEdgesToChanges()},this.props))},t}(a.Component),O=Object(o.a)(P,{options:function(e){return{variables:{videoId:e.video.id}}},skip:function(e){return!(e.multipleVideoGameMarkersType&&e.multipleVideoGameMarkersType!==r.a.None&&e.video.id)}})(N)},"9L5u":function(e,t,n){"use strict";var i=n("/MKj"),a=n("mrSG"),r=n("w09P"),o=n("q1tI"),s=n("ANjH"),c=n("ZS2+"),l=n("fXu0"),d=n("4rCz"),u=n("GnwI"),m=n("wTRL"),p=n("7pbv"),g=n("qLrF"),h=n("eh8k"),f=n("b0Hx"),v=n("eL87"),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isTracked=!1,t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.hideButton||this.startTracking()},t.prototype.componentDidUpdate=function(){this.props.hideButton?this.stopTracking():this.startTracking()},t.prototype.render=function(){return o.createElement(v.a,Object(a.__assign)({},this.props))},t.prototype.startTracking=function(){this.isTracked||(this.props.impressionListener.registerImpressionCallback(this.props.trackShowMoreImpression),this.isTracked=!0)},t.prototype.stopTracking=function(){this.isTracked&&(this.props.impressionListener.unregisterImpressionCallback(),this.isTracked=!1)},t}(o.Component),b=Object(l.a)("ShowMoreTracked",{percentage:75})(k),y=n("9MO3"),C=n("wgyx"),T=n("x75U"),S=n("uOxs"),w=n("2rlx"),_=n("hCFK"),I=n("sUnt"),E=n("yymn"),P=n("Ws8v"),N=n("K+jS"),O=n("/7QA"),D=n("+80q"),F=n("Jsra"),L=(n("a+Ty"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this;return o.createElement(P.a,{className:"empty-shelf",fullWidth:!0,margin:{bottom:2}},o.createElement(I.a,{padding:{y:4,x:2},display:E.g.Flex,justifyContent:E.l.Center,alignItems:E.b.Center,flexDirection:E.h.Column,fullHeight:!0},this.props.name&&o.createElement(D.a,{fontSize:E.j.Size3},Object(O.d)("<x:content>Content</x:content> recommendations have all been removed",{"x:content":function(){return o.createElement(D.a,{bold:!0,italic:!0,type:D.e.Span,fontSize:E.j.Size2},e.props.name)}},"EmptyShelf")),o.createElement(D.a,{fontSize:E.j.Size4},Object(O.d)("<x:link-manage>Manage</x:link-manage> your recommendation feedback",{"x:link-manage":function(e){return o.createElement(F.a,{linkTo:"/settings/recommendations",targetBlank:!0},e)}},"EmptyShelf"))))},t}(o.Component)),j=n("XDCx"),x=function(e){var t=new URL(e.embedURL);return t.searchParams.set("parent","twitch.tv"),Object(a.__assign)(Object(a.__assign)({},e),{embedURL:t.href,title:e.clipTitle,viewCount:e.clipViewCount,createdAt:e.clipCreatedAt})},R=n("GFmA"),A=n("oB8h"),M=n("tWm8"),V=n("kduP"),G=n("D7An"),H=n("2xye"),U=n("5ezV"),B=n("oJov");var q=n("4HIT"),W=n("EMOq"),z=n("QV0j"),Q=n("A65o"),Y=n("7d/q"),J=n("C7sF"),K=n("fPaz"),X=(n("ReKM"),c.a.wrap((function(){return n.e(229).then(n.bind(null,"GyBV"))}),"RecFeedbackButton",{placeholder:o.createElement(Y.a,Object(a.__assign)({},Z()))})),$=c.a.wrap((function(){return Promise.resolve().then(n.bind(null,"7pbv"))}),"HiddenContentNotice",{placeholder:null});function Z(){return{"aria-label":Object(W.a)(),icon:J.a.More,size:Y.b.Small,disabled:!0}}var ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showContent:!0,addFeedbackPromise:null,initialTagSet:[]},t.typeToPropMappings={Clip:t.getShelfCardClipProps.bind(t),Game:t.getShelfCardGameProps.bind(t),Stream:t.getShelfCardStreamProps.bind(t),Video:t.getShelfCardVideoProps.bind(t)},t.renderShelfCard=function(e){if(t.isShelfGameBoxArtCardProps()){var n=t.getTagListProps(t.props.contentEdge),i=t.getTagSet();n&&(n=Object(a.__assign)(Object(a.__assign)({},n),{callback:function(e,n){t.trackClick(H.PageviewContent.Tag,i,n.id)},tagsShownCallback:t.setInitialTagsShown}));var r=t.props.contentEdge.node;return o.createElement(B.a,Object(a.__assign)({"data-a-target":"card-"+t.props.itemPosition},e,{tagListProps:n,contextualCardActionProps:t.getFeedbackProps({vodID:null,categoryID:r&&r.id,categoryName:r&&r.displayName,channelID:null,channelName:null,feedbackReason:Object(y.b)(),hideContent:t.hideContent,isShelf:!1})}))}return o.createElement(R.a,Object(a.__assign)({},e))},t.isShelfGameBoxArtCardProps=function(){var e=t.props.contentEdge.node;return!(!e||!e.boxArtURL)},t.getShelfCardProps=function(e,n){return e.node&&t.typeToPropMappings[e.node.__typename]?t.typeToPropMappings[e.node.__typename](e,n):null},t.getTagListProps=function(e){var n=void 0;if(!e.node)return n;switch(e.node.__typename){case"Stream":n={tags:e.node.tags||[],linkTo:{pathname:q.a.PopularTag,state:Object(a.__assign)({medium:H.PageviewMedium.TwitchHome,category_tracking_id:t.props.shelfCardTrackingProps.item_tracking_id},t.props.shelfCardTrackingProps)},tagsShownCallback:t.setInitialTagsShown};break;case"Game":n={tags:e.node.gameTags||[],linkTo:{pathname:q.a.DirectoryTag,state:Object(a.__assign)({medium:H.PageviewMedium.TwitchHome,category_tracking_id:t.props.shelfCardTrackingProps.item_tracking_id},t.props.shelfCardTrackingProps)},tagsShownCallback:t.setInitialTagsShown};break;case"Video":n={tags:e.node.contentTags||[],linkTo:{pathname:q.a.PopularTag,state:Object(a.__assign)({medium:H.PageviewMedium.TwitchHome,category_tracking_id:t.props.shelfCardTrackingProps.item_tracking_id},t.props.shelfCardTrackingProps)},tagsShownCallback:t.setInitialTagsShown}}return n},t.onReportUserModalClose=function(e,n){n&&t.onHideContentExpire()},t.getFeedbackProps=function(e){var n=e.shelfID,i=e.channelID,a=e.categoryID,r=e.vodID,o=e.categoryName,s=e.channelName,c=e.feedbackReason,l=e.hideContent,d=e.onReportModalClose;if(!t.props.hideRecFeedback)return t.props.firstPageLoaded?{component:X,props:{shelfID:n,channelID:i,categoryID:a,vodID:r,categoryName:o,channelName:s,feedbackReason:c,hideContent:l,onReportModalClose:d,trackRecFeedbackAdd:t.trackRecFeedbackAdd,sourceItemRequestID:t.props.itemRequestID,sourceItemTrackingID:t.props.shelfCardTrackingProps.item_tracking_id,isShelf:!1}}:{component:Y.a,props:Z()}},t.getTrackingContext=function(){var e={medium:H.PageviewMedium.TwitchHome};return t.props.pageType===C.e.FollowingPage&&(e={medium:H.PageviewMedium.DirectoryFollowing}),e},t.showContent=function(){t.setState({showContent:!0,addFeedbackPromise:null}),t.trackRecFeedbackUndo()},t.trackRecFeedbackUndo=function(){var e=Object(C.f)(t.props.contentEdge),n=e.channelID,i=e.gameID,a=e.vodID;(a||n||i)&&t.props.trackRecFeedbackUndo(a||n||i||"")},t.hideContent=function(e){t.setState({showContent:!1,addFeedbackPromise:e})},t.onHideContentExpire=function(){var e=t.props.hideListItem;e&&e(t.props.itemPosition)},t.trackGameClick=function(e,n,i,r){e.preventDefault(),e.stopPropagation();var o="title"===("IMG"===e.target.tagName?"boxArt":"title")?H.PageviewContent.GameName:H.PageviewContent.GameBoxart,s=Object(a.__assign)(Object(a.__assign)({},t.props.shelfCardTrackingProps),{tag_set:r,tag_filter_set:[],tag_streamer_set:[]}),c={pathname:Object(V.a)(n.name),state:Object(a.__assign)({content:o,content_index:i,medium:H.PageviewMedium.TwitchHome,category_tracking_id:t.props.shelfCardTrackingProps.item_tracking_id},s)};t.trackClick(o,r),O.p.history.push(c.pathname,c.state)},t.trackClick=function(e,n,i){return t.props.trackClick(e,n,i)},t.trackRecFeedbackAdd=function(){t.props.trackRecFeedbackAdd(t.props.shelf,t.props.contentEdge,t.getShelfCardName())},t.setInitialTagsShown=function(e){t.setState({initialTagSet:e},(function(){t.props.impressionListener.registerImpressionCallback((function(){t.props.trackImpression(e.map((function(e){return e.id}))),t.props.contentEdge&&t.props.contentEdge.node&&"Clip"===t.props.contentEdge.node.__typename&&n.e(108).then(n.bind(null,"MdYN"))}))}))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.getTagListProps(this.props.contentEdge);e&&e.tags&&0!==e.tags.length||this.setInitialTagsShown([])},t.prototype.render=function(){var e,t=this.getShelfCardProps(this.props.contentEdge,this.props.itemPosition);if(!t||!this.props.contentEdge.node)return null;if(!this.state.showContent){var n=Object(p.mapNodeTypeToProps)(this.props.contentEdge.node),i=n.aspectRatio,a=n.contentType,r=n.size;return o.createElement(K.b,{ratio:i},o.createElement($,{contentType:a,undoSuccessHandler:this.showContent,addFeedbackPromise:this.state.addFeedbackPromise,size:r,onExpiration:this.onHideContentExpire,shouldRemoveContent:!0,sourceItemRequestID:this.props.itemRequestID,sourceItemTrackingID:this.props.shelfCardTrackingProps.item_tracking_id}))}return o.createElement(I.a,{key:this.props.contentEdge.node.id,padding:null!==(e=this.props.padding)&&void 0!==e?e:{bottom:2},"data-test-selector":"shelf-card-selector"},this.renderShelfCard(t))},t.prototype.getShelfCardName=function(){var e=this.getShelfCardProps(this.props.contentEdge,this.props.itemPosition);if(!e||!this.props.contentEdge.node)return null;var t=e.title,n=this.props.contentEdge.node;return n&&"Stream"===n.__typename&&n.broadcaster&&n.broadcaster.displayName&&(t=n.broadcaster.displayName),t},t.prototype.getShelfCardStreamProps=function(e){var t=this,n=e.node,i=this.getTagListProps(e),r=this.getTagSet(),o=Object(a.__assign)(Object(a.__assign)({},this.props.shelfCardTrackingProps),{tag_set:r,tag_filter_set:[],tag_streamer_set:[]}),s="RecommendedBecauseYouWatchX"!==this.props.shelf.title.key?{gameTitle:n.game&&n.game.displayName||void 0,gameTitleLinkTo:{pathname:n.game?Object(V.a)(n.game.name):void 0,state:Object(a.__assign)(Object(a.__assign)({},o),{category_tracking_id:this.props.shelfCardTrackingProps.item_tracking_id})},onGameTitleClick:this.trackClick.bind(this,H.PageviewContent.GameMetadata,r)}:{};return Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({titleLines:Object(M.a)(G.c.TwoLinesTitleVideoCardHomePage),context:R.b.MixedGameAndChannelList,title:n.broadcaster&&n.broadcaster.broadcastSettings&&n.broadcaster.broadcastSettings.title,linkTo:n.broadcaster&&n.broadcaster.login?{pathname:"/"+n.broadcaster.login,state:o}:void 0,onClick:this.trackClick.bind(this,H.PageviewContent.VideoThumbnail,r),onVideoTitleClick:this.trackClick.bind(this,H.PageviewContent.VideoTitle,r),onChannelImageClick:this.trackClick.bind(this,H.PageviewContent.UserThumbnail,r),thumbnailImageProps:{src:n.previewImageURL||O.a.defaultStreamPreviewURL,alt:n.broadcaster&&n.broadcaster.broadcastSettings&&n.broadcaster.broadcastSettings.title||""},channelImageProps:Object(M.b)(G.c.TwoLinesTitleVideoCardHomePage)?{src:n.broadcaster&&n.broadcaster.profileImageURL||O.a.defaultAvatarURL,alt:n.broadcaster&&n.broadcaster.displayName||""}:void 0,channelDisplayName:n.broadcaster&&n.broadcaster.displayName||"",channelLogin:n.broadcaster&&n.broadcaster.login,channelLinkTo:n.broadcaster&&n.broadcaster.login?{pathname:"/"+n.broadcaster.login+"/videos/all",state:o}:void 0,onChannelLoginClick:this.trackClick.bind(this,H.PageviewContent.ChannelMetadata,r),streamType:Object(z.a)(n.type)||A.a.Live,currentViewerCount:n.viewersCount||0,trackingContext:this.getTrackingContext(),contextualCardActionProps:this.getFeedbackProps({channelID:n.broadcaster&&n.broadcaster.id,channelName:n.broadcaster&&n.broadcaster.displayName,categoryID:n.game&&n.game.id,categoryName:n.game&&n.game.displayName,feedbackReason:Object(y.a)(),hideContent:this.hideContent,onReportModalClose:this.onReportUserModalClose}),primaryColorHex:n.broadcaster&&n.broadcaster.primaryColorHex},i&&{tagListProps:Object(a.__assign)(Object(a.__assign)({},i),{callback:function(e,n){i.callback&&i.callback(e,n),t.trackClick(H.PageviewContent.Tag,r,n.id)}})}),{isPromotion:this.props.isPromotion,sourceType:this.props.sourceType}),s)},t.prototype.getShelfCardClipProps=function(e,t){var n=this,i=e.node,r=this.getTagListProps(e),o=this.getTagSet(),s=Object(a.__assign)(Object(a.__assign)({},this.props.shelfCardTrackingProps),{tag_set:o,tag_filter_set:[],tag_streamer_set:[]}),c=new URL(i.embedURL);return c.searchParams.set("parent","twitch.tv"),Object(a.__assign)({context:R.b.MixedGameAndChannelList,title:i.clipTitle,linkTo:c.href,onClick:function(e){if(n.trackClick(H.PageviewContent.VideoThumbnail,o),e.preventDefault(),n.props.shelf.content&&n.props.shelf.content.edges){var a=n.props.shelf.content.edges.map((function(e){return e.node}));n.props.showClipsModal(i,t,n.props.shelf.content.edges,(function(){return a}))}},onVideoTitleClick:function(e){if(n.trackClick(H.PageviewContent.VideoTitle,o),e.preventDefault(),n.props.shelf.content&&n.props.shelf.content.edges){var a=n.props.shelf.content.edges.map((function(e){return e.node}));n.props.showClipsModal(i,t,n.props.shelf.content.edges,(function(){return a}))}},thumbnailImageProps:{src:i.thumbnailURL,alt:i.clipTitle},channelImageProps:{src:i.broadcaster&&i.broadcaster.profileImageURL||O.a.defaultAvatarURL,alt:i.broadcaster&&i.broadcaster.displayName||""},channelDisplayName:i.broadcaster&&i.broadcaster.displayName||"",channelLogin:i.broadcaster&&i.broadcaster.login,channelLinkTo:i.broadcaster&&i.broadcaster.login?{pathname:"/"+i.broadcaster.login+"/videos/all",state:s}:void 0,onChannelLoginClick:this.trackClick.bind(this,H.PageviewContent.ChannelMetadata,o),datePublished:i.clipCreatedAt,viewCount:i.clipViewCount,durationInSeconds:i.durationSeconds,clipCreatedByChannelLogin:i.curator&&i.curator.login,gameTitle:i.game&&i.game.displayName||void 0,gameTitleLinkTo:{pathname:i.game&&Object(V.a)(i.game.name)||void 0,state:Object(a.__assign)(Object(a.__assign)({},s),{category_tracking_id:this.props.shelfCardTrackingProps.item_tracking_id})},onGameTitleClick:this.trackClick.bind(this,H.PageviewContent.GameMetadata,o),trackingContext:this.getTrackingContext(),primaryColorHex:i.broadcaster&&i.broadcaster.primaryColorHex},r&&{tagListProps:Object(a.__assign)(Object(a.__assign)({},r),{callback:function(e,t){r.callback&&r.callback(e,t),n.trackClick(H.PageviewContent.Tag,o,t.id)}})})},t.prototype.getShelfCardVideoProps=function(e){var t=this,n=e.node,i=this.getTagListProps(e),r=this.getTagSet(),o=Object(a.__assign)(Object(a.__assign)({},this.props.shelfCardTrackingProps),{tag_set:r,tag_filter_set:[],tag_streamer_set:[]});return Object(a.__assign)({context:R.b.MixedGameAndChannelList,title:n.title,linkTo:{pathname:"/videos/"+n.id,state:this.props.shelfCardTrackingProps},onClick:this.trackClick.bind(this,H.PageviewContent.VideoThumbnail,r),onVideoTitleClick:this.trackClick.bind(this,H.PageviewContent.VideoTitle,r),onChannelImageClick:this.trackClick.bind(this,H.PageviewContent.UserThumbnail,r),thumbnailImageProps:{src:n.previewThumbnailURL,alt:n.title},channelImageProps:{src:n.owner&&n.owner.profileImageURL||O.a.defaultAvatarURL,alt:n.owner&&n.owner.displayName||""},channelDisplayName:n.owner&&n.owner.displayName||"",channelLogin:n.owner&&n.owner.login,channelLinkTo:n.owner&&n.owner.login?{pathname:"/"+n.owner.login+"/videos/all",state:o}:void 0,onChannelLoginClick:this.trackClick.bind(this,H.PageviewContent.ChannelMetadata,r),datePublished:n.publishedAt,viewCount:n.viewCount,durationInSeconds:n.lengthSeconds,watchedProgressPercent:0,gameTitle:n.game&&n.game.displayName,gameTitleLinkTo:n.game?{pathname:Object(V.a)(n.game.name),state:Object(a.__assign)(Object(a.__assign)({},o),{category_tracking_id:this.props.shelfCardTrackingProps.item_tracking_id})}:void 0,onGameTitleClick:this.trackClick.bind(this,H.PageviewContent.GameMetadata,r),trackingContext:this.getTrackingContext(),contextualCardActionProps:this.getFeedbackProps({vodID:n.id,categoryID:n.game&&n.game.id,categoryName:n.game&&n.game.displayName,channelID:n.owner&&n.owner.id,channelName:n.owner&&n.owner.displayName,feedbackReason:Object(y.e)(),hideContent:this.hideContent}),primaryColorHex:n.owner&&n.owner.primaryColorHex},i&&{tagListProps:Object(a.__assign)(Object(a.__assign)({},i),{callback:function(e,n){i.callback&&i.callback(e,n),t.trackClick(H.PageviewContent.Tag,r,n.id)}})})},t.prototype.getShelfCardGameProps=function(e,t){var n=this,i=e.node,a=this.getTagSet();return{onClick:function(e){return n.trackGameClick(e,i,t,a)},title:i.displayName,alt:Object(O.d)("{displayName} cover image",{displayName:i.displayName},"ShelfComponent"),src:i.boxArtURL||O.a.defaultBoxArtURL,linkTo:Object(V.a)(i.name),info:Object(O.d)("{viewerCount, plural, one {{viewerCountFormatted} viewer} other {{viewerCountFormatted} viewers}}",{viewerCount:i.viewersCount||0,viewerCountFormatted:Object(O.g)(i.viewersCount||0,{maximumFractionDigits:Object(U.b)(i.viewersCount||0)})},"ShelfComponent")}},t.prototype.getTagSet=function(){return this.state.initialTagSet.map((function(e){return e.id}))},t}(o.Component),te=Object(s.d)(Object(u.withLatencyTracking)("ShelfCardComponent",{autoReportInteractive:!0}),Object(l.a)("ShelfCardComponent",{percentage:75,impressionWrapperClassName:"shelf-card__impression-wrapper"}),Object(Q.a)())(ee),ne=c.a.wrap((function(){return n.e(108).then(n.bind(null,"MdYN"))}),"ClipsViewModal");var ie=Object(i.b)(null,(function(e){return Object(s.b)({showClipsModal:function(e,t,n){return Object(j.e)(ne,{getClips:function(){return n.map((function(e){return x(e.node)}))},clip:x(e),clipIndex:t,pageType:"TopClipsGame"})}},e)}))(te),ae=c.a.wrap((function(){return n.e(229).then(n.bind(null,"GyBV"))}),"RecFeedbackButton",{placeholder:null}),re=c.a.wrap((function(){return Promise.resolve().then(n.bind(null,"7pbv"))}),"HiddenContentNotice",{placeholder:null}),oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showContent:!0,addFeedbackPromise:null,indexToHiddenMap:{},isShowingMore:!1},t.showMore=function(){t.setState((function(e){return e.isShowingMore||t.props.trackComponentClick(C.a.ShowMore),{isShowingMore:!0}}))},t.getEdges=function(e){return e.content&&e.content.edges?e.content.edges.filter((function(e){return e&&e.node&&e.node.id})):[]},t.trackTitleClick=function(){return t.props.trackComponentClick(C.a.Header)},t.trackTitleImpression=function(){return t.props.trackComponentImpression(t.props.shelf,C.a.Header)},t.trackShowMoreImpression=function(){return t.props.trackComponentImpression(t.props.shelf,C.a.ShowMore)},t.showContent=function(){t.setState({showContent:!0,addFeedbackPromise:null}),t.props.trackRecFeedbackUndo(t.props.shelf.id)},t.hideContent=function(e){t.setState({showContent:!1,addFeedbackPromise:e})},t.trackRecFeedbackAdd=function(){t.props.trackRecFeedbackAdd(t.props.shelf,null,null)},t.hideListItem=function(e){t.setState((function(t){var n;return{indexToHiddenMap:Object(a.__assign)(Object(a.__assign)({},t.indexToHiddenMap),(n={},n[e]=!0,n))}}))},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.impressionListener.registerImpressionCallback(this.trackTitleImpression)},t.prototype.render=function(){var e=this,t=this.props,n=t.position,i=t.shelf,a=o.createElement(f.a,{title:i.title,shelfTrackingProps:this.props.shelfTrackingProps,trackTitleClick:this.trackTitleClick});if(!i.content||!i.content.edges)return null;var s=[],c=S.b.Large;i.title.key.includes("TopGames")&&(c=S.b.ExtraSmall);var l=this.getEdges(i),u=r(i,(function(e){return e.content.edges||[]}),(function(){return l}));l.forEach((function(t,i){var a=Object(m.b)(t.sourceType);if(t&&t.node&&e.shouldRenderNode(t.node)&&!e.state.indexToHiddenMap[i]){var r=o.createElement(ie,{key:t.node.id,shelf:u,contentEdge:t,itemPosition:i,pageType:e.props.pageType,rowPosition:n,firstPageLoaded:e.props.firstPageLoaded,hideRecFeedback:e.props.hideRecFeedback||a,hideListItem:e.hideListItem,isPromotion:a,sourceType:t.sourceType});s.push(r)}}));var v=this.props.itemsToDisplay;i.title.key.includes("TopGames")&&(v*=h.a);var k=null;if(0===s.length){if(0===Object.keys(this.state.indexToHiddenMap).length)return null;k=o.createElement(L,{name:a})}else{var C=this.state.isShowingMore;C&&(v*=2);for(var T=Math.max(0,v-s.length),O=0;O<T;O++)s.push(o.createElement("div",{key:O}));k=o.createElement("div",null,o.createElement(w.a,{duration:_.b.Long,transitionType:[_.c.SlideOverTop,_.c.Fade],component:o.createElement(S.a,{childWidth:c,gutterSize:S.c.ExtraSmall,noWrap:!C,placeholderItems:v-i.content.edges.length})},s.slice(0,v)),o.createElement(b,{hideButton:C||s.length<=v,onClick:this.showMore,buttonText:Object(d.d)("Show more","ShelfComponent"),trackShowMoreImpression:this.trackShowMoreImpression}))}var D=this.state.showContent?null:o.createElement(I.a,{position:E.n.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0,fullWidth:!0,zIndex:E.s.Above},o.createElement(re,{contentType:p.HiddenContentType.Shelf,undoSuccessHandler:this.showContent,addFeedbackPromise:this.state.addFeedbackPromise,size:g.a.Small,shouldRemoveContent:!1,sourceItemRequestID:this.props.requestID,sourceItemTrackingID:this.props.shelfTrackingProps.item_tracking_id}));return o.createElement(P.a,{position:E.n.Relative,key:i.id,className:"find-me"},D,o.createElement(I.a,{padding:{bottom:1},display:E.g.Flex,justifyContent:E.l.Between,visibility:this.state.showContent?E.r.Visible:E.r.Hidden},o.createElement(N.a,{size:N.b.Small},a),!this.props.hideRecFeedback&&this.props.firstPageLoaded&&i.title.context&&o.createElement(ae,{shelfID:i.id,categoryID:i.title.context.id,categoryName:i.title.context.displayName,feedbackReason:Object(y.d)(),hideContent:this.hideContent,trackRecFeedbackAdd:this.trackRecFeedbackAdd,sourceItemRequestID:this.props.requestID,sourceItemTrackingID:this.props.shelfTrackingProps.item_tracking_id,isShelf:!0})),k)},t.prototype.shouldRenderNode=function(e){if(!(e&&e.id&&e.__typename))return!1;if("Stream"===e.__typename){if(!(e=e).previewImageURL||!e.broadcaster||!e.broadcaster.login)return!1}else if("Game"===e.__typename){if(!(e=e).name)return!1}else if("Clip"===e.__typename){if(!(e=e).thumbnailURL||!e.url)return!1}else if("Video"===e.__typename&&!(e=e).previewThumbnailURL)return!1;return!0},t}(o.Component),se=Object(s.d)(Object(l.a)("ShelfComponent",{percentage:15}),Object(u.withLatencyTracking)("ShelfComponent",{autoReportInteractive:!0}),Object(T.b)())(oe);var ce=Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}))(se);n.d(t,"a",(function(){return ce}))},"9MO3":function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return k}));var i=n("/7QA"),a=n("DMoW"),r=n("wgyx");function o(e,t,n){if("string"==typeof e.text)return e.text;var a=e.contentType===r.b.Live?t:n;return a?e.text(a):Object(i.d)("I am not interested in this content","RecFeedbackModal")}function s(e){return Object(i.d)("I am not interested in this channel: {channel}",{channel:e},"FeedbackReason")}function c(){return{text:function(e){return function(e){return Object(i.d)("I am not interested in this category: {category}",{category:e},"FeedbackReason")}(e)},contentType:r.b.Game,feedbackType:a.td.NOT_INTERESTED}}var l=null;function d(){return l=null!=l?l:c()}var u=null;function m(){return u=null!=u?u:{text:function(e){return s(e)},contentType:r.b.Live,feedbackType:a.td.NOT_INTERESTED}}var p=null;function g(){return p=null!=p?p:{text:function(e){return s(e)},contentType:r.b.Live,feedbackType:a.td.NOT_INTERESTED}}var h=null;function f(){return h=null!=h?h:c()}var v=null;function k(){return v=null!=v?v:{text:Object(i.d)("I am not interested in this video","FeedbackReason"),contentType:r.b.Vod,feedbackType:a.td.NOT_INTERESTED}}},A65o:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("x75U");function o(){return function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.trackImpression=function(t,n){var a,r=Object(i.__assign)(Object(i.__assign)({},n),{itemPositionOrganic:null!==(a=e.props.itemPositionOrganic)&&void 0!==a?a:null,isPromotion:Boolean(e.props.isPromotion)});e.context.trackImpression(e.props.shelf,e.props.contentEdge,e.props.itemPosition,t,r)},e.trackClick=function(t,n,a,r){var o;"string"!=typeof a&&(a=void 0);var s=Object(i.__assign)(Object(i.__assign)({},r),{itemPositionOrganic:null!==(o=e.props.itemPositionOrganic)&&void 0!==o?o:null,isPromotion:Boolean(e.props.isPromotion)});e.context.trackClick(e.props.shelf,e.props.contentEdge,e.props.itemPosition,t,n,a,s)},e}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){this.context.setCardTrackingMapping(this.props.contentEdge)},n.prototype.componentDidUpdate=function(e){var t,n,i,a;e.contentEdge.trackingID===this.props.contentEdge.trackingID&&(null===(n=null===(t=e.contentEdge)||void 0===t?void 0:t.node)||void 0===n?void 0:n.id)===(null===(a=null===(i=this.props.contentEdge)||void 0===i?void 0:i.node)||void 0===a?void 0:a.id)||this.context.setCardTrackingMapping(this.props.contentEdge)},n.prototype.render=function(){var t,n=this.context.cardIDtoItemTrackingIDMap&&this.props.contentEdge.node&&this.context.cardIDtoItemTrackingIDMap[this.props.contentEdge.node.id],r=this.context.cardIDtoRequestIDMap&&this.props.contentEdge.node&&this.context.cardIDtoRequestIDMap[this.props.contentEdge.node.id],o=this.props,s=o.itemPosition,c=o.isPromotion,l=o.rowPosition,d=o.shelf.trackingInfo.rowName,u={trackImpression:this.trackImpression,trackRecFeedbackAdd:this.context.trackRecFeedbackAdd,trackRecFeedbackUndo:this.context.trackRecFeedbackUndo,trackClick:this.trackClick,itemRequestID:r,shelfCardTrackingProps:{item_tracking_id:n||null,item_position:s,item_position_organic:null!==(t=this.props.itemPositionOrganic)&&void 0!==t?t:null,row_name:d,row_position:l,is_promotion:Boolean(c)}};return a.createElement(e,Object(i.__assign)({},this.props,u))},n.contextTypes=r.a,n}(a.Component)}}},AO3T:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var i,a,r=n("/7QA"),o=n("2xye");!function(e){e.HomepageCTA="homepage_cta",e.NewSignup="new_signup"}(i||(i={})),function(e){e.Click="click",e.Impression="impression",e.Start="start",e.Dismissed="dismissed",e.Completed="completed"}(a||(a={}));var s=function(e){var t={source:e.source,action:a.Start};r.o.track(o.SpadeEventType.OnboardingEvent,t)};function c(e){var t={item_position:e.itemPosition,item_tracking_id:e.itemTrackingID||null,model_tracking_id:e.modelTrackingID||null,row_position:e.rowPosition};r.o.track(o.SpadeEventType.ItemDisplay,t)}function l(e){var t={item_position:e.itemPosition,item_tracking_id:e.itemTrackingID||null,model_tracking_id:e.modelTrackingID||null,row_position:e.rowPosition,component:e.component,selected:e.selected};r.o.track(o.SpadeEventType.ItemClick,t)}},BKYw:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("q1tI"),a=n("QwmM"),r=n("SWse"),o=n("X2PJ"),s=n("yymn"),c=n("Ws8v"),l=(n("JTh3"),function(e){var t,n;e.color&&((n={})["--color-accent"]=Object(a.e)(e.color),t=n);return i.createElement(o.a,{position:s.n.Relative},i.createElement("div",{className:Object(r.a)({"tw-hover-accent-effect":!0,"tw-hover-accent-effect--show":e.show}),style:t},i.createElement(c.a,{position:s.n.Absolute,attachTop:!0,attachLeft:!0,className:"tw-hover-accent-effect__corner tw-hover-accent-effect__corner--top"}),i.createElement(c.a,{position:s.n.Absolute,attachBottom:!0,attachRight:!0,className:"tw-hover-accent-effect__corner tw-hover-accent-effect__corner--bottom"}),i.createElement(c.a,{position:s.n.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,className:"tw-hover-accent-effect__edge tw-hover-accent-effect__edge--left"}),i.createElement(c.a,{position:s.n.Absolute,attachBottom:!0,attachLeft:!0,attachRight:!0,className:"tw-hover-accent-effect__edge tw-hover-accent-effect__edge--bottom"}),i.createElement(c.a,{className:"tw-hover-accent-effect__children"},e.children)))});l.displayName="HoverAccentEffect"},CYVv:function(e,t,n){},Dniw:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("q1tI"),a=n("fPaz"),r=n("Jsra"),o=n("BKYw"),s=n("sUnt"),c=n("yymn"),l=n("iHgd"),d=(n("cQ4D"),function(e){var t=e.image||e.children&&e.children.image,n=e.cover||e.children&&e.children.cover,d=e.topLeft||e.children&&e.children.topLeft,u=e.topRight||e.children&&e.children.topRight,m=e.bottomLeft||e.children&&e.children.bottomLeft,p=e.bottomRight||e.children&&e.children.bottomRight;d=d&&i.createElement(s.a,{position:c.n.Absolute,attachTop:!0,attachLeft:!0,margin:1},d),u=u&&i.createElement(s.a,{position:c.n.Absolute,attachTop:!0,attachRight:!0,margin:1},u),m=m&&i.createElement(s.a,{position:c.n.Absolute,attachBottom:!0,attachLeft:!0,margin:1},m),p=p&&i.createElement(s.a,{position:c.n.Absolute,attachBottom:!0,attachRight:!0,margin:1},p),n=n&&i.createElement(s.a,{position:c.n.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,display:c.g.Flex,alignItems:c.b.Center,justifyContent:c.l.Center,className:"tw-media-card-image__cover"},n);var g=i.createElement(l.a,null,i.createElement(s.a,{position:c.n.Relative},i.createElement(a.b,{ratio:e.ratio},t),n,i.createElement(s.a,{position:c.n.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,className:"tw-media-card-image__corners"},d,u,m,p)));return e.linkProps?i.createElement(o.a,{color:e.hoverAccentColor},i.createElement(r.a,e.linkProps,g)):g});d.defaultProps={ratio:a.c.Aspect16x9},d.displayName="MediaCardImage"},DuIN:function(e,t,n){},EMOq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("/7QA");function a(){return Object(i.d)("Recommendation feedback","RecFeedbackButtonOpen")}},FRZj:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("sUnt"),s=n("+80q"),c=n("yymn"),l=n("Jsra"),d=function(e){return r.createElement(o.a,null,r.createElement(s.a,{color:c.f.Alt2,ellipsis:!0},r.createElement(l.a,a()({type:l.b.Inherit,hoverUnderlineNone:!0},e),e.children)))};d.displayName="MediaCardLink"},GFmA:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("q1tI"),o=n("GnwI"),s=n("/7QA"),c=n("7qTX");function l(e){return void 0!==e.streamType}function d(e){return void 0!==e.watchedProgressPercent}function u(e){return void 0!==e.clipCreatedByChannelLogin}!function(e){e[e.SingleGameList=1]="SingleGameList",e[e.SingleChannelList=2]="SingleChannelList",e[e.MixedGameAndChannelList=3]="MixedGameAndChannelList"}(i||(i={}));var m,p=n("MXoD"),g=n("2xye"),h=n("Jsra"),f=n("vCsY"),v=n("fPaz"),k=n("uG/k"),b=n("HH5h");function y(e){return e.context===i.SingleChannelList&&e.gameBoxArtImageProps&&e.gameBoxArtImageProps.src&&e.gameTitleLinkTo?r.createElement(h.a,Object(a.__assign)({},Object(f.a)(e),{linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.GameBoxart),e.gameTitleLinkTo),onClick:e.onGameTitleClick,"data-test-selector":m.BoxArt,"data-a-target":"preview-card-boxart-link"}),r.createElement(v.b,{ratio:v.c.BoxArt,align:v.a.Center},r.createElement(k.a,Object(a.__assign)({},e.gameBoxArtImageProps)))):(e.context===i.SingleGameList||e.context===i.MixedGameAndChannelList)&&e.channelImageProps&&e.channelImageProps.src&&e.channelLinkTo?r.createElement(h.a,Object(a.__assign)({},Object(f.a)(e),{linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.UserThumbnail),e.channelLinkTo),onClick:e.onChannelImageClick,"data-test-selector":m.Avatar}),r.createElement(v.b,{ratio:v.c.Aspect1x1,align:v.a.Center},r.createElement(b.a,Object(a.__assign)({},e.channelImageProps,{size:40,userLogin:e.channelLogin})))):null}!function(e){e.Avatar="preview-card-avatar",e.BoxArt="preview-card-box-art"}(m||(m={}));var C,T=n("QVaV"),S=n("hyVY"),w=n("imSJ"),_=n("mCVc"),I=n("0zfo"),E=n("FRZj"),P=n("79Gn"),N=n("Dniw"),O=n("M11p"),D=function(e){var t,n=((t={linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.VideoThumbnail),e.linkTo),onClick:e.onThumbnailClick||e.onClick})["data-a-target"]="preview-card-image-link",t),i=e.thumbnailImageProps&&(e.trackImageLatency?r.createElement(o.CriticalImage,Object(a.__assign)({},e.thumbnailImageProps)):r.createElement(k.a,Object(a.__assign)({},e.thumbnailImageProps))),l=r.createElement(_.a,null,Object(S.b)(e.durationInSeconds)),d=r.createElement(_.a,null,Object(w.e)(e.viewCount)),u=e.datePublished&&r.createElement(_.a,null,Object(c.a)(Object(s.h)(new Date(e.datePublished)))),m=e.title&&r.createElement(I.a,{children:e.title,linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.VideoTitle),e.linkTo),onClick:e.onVideoTitleClick||e.onClick}),h=r.createElement(E.a,{children:Object(T.a)(e.channelLogin,e.channelDisplayName,!0),linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.ChannelMetadata),e.channelLinkTo),onClick:e.onChannelLoginClick,"data-a-target":"preview-card-channel-link"}),v=r.createElement(E.a,{children:Object(s.d)("Clipped by {userName}",{userName:e.clipCreatedByChannelLogin||""},"VideoPreviewCard"),linkTo:e.clipCreatedByChannelLoginLinkTo,onClick:e.onClipCreatedByChannelLoginClick,"data-a-target":"preview-card-clip-curator-link"});return r.createElement(P.a,Object(a.__assign)({},Object(f.a)(e),{margin:0,image:r.createElement(N.a,{image:i,linkProps:n,topLeft:l,bottomLeft:d,bottomRight:u,hoverAccentColor:e.primaryColorHex}),meta:r.createElement(O.a,{image:y(e),title:m,links:r.createElement(r.Fragment,null,h,v)})}))},F=n("ZbA5"),L=n("eirU"),j=n("oB8h"),x=n("TSYQ"),R=n("wTRL"),A=n("sUnt"),M=n("yymn"),V=n("7uM4"),G=n("Ws8v"),H=n("+80q"),U=function(e){var t=e.icon&&r.createElement(A.a,{display:M.g.Flex,margin:{right:.5}},r.createElement(V.a,{asset:e.icon,width:10,height:10})),n="promoted-card-stat__"+e.sourceType.toLowerCase();return r.createElement(G.a,{alignItems:M.b.Center,background:M.d.Overlay,borderRadius:M.e.Medium,className:x("preview-card-stat",n),color:M.f.Overlay,display:M.g.Flex,fontSize:M.j.Size7,padding:{x:.5},justifyContent:M.l.Center},t,r.createElement(H.a,{italic:!0,"data-a-target":e.sourceType},Object(R.a)()))},B=n("0LAi"),q=n("q/eo"),W=n("a0DK"),z=n("C8Nf"),Q=n("Z2sP"),Y=function(e){var t=0;return e.watchPartyState&&e.watchPartyProgress&&(t=Object(W.e)(e.watchPartyState,e.watchPartyProgress)),r.createElement(N.a,{image:e.image,linkProps:e.linkProps,topLeft:r.createElement(z.a,{label:Object(s.d)("Watch Party","WatchPartyPreviewCardOverlay")}),bottomLeft:r.createElement(_.a,null,Object(w.f)(e.viewerCount)),cover:r.createElement(A.a,{position:M.n.Absolute,attachBottom:!0,fullWidth:!0},r.createElement(Q.a,{borderRadius:M.e.None,size:Q.c.Small,value:100*t,mask:!0,overlay:!0})),hoverAccentColor:e.hoverAccentColor})},J=n("cbpk");!function(e){e.ChannelLink="ChannelLink",e.GameLink="GameLink",e.PromotedLabel="PromotedLabel"}(C||(C={}));var K=function(e){var t,n,l,d,u,m,h,v,b,S,D,x,V,G,H=Object(L.d)(J,{skip:!e.channelLogin||!e.watchparty,variables:{channelLogin:e.channelLogin||""}}).data,Q=e.thumbnailImageProps&&(e.trackImageLatency?r.createElement(o.CriticalImage,Object(a.__assign)({},e.thumbnailImageProps)):r.createElement(k.a,Object(a.__assign)({},e.thumbnailImageProps))),K=((t={linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.VideoThumbnail),e.linkTo),onClick:e.onThumbnailClick||e.onClick})["data-a-target"]="preview-card-image-link",t);G=e.watchparty?r.createElement(Y,{image:Q,linkProps:K,channelLogin:e.channelLogin||"",viewerCount:e.currentViewerCount,watchPartyState:null!==(u=null===(d=null===(l=null===(n=null==H?void 0:H.user)||void 0===n?void 0:n.watchParty)||void 0===l?void 0:l.session)||void 0===d?void 0:d.state)&&void 0!==u?u:null,watchPartyProgress:null!==(b=null===(v=null===(h=null===(m=null==H?void 0:H.user)||void 0===m?void 0:m.watchParty)||void 0===h?void 0:h.session)||void 0===v?void 0:v.progress)&&void 0!==b?b:null,hoverAccentColor:e.primaryColorHex}):r.createElement(N.a,{topLeft:e.hostedByChannelLogin||e.streamType!==j.a.Live?r.createElement(F.a,{type:e.streamType,hosting:!!e.hostedByChannelLogin}):r.createElement(z.a,{label:Object(s.d)("LIVE","VideoPreviewCard")}),bottomLeft:e.sourceType&&Object(R.b)(e.sourceType)&&r.createElement(U,{"data-test-selector":C.PromotedLabel,sourceType:e.sourceType})||r.createElement(_.a,null,Object(w.f)(e.currentViewerCount)),bottomRight:e.createdAt&&""!==e.createdAt&&r.createElement(_.a,null,Object(s.d)("Started {RelativeCreationTime}",{RelativeCreationTime:Object(s.h)(new Date(e.createdAt))},"PreviewCard"))||void 0,image:Q,linkProps:K,hoverAccentColor:e.primaryColorHex});var X=e.title&&r.createElement(I.a,{lines:e.titleLines,onClick:e.onVideoTitleClick||e.onClick,linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.VideoTitle),e.linkTo),"data-a-target":"preview-card-title-link"},e.title),$=r.createElement(E.a,{linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.ChannelMetadata),e.channelLinkTo),onClick:e.onChannelLoginClick,"data-test-selector":C.ChannelLink,"data-a-target":"preview-card-channel-link"},Object(T.a)(e.channelLogin,e.channelDisplayName,!0)),Z=function(e){return e.context!==i.SingleGameList&&e.gameTitle&&e.gameTitleLinkTo&&r.createElement(E.a,{linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.GameMetadata),e.gameTitleLinkTo),onClick:e.onGameTitleClick,"data-test-selector":C.GameLink,"data-a-target":"preview-card-game-link"},e.gameTitle)||null}(e),ee=e.watchparty?function(e,t){if(!Object(W.l)(t))return e;return r.createElement(A.a,{display:M.g.Flex,flexDirection:M.h.Row},e,r.createElement(A.a,{margin:{left:e?1:0}},r.createElement(q.a,null)))}(Z,null!==(V=null===(x=null===(D=null===(S=null==H?void 0:H.user)||void 0===S?void 0:S.watchParty)||void 0===D?void 0:D.session)||void 0===x?void 0:x.contentRestriction)&&void 0!==V?V:null):null,te=e.tagListProps&&e.tagListProps.tags.length>0&&r.createElement(A.a,{margin:{top:.5}},r.createElement(B.a,Object(a.__assign)({},e.tagListProps,{fitOneLine:!0}))),ne=e.contextualCardActionProps&&r.createElement(A.a,{flexGrow:0,flexShrink:0},r.createElement(e.contextualCardActionProps.component,Object(a.__assign)({},e.contextualCardActionProps.props)));return r.createElement(P.a,Object(a.__assign)({margin:0,image:G,meta:r.createElement(O.a,{image:y(e),title:X,links:r.createElement(r.Fragment,null,$,e.watchparty?ee:Z),actions:te,menu:ne})},Object(f.a)(e)))};var X,$=n("ZS2+"),Z=n("H1ft"),ee=n("DWfd"),te=n("8/mp"),ne=n("eJ65"),ie=n("5zf8"),ae=n("dEDE"),re=n("C7sF"),oe=n("wp5a"),se=n("ygYM"),ce=(n("qiTJ"),n("nKT9")),le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBalloonToggle=function(e){t.props.onBalloonClick&&!e&&t.props.onBalloonClick()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){if(this.props.videoGameChanges.length>0){var e=this.props.videoGameChanges.map((function(e){return e.gameID}));Object(ce.a)(e)}},t.prototype.render=function(){return r.createElement(A.a,{className:"preview-card-game-balloon",display:M.g.InlineBlock,position:M.n.Relative,margin:{top:.5}},r.createElement(ne.a,{key:"game-balloon",onToggle:this.onBalloonToggle,hideBalloonOnInsideClick:!0},r.createElement(ae.a,{type:ae.d.Secondary,icon:re.a.ViewerList},r.createElement(A.a,{display:M.g.Flex,flexDirection:M.h.Row},r.createElement(H.a,null,Object(s.d)("Chapters","PreviewCardGameBalloon")),r.createElement(A.a,{margin:{left:1}},r.createElement(oe.a,{label:this.props.videoGameChanges.length.toString()})))),r.createElement(se.a,{direction:se.b.TopLeft,size:se.c.Medium},r.createElement(A.a,{overflow:M.m.Hidden,display:M.g.Flex,flexDirection:M.h.Column,flexWrap:M.i.NoWrap},r.createElement(A.a,{padding:.5,flexShrink:0,flexGrow:0},r.createElement(H.a,{color:M.f.Alt2},Object(s.d)("Chapter Select","PreviewCardGameBalloon"))),r.createElement(A.a,{className:"preview-card-game-balloon__content",display:M.g.Flex,flexDirection:M.h.Column,flexGrow:1,flexShrink:1,flexWrap:M.i.NoWrap},r.createElement(te.b,null,r.createElement(A.a,{display:M.g.Flex,flexDirection:M.h.Column,flexWrap:M.i.NoWrap,fullHeight:!0},this.renderAdditionalGameList(this.props.videoGameChanges))))))))},t.prototype.renderAdditionalGameList=function(e){var t=this;return e.map((function(e,n){return r.createElement(ee.a,{active:!1,description:0===e.duration?"":Object(ie.b)(e.duration),imageURL:e.thumbnailUrl,index:n,key:e.offset,linkTo:e.linkTo,onClick:t.props.onBalloonItemClick,text:e.label})}))},t}(r.Component),de=n("kduP"),ue=n("hnjF"),me=function(e){return r.createElement(A.a,null,r.createElement(H.a,{color:M.f.Alt,ellipsis:!0},e.videoGameChanges.map((function(t,n,i){return r.createElement(ue.a,{key:n},r.createElement(h.a,{linkTo:{pathname:Object(de.a)(t.label),state:{content:g.PageviewContent.TextLink,medium:e.trackingContext&&e.trackingContext.medium}},type:h.b.Inherit},t.label,pe(n,i.length-1)?null:", "))}))))},pe=function(e,t){return e===t},ge=(n("xxGj"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={didAnimatedPreviewLoad:!1,didAnimatedPreviewFailToLoad:!1,isHovered:!1},t.onImageError=function(){t.props.latencyTracking.reportInteractive()},t.onImageLoad=function(){t.props.latencyTracking.reportInteractive()},t.onAnimatedImageLoad=function(e){void 0!==t.props.animatedImageProps&&e.currentTarget.src===t.props.animatedImageProps.src&&t.setState({didAnimatedPreviewLoad:!0})},t.onAnimatedImageLoadError=function(e){void 0!==t.props.animatedImageProps&&e.currentTarget.src===t.props.animatedImageProps.src&&t.setState({didAnimatedPreviewFailToLoad:!0})},t.handleFocus=function(){t.setState({isHovered:!0})},t.handleBlur=function(){t.setState({isHovered:!1})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.trackImageLatency||this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e={};return this.props.animatedImageProps&&(e={onMouseEnter:this.handleFocus,onMouseLeave:this.handleBlur,onFocus:this.handleFocus,onBlur:this.handleBlur}),r.createElement("div",Object(a.__assign)({},e,{onClick:this.props.onClick}),r.createElement(G.a,{background:M.d.Alt2,overflow:M.m.Hidden},r.createElement(v.b,{ratio:this.props.aspectRatio},this.renderImage())))},t.prototype.renderImage=function(){var e,t=!(!this.props.animatedImageProps||!this.state.isHovered||this.state.didAnimatedPreviewFailToLoad),n=x("preview-card-thumbnail__image",((e={})["preview-card-thumbnail__image--animated"]=this.state.isHovered&&this.state.didAnimatedPreviewLoad,e));return t&&void 0!==this.props.animatedImageProps?r.createElement("div",{className:n},r.createElement(k.a,Object(a.__assign)({},this.props.animatedImageProps,{title:this.props.title,onLoad:this.onAnimatedImageLoad,onError:this.onAnimatedImageLoadError,"data-test-selector":"preview-card-thumbnail__image-selector"}))):r.createElement("div",{className:n},r.createElement(k.a,Object(a.__assign)({},this.props.staticImageProps,{title:this.props.title,onLoad:this.onImageLoad,onError:this.onImageError,"data-test-selector":"preview-card-thumbnail__image-selector"})))},t}(r.Component)),he=Object(o.withLatencyTracking)("PreviewCardThumbnail")(ge),fe=$.a.wrap((function(){return n.e(110).then(n.bind(null,"qSJE"))}),"VideoPreviewCardRestriction",{placeholder:null,failSilently:!0});!function(e){e.ListPosition="ListPositoin",e.Duration="Duration",e.ChannelLink="ChannelLink",e.GameLink="GameLink"}(X||(X={}));var ve,ke=function(e){var t,n="number"==typeof e.watchedProgressPercent&&e.watchedProgressPercent>0&&r.createElement(A.a,{position:M.n.Absolute,attachBottom:!0,fullWidth:!0},r.createElement(Q.a,{borderRadius:M.e.None,size:Q.c.Small,value:e.watchedProgressPercent,mask:!0,overlay:!0})),o=void 0!==e.durationInSeconds&&r.createElement(_.a,{"data-test-selector":X.Duration},Object(S.b)(e.durationInSeconds)),l=e.listPosition&&r.createElement(_.a,{"data-test-selector":X.ListPosition},Object(s.d)("{totalVideos, plural, one {{position} / # video} other {{position} / # videos}}",{position:e.listPosition.position,totalVideos:e.listPosition.totalVideos},"VideoPreviewCard")),d=r.createElement(_.a,null,Object(w.e)(e.viewCount)),u=e.datePublished&&r.createElement(_.a,null,Object(c.a)(Object(s.h)(new Date(e.datePublished)))),m=e.thumbnailImageProps&&r.createElement(he,{staticImageProps:e.thumbnailImageProps,animatedImageProps:e.animatedImageProps,title:e.datePublished?Object(s.c)(new Date(e.datePublished),"medium"):void 0,trackImageLatency:e.trackImageLatency}),h=((t={linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.VideoThumbnail),e.linkTo),onClick:e.onThumbnailClick||e.onClick})["data-a-target"]="preview-card-image-link",t),v=r.createElement(fe,{isRestricted:e.isRestricted,restriction:e.restriction,channelLogin:e.channelLogin,attachTop:!0}),k=[];be(e)||k.push(r.createElement(E.a,{key:"channel-link",children:Object(T.a)(e.channelLogin,e.channelDisplayName,!0),linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.ChannelMetadata),e.channelLinkTo),onClick:e.onChannelLoginClick,"data-test-selector":X.ChannelLink,"data-a-target":"preview-card-channel-link"}));var b=null;e.multipleVideoGameMarkersType&&e.videoGameChanges&&e.videoGameChanges.length>0?b=ye(e.multipleVideoGameMarkersType,e.videoGameChanges,e.onVideoGameBalloonClick,e.onVideoGameBalloonItemClick):e.context!==i.SingleGameList&&e.gameTitle&&e.gameTitleLinkTo&&k.push(r.createElement(E.a,{key:"game-link",children:e.gameTitle,linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.GameMetadata),e.gameTitleLinkTo),onClick:e.onGameTitleClick,"data-test-selector":X.GameLink,"data-a-target":"preview-card-game-link"}));var C=e.title&&r.createElement(I.a,{children:e.title,onClick:e.onVideoTitleClick||e.onClick,linkTo:Object(p.a)(Object(c.b)(e.trackingContext,g.PageviewContent.VideoTitle),e.linkTo)}),D=e.tagListProps&&e.tagListProps.tags.length>0&&r.createElement(A.a,{margin:{top:.5}},r.createElement(B.a,Object(a.__assign)({},e.tagListProps,{fitOneLine:!0})));return r.createElement(P.a,Object(a.__assign)({},Object(f.a)(e),{margin:0,image:r.createElement(A.a,{position:M.n.Relative},r.createElement(N.a,{image:m,linkProps:h,topLeft:o,topRight:l,bottomLeft:d,bottomRight:u,cover:n,hoverAccentColor:e.primaryColorHex}),v),meta:r.createElement(O.a,{image:y(e),title:C,links:k,actions:r.createElement(r.Fragment,null,b,D)})}))},be=function(e){return!!(e.videoGameChanges&&e.videoGameChanges.length>0)&&e.multipleVideoGameMarkersType===Z.a.Balloon},ye=function(e,t,n,i,a){switch(e){case Z.a.Balloon:return r.createElement(le,{videoGameChanges:t,onBalloonClick:n,onBalloonItemClick:i});case Z.a.Inline:return r.createElement(me,{videoGameChanges:t,trackingContext:a});case Z.a.None:return null;default:return e}};!function(e){e.Avatar="preview-card-avatar",e.BoxArt="preview-card-box-art"}(ve||(ve={}));var Ce=Object(o.withLatencyTracking)("PreviewCard",{autoReportInteractive:!0})((function(e){return u(e)?r.createElement(D,Object(a.__assign)({},e)):d(e)?r.createElement(ke,Object(a.__assign)({},e)):l(e)?r.createElement(K,Object(a.__assign)({},e)):null}));n.d(t,"a",(function(){return Ce})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return u}))},H1ft:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i,a=n("/7QA"),r=n("D7An");!function(e){e.None="None",e.Inline="Inline",e.Balloon="moments_with_images"}(i||(i={}));var o=function(){switch(a.p.experiments.getAndTrackAssignment(r.c.Archer)){case"moments_with_images":return i.Balloon;case"inline":return i.Inline;case"control":default:return i.None}}},H9ix:function(e,t,n){},HXRw:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shelf"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Shelf"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shelfTitle"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shelfContentEdge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"trackingInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rowName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reasonType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reasonTarget"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reasonTargetType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:297}};i.loc.source={body:'#import "twilight/pages/front/queries/shelf-title-fragment.gql"\n#import "twilight/pages/front/queries/shelf-content-edge-fragment.gql"\nfragment shelf on Shelf {\nid\ntitle {\n...shelfTitle\n}\ncontent {\nedges {\n...shelfContentEdge\n}\n}\ntrackingInfo {\nrowName\nreasonType\nreasonTarget\nreasonTargetType\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("UYoe").definitions)),i.definitions=i.definitions.concat(r(n("j9hu").definitions)),e.exports=i},IOBI:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UndoRecommendationFeedback"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UndoRecommendationFeedbackInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"undoRecommendationFeedback"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedbackID"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:138}};n.loc.source={body:"mutation UndoRecommendationFeedback($input: UndoRecommendationFeedbackInput!) {\nundoRecommendationFeedback(input: $input) {\nfeedbackID\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UndoRecommendationFeedback=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"UndoRecommendationFeedback")},Igt5:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c}));var i="directory.LANGUAGE_TAGS_UPDATED",a="directory.TAG_FILTER_ADDED",r="directory.TAG_FILTER_CHANGED",o="directory.TAG_FILTER_REMOVED";function s(e){return{type:i,languageTagFilters:e}}function c(e,t){return{type:r,categoryName:t,tagFilters:e}}},JIAW:function(e,t,n){},JTh3:function(e,t,n){},Kf84:function(e,t,n){},M11p:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("sUnt"),s=n("yymn"),c=n("FRZj"),l=n("0zfo"),d=(n("5y8w"),function(e){var t=e.actions||e.children&&e.children.actions,n=e.image||e.children&&e.children.image;n=n&&r.createElement(o.a,{className:"tw-media-card-meta__image",flexGrow:0,flexShrink:0,flexOrder:1,margin:{right:1}},n),t=t&&r.createElement(o.a,{flexGrow:1,flexShrink:1,fullWidth:!0},t);var i=e.menu&&r.createElement(o.a,{flexGrow:0,flexShrink:0,flexOrder:3},e.menu),d=e.title;!function(e){return null!==e&&"object"==typeof e&&e.hasOwnProperty("children")&&"string"==typeof e.children}(e.title)?"string"==typeof e.title&&(d=r.createElement(l.a,null,e.title)):d=r.createElement(l.a,e.title);var m=e.links;u(e.links)?m=r.createElement(c.a,e.links):function(e){return Array.isArray(e)&&e.every((function(e){return u(e)}))}(e.links)&&(m=e.links.map((function(e,t){return r.createElement(c.a,a()({},e,{key:t}))})));var p=r.createElement(o.a,{flexOrder:2,flexGrow:1,flexShrink:1,className:"tw-media-card-meta__text-container",fullWidth:!0},d&&r.createElement("div",{className:"tw-media-card-meta__title"},d),m&&r.createElement("div",{className:"tw-media-card-meta__links"},m),t);return r.createElement(o.a,{display:s.g.Flex,flexWrap:s.i.NoWrap},p,n,i)});function u(e){return null!==e&&"object"==typeof e&&e.hasOwnProperty("children")&&"string"==typeof e.children}d.displayName="MediaCardMeta"},MXoD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("mrSG"),a=n("cr+I"),r=function(e,t){if(!(e.content||e.content_index||e.medium)||!t)return t;if("string"==typeof t&&(/^\w+:\/\//.test(t)||t.startsWith("//"))){var n=new URL(t),r=""!==n.search?a.parse(n.search):{};return e.content&&(r.tt_content=e.content),e.content_index&&(r.tt_content_index=e.content_index),e.medium&&(r.tt_medium=e.medium),n.search=a.stringify(r),n.toString()}var o="string"==typeof t?{pathname:t}:t;return Object(i.__assign)(Object(i.__assign)({},o),{state:Object(i.__assign)(Object(i.__assign)({},o.state),{content:e.content||o.state&&o.state.content,content_index:e.content_index||o.state&&o.state.content_index,medium:e.medium||o.state&&o.state.medium})})}},NecO:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shelfClip"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Clip"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"embedURL"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"clipTitle"},name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"clipViewCount"},name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"game"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"480"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"272"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"clipCreatedAt"},name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"champBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:371}};i.loc.source={body:'#import "twilight/pages/front/queries/user-fragment.gql"\n#import "twilight/pages/front/queries/game-fragment.gql"\nfragment shelfClip on Clip {\nid\nslug\nurl\nembedURL\nclipTitle: title\nclipViewCount: viewCount\ncurator {\n...user\n}\ngame {\n...game\n}\nbroadcaster {\n...user\n}\nthumbnailURL(width:480 height:272)\nclipCreatedAt: createdAt\ndurationSeconds\nlanguage\nchampBadge {\nid\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("P8NS").definitions)),i.definitions=i.definitions.concat(r(n("kEr+").definitions)),e.exports=i},P8NS:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]}]}}],loc:{start:0,end:120}};n.loc.source={body:"fragment user on User {\nid\nbroadcastSettings {\nid\ntitle\n}\ndisplayName\nlogin\nprofileImageURL(width: 50)\nprimaryColorHex\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},RXle:function(e,t,n){"use strict";var i=n("86FS");n.d(t,"VideoPreviewCard",(function(){return i.a}));n("0T/G");var a=n("0Rl0");n.d(t,"VideoPreviewCardPlaceholder",(function(){return a.a}))},ReKM:function(e,t,n){},T2RZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return C}));var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("ANjH"),s=n("/7QA"),c=n("GFmA"),l=n("fXu0"),d=n("2Ygb"),u=n("2xye"),m=n("oJov"),p=n("efpB"),g=n("ky01"),h=n("moLQ"),f=n("kRI/"),v=n("wgyx");function k(e,t,n){return void 0===n&&(n={}),e.reduce((function(e,n){return n.node&&!e[n.node.id]&&(e[n.node.id]=t),e}),n)}function b(e,t){if(t){var n={};return n="string"==typeof t?{pathname:t}:t,Object(i.__assign)(Object(i.__assign)({},n),{state:Object(i.__assign)(Object(i.__assign)({},n.state),e)})}}function y(e,t,n){return n||(n=function(){}),function(a){n&&n(a),s.o.track(u.SpadeEventType.ItemClick,Object(i.__assign)(Object(i.__assign)({},e),{component:t}))}}function C(e,t,n){return function(k){var C=function(r){function o(){var a=null!==r&&r.apply(this,arguments)||this;return a.state={initialTagSet:[]},a.lastImpressionKey=a.props.impressionKey,a.itemTrackingID=Object(v.h)(),a.feedbackDataMap={},a.trackRecFeedbackAdd=function(t,n){var r,o=a.getFeedbackSection(),s={itemTrackingID:a.getItemTrackingID(),itemName:n,section:null!=o?o:null,itemSubSection:o&&a.getFeedbackSubSection(o),feedbackType:a.getFeedbackType(),itemPage:e};a.feedbackDataMap=Object(i.__assign)(Object(i.__assign)({},a.feedbackDataMap),((r={})[t]=s,r)),Object(f.c)(s)},a.trackRecFeedbackUndo=function(e){var t=a.feedbackDataMap[e];Object(f.e)(t)},a.getSection=function(){var e,t;return null!==(t=null===(e=a.props.trackingProps)||void 0===e?void 0:e.section)&&void 0!==t?t:n},a.getFeedbackType=function(){var e,n;return null!==(n=null===(e=a.props.trackingProps)||void 0===e?void 0:e.content)&&void 0!==n?n:t},a.getFeedbackSection=function(){var e=a.getSection();return e===v.c.BrowseCategories?f.a.BrowseCategories:e===v.c.BrowseInCategoryChannels?f.a.BrowseInCategoryChannels:e===v.c.BrowseLiveChannels?f.a.BrowseLiveChannels:void 0},a.getFeedbackSubSection=function(e){return e===f.a.BrowseLiveChannels||e===f.a.BrowseInCategoryChannels?f.b.AllLiveChannels:e===f.a.BrowseCategories?f.b.Categories:void 0},a.getTrackingLocationState=function(){var t=a.props.tagFilters.map((function(e){return e.id})),n=e;a.props.tagFilters.length>0&&(n===u.PageviewMedium.Browse?n=u.PageviewMedium.BrowseDirectoryTags:n===u.PageviewMedium.Game&&(n=u.PageviewMedium.GameDirectoryTags));var r=a.state.initialTagSet.map((function(e){return e.id})),o={tag_set:JSON.stringify(r),tag_filter_set:JSON.stringify(t),tag_streamer_set:"[]",medium:n};if(s.p.history.location.state&&s.p.history.location.state.category_tracking_id)o.item_tracking_id=a.getItemTrackingID(),o.medium=s.p.history.location.state.medium,o.content=s.p.history.location.state.content;else if(a.getSection()===v.c.BrowseLiveChannels||a.getSection()===v.c.BrowseInCategoryChannels)o.item_tracking_id=a.getItemTrackingID();else{if("POP"===s.p.history.action)return o;!s.p.history.location.state||s.p.history.location.state.medium!==u.PageviewMedium.TwitchHome&&s.p.history.location.state.medium!==u.PageviewMedium.AnonFrontPage||(o.item_tracking_id=s.p.history.location.state.item_tracking_id,o.medium=s.p.history.location.state.medium,o.content=s.p.history.location.state.content)}var c=Object(p.a)();return c&&(o=Object(i.__assign)(Object(i.__assign)({},o),c)),o},a.getCommonTrackingParams=function(){var n=a.getTrackingProps(),i=n.category,r=n.channelID,o=n.gameID,c=n.vodID,l=n.itemPosition,d=n.itemPositionOrganic,u=n.isPromotion,m=n.itemViewCount,p=n.rowPosition,g=n.modelTrackingID,h=n.rowName,f=n.sortType,v=a.state.initialTagSet.map((function(e){return e.id})),k=a.getSection();return{category:void 0!==i?i:null,channel_id:void 0!==r?Number(r):null,component:null,content_type:t,filtered:a.props.tagFilters.length>0,is_promotion:void 0!==u?u:null,game_id:o||null,vod_id:c||null,item_page:e,item_position:void 0!==l?l:null,item_position_organic:void 0!==d?d:null,item_subsection:null,item_tracking_id:a.getItemTrackingID(),item_viewcount:null!=m?m:null,model_tracking_id:g||null,page_session_id:s.p.session.pageviewID,previous_tracking_id:s.p.history.location.state&&s.p.history.location.state.category_tracking_id||null,reason_target:null,reason_target_type:null,reason_type:null,request_id:null,row_name:null!=h?h:null,row_position:void 0!==p?p:null,section:void 0!==k?k:null,stream_ccu:null,sort_type:f||null,tag_id:null,tag_set:JSON.stringify(v),tag_streamer_set:"[]"}},a.setInitalTagSet=function(e){a.setState({initialTagSet:e},(function(){a.props.impressionListener.registerImpressionCallback(a.trackImpression)}))},a.trackImpression=function(){s.o.track(u.SpadeEventType.ItemDisplay,a.getCommonTrackingParams())},a}return Object(i.__extends)(o,r),o.prototype.componentDidMount=function(){var e;if(k===m.a||k===c.a)e=(t=this.props).tagListProps&&t.tagListProps.tags;else if(k===g.a){var t;e=(t=this.props).cardProps.tagListProps&&t.cardProps.tagListProps.tags}e&&0!==e.length||this.setInitalTagSet([])},o.prototype.render=function(){if(k===m.a){var e=this.props;return a.createElement(k,Object(i.__assign)({},e,this.wrapGameCardPropsWithTracking(e)))}if(k===g.a){e=this.props;var n=t===v.b.Live?this.wrapPreviewCardPropsWithTracking(e.cardProps):this.wrapGameCardPropsWithTracking(e.cardProps),r={itemTrackingID:this.itemTrackingID,trackRecFeedbackAdd:this.trackRecFeedbackAdd,trackRecFeedbackUndo:this.trackRecFeedbackUndo},o=Object(i.__assign)(Object(i.__assign)({},e),{cardProps:Object(i.__assign)(Object(i.__assign)({},e.cardProps),n)});return a.createElement(k,Object(i.__assign)({},o,r))}e=this.props;return a.createElement(k,Object(i.__assign)({},e,this.wrapPreviewCardPropsWithTracking(e)))},o.prototype.withTagsListTracking=function(e,t){return Object(i.__assign)(Object(i.__assign)({},t),{callback:function(n,a){t.callback&&t.callback(n,a),s.o.track(u.SpadeEventType.ItemClick,Object(i.__assign)(Object(i.__assign)({},e),{component:u.PageviewContent.Tag,item_subsection:v.a.Card,tag_id:a.id}))},tagsShownCallback:this.setInitalTagSet})},o.prototype.wrapPreviewCardPropsWithTracking=function(e){var t=this.getCommonTrackingParams(),n=this.getTrackingLocationState();return Object(i.__assign)(Object(i.__assign)({onVideoTitleClick:y(t,u.PageviewContent.VideoTitle,e.onVideoTitleClick),linkTo:b(n,e.linkTo),onThumbnailClick:y(t,u.PageviewContent.VideoThumbnail,e.onThumbnailClick),channelLinkTo:b(n,e.channelLinkTo),onChannelLoginClick:y(t,u.PageviewContent.ChannelMetadata,e.onChannelLoginClick),onChannelImageClick:y(t,u.PageviewContent.UserThumbnail,e.onChannelImageClick),gameTitleLinkTo:b(n,e.gameTitleLinkTo),onGameTitleClick:y(t,u.PageviewContent.GameName,e.onGameTitleClick)},e.tagListProps&&{tagListProps:this.withTagsListTracking(t,e.tagListProps)}),n.medium&&{trackingContext:{medium:n.medium,content:n.content}})},o.prototype.wrapGameCardPropsWithTracking=function(e){var t=this.getCommonTrackingParams(),n=this.getTrackingLocationState();return n.category_tracking_id=this.getItemTrackingID(),Object(i.__assign)({linkTo:b(n,e.linkTo),onClick:y(t,u.PageviewContent.GameBoxart,e.onClick)},e.tagListProps&&{tagListProps:this.withTagsListTracking(t,e.tagListProps)})},o.prototype.getItemTrackingID=function(){var e=this.getTrackingProps().modelTrackingID;return e||(this.props.impressionKey&&this.lastImpressionKey!==this.props.impressionKey&&(this.lastImpressionKey=this.props.impressionKey,this.itemTrackingID=Object(v.h)()),this.itemTrackingID)},o.prototype.getTrackingProps=function(){return this.props.cardProps?this.props.cardProps.trackingProps||{modelTrackingID:null}:this.props.trackingProps||{modelTrackingID:null}},o.displayName=Object(d.a)(o.name,k),o}(a.Component);return Object(o.d)(Object(l.a)("PreviewCard-"+e+"-"+t,{percentage:75}),Object(r.b)((function(n,i){var a=[];if(e===u.PageviewMedium.Game){var r=i.trackingProps&&i.trackingProps.categoryName;a=r?Object(h.b)(n,r):[]}else a=t===v.b.Live?Object(h.b)(n,h.a.LiveChannels):Object(h.b)(n,h.a.Categories);return{tagFilters:a}})))(C)}}},TCeE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=5,a="sol_sticker_ids"},UYoe:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shelfTitleGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"shelfTitle"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ShelfTitle"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fallbackLocalizedTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedTitleTokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"titleToken"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shelfTitleGame"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"titleToken"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TitleTokenEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TextToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasEmphasis"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"nameForDisplay"},name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagName"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IntegerToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DateToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:447}};n.loc.source={body:"fragment shelfTitleGame on Game {\nid\ndisplayName\n}\nfragment shelfTitle on ShelfTitle {\nkey\nfallbackLocalizedTitle\nlocalizedTitleTokens {\n...titleToken\n}\ncontext {\n...shelfTitleGame\n}\n}\nfragment titleToken on TitleTokenEdge {\nnode {\n...on Game {\nid\nname\ndisplayName\n}\n...on TextToken {\ntext\nhasEmphasis\nlocation\n}\n...on User {\nid\nlogin\nnameForDisplay: displayName\n}\n...on Tag {\nid\ntagName\n}\n...on IntegerToken {\nvalue\n}\n...on DateToken {\ntime\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},Uive:function(e,t,n){"use strict";var i=n("/MKj"),a=n("mrSG"),r=n("q1tI"),o=n("/7QA"),s=n("N0BP"),c=n("MPw5"),l=n("cTNz"),d=n("Beck"),u=n("0BYk"),m="#google_ads_iframe_\\/3576121\\/twitch\\/directory_0",p="#google_ads_iframe_\\/3576121\\/twitch\\/directory_1",g=function(e){function t(t){var n=e.call(this,t)||this;return n.logger=o.k.withCategory("ad-slot"),n.createSlot=function(e){return Object(a.__awaiter)(n,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:if(this.state.slotCreated)return[2];this.setState({slotCreated:!0}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,c.a.createSlot(e.slotID,e.adUnit,e.adSize,e.targeting,e.autoEnable,Object(d.i)(d.b.Amazon,e.consent))];case 2:return t=n.sent(),Object(l.h)(t.getSlotElementId()),this.setState({slot:t}),[3,4];case 3:return n.sent(),this.logger.warn("Unable to create ad slot",{slotID:e.slotID,adUnit:e.adUnit,adSize:e.adSize,targeting:e.targeting,autoEnable:e.autoEnable,blockConsentRequiredContent:Object(d.i)(d.b.Amazon,e.consent)}),[3,4];case 4:return[2]}}))}))},n.setRef=function(e){return n.slotRef=e},n.onSlotRenderEnd=function(e){var t=e.slot.getSlotElementId();if(n.state.slot&&t===n.props.slotID){if(n.logger.debug("Ad slot render ended",{elementID:t,lineItemID:e.lineItemId,createdID:e.creativeId,isEmpty:e.isEmpty,serviceName:e.serviceName,size:e.size}),e.isEmpty)return;if(!n.slotRef)return;if(n.props.slotID===l.b.anonFront.takeover)return void(document.body.classList.contains("takeover")&&n.setState({shouldDisplay:!0},(function(){return n.slotRendered(e.slot)})));var i;if(n.props.slotID===l.b.directory.banner)return void((i=n.slotRef.querySelector(m))&&1!==i.clientWidth&&n.setState({shouldDisplay:!0},(function(){return n.slotRendered(e.slot)})));if(n.props.slotID===l.b.directory.rectangle)return void((i=n.slotRef.querySelector(p))&&1!==i.clientWidth&&n.setState({shouldDisplay:!0},(function(){return n.slotRendered(e.slot)})));n.setState({shouldDisplay:!0},(function(){return n.slotRendered(e.slot)}))}},n.slotRendered=function(e){n.props.slotRendered&&n.props.slotRendered(e)},n.shouldCreateSlot=function(e){return Object(d.h)(e.consent)&&e.trackingSet},n.state={shouldDisplay:!1},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){l.g.addListener(l.f,this.onSlotRenderEnd),this.shouldCreateSlot(this.props)?(this.logger.debug("Consent ready. Tracking is set. Creating slot (componentDidMount)",this.props.slotID),this.createSlot(this.props)):this.logger.debug("Consent not ready or Tracking is not set. Skipping slot creation (componentDidMount)",this.props.slotID)},t.prototype.componentDidUpdate=function(e){this.state.slotCreated||(!this.shouldCreateSlot(this.props)||Object(d.h)(e.consent)===Object(d.h)(this.props.consent)&&e.trackingSet===this.props.trackingSet?this.logger.debug("Tracking is not set. Skipping slot creation (componentDidUpdate)",this.props.slotID):(this.logger.debug("Tracking is set. Creating slot (componentDidUpdate)",this.props.slotID),this.createSlot(this.props)))},t.prototype.componentWillUnmount=function(){this.logger.debug("Destroying Slot (componentWillUnmount)",this.props.slotID),l.g.removeListener(l.f,this.onSlotRenderEnd),this.state.slot&&c.a.destroySlot(this.state.slot)},t.prototype.render=function(){var e=Object(a.__assign)({},this.props.injectStyles);return this.state.shouldDisplay||(e.display="none"),r.createElement("div",Object(a.__assign)({style:e,id:this.props.slotID,ref:this.setRef},Object(s.a)(this.props)))},t}(r.Component),h=Object(u.c)(g);var f=Object(i.b)((function(e){return{trackingSet:e.ads.trackingSet}}))(h);n.d(t,"a",(function(){return f}))},VL3x:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=.5},X2bz:function(e,t,n){},XKWF:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));var i=n("vRsq"),a=n("DMoW");function r(e){switch(e.toUpperCase()){case a.Oe.VIEWS:return a.Oe.VIEWS;case a.Oe.TIME:return a.Oe.TIME;default:return null}}function o(e){switch(e){case i.g.Newest:return a.Oe.TIME;case i.g.Popular:return a.Oe.VIEWS;default:return e}}n.d(t,"a",(function(){return a.Oe}))},ZbA5:function(e,t,n){"use strict";var i,a,r,o,s=n("mrSG"),c=n("TSYQ"),l=n("q1tI"),d=n("/7QA"),u=n("oB8h"),m=n("C7sF"),p=n("7uM4"),g=n("Ws8v"),h=n("yymn"),f=n("sUnt"),v=n("+80q"),k=n("rWGy");n("kVMo");!function(e){e.HostingDot="stream-type-indicator__hosting-dot"}(o||(o={}));var b=((i={})[u.a.Live]="stream-type-indicator--live",i[u.a.Premiere]="stream-type-indicator--premiere",i[u.a.Rerun]="stream-type-indicator--rerun",i[u.a.WatchParty]="stream-type-indicator--rerun",i),y=((a={})[u.a.Premiere]=m.a.VideoPremiere,a[u.a.Rerun]=m.a.VideoRerun,a[u.a.WatchParty]=m.a.VideoRerun,a),C=((r={})[u.a.Premiere]=p.b.Live,r[u.a.Rerun]=p.b.Inherit,r[u.a.WatchParty]=p.b.Inherit,r),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.prototype.render=function(){return l.createElement(g.a,{className:this.getClassNames(),color:h.f.Overlay,background:h.d.Overlay,padding:{x:.5},borderRadius:h.e.Small,display:h.g.Flex},l.createElement(f.a,{display:h.g.Flex,alignItems:h.b.Center,margin:{right:.5}},this.getIcon()),l.createElement(v.a,{type:v.e.Span},this.getLabel()))},t.prototype.getClassNames=function(){var e={"stream-type-indicator":!0};return e[b[this.props.type]]=!0,c(e)},t.prototype.getIcon=function(){return this.props.hosting?l.createElement(g.a,{borderRadius:h.e.Rounded,className:"stream-type-indicator__hosting-dot","data-test-selector":o.HostingDot}):this.props.type===u.a.Live?l.createElement(f.a,{className:"stream-type-indicator__live-wrapper",display:h.g.Flex,alignItems:h.b.Center},l.createElement(k.a,{status:k.c.Live,size:k.b.Small})):l.createElement(p.a,{asset:y[this.props.type],type:C[this.props.type],width:14,height:14})},t.prototype.getLabel=function(){if(this.props.hosting)return Object(d.d)("Hosting","StreamTypeIndicator");switch(this.props.type){case u.a.Live:return Object(d.d)("LIVE","StreamTypeIndicator");case u.a.Premiere:return Object(d.d)("Premiere","StreamTypeIndicator");case u.a.Rerun:case u.a.WatchParty:return Object(d.d)("Rerun","StreamTypeIndicator");default:return""}},t}(l.Component);n.d(t,"a",(function(){return T}))},"a+Ty":function(e,t,n){},b0Hx:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("mrSG"),a=n("q1tI"),r=n("kduP"),o=n("DMoW"),s=n("2xye"),c=n("Jsra"),l=n("+80q"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderLinkFromTitle=function(e,n){var i={pathname:n,state:{content:s.PageviewContent.HeaderGameName,medium:s.PageviewMedium.TwitchHome,shelfTrackingProps:t.props.shelfTrackingProps}};return a.createElement(c.a,{key:e,onClick:t.props.trackTitleClick,linkTo:i},a.createElement("strong",null,e))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.title,n=t.localizedTitleTokens.map((function(t){return e.parseTitleToken(t)}));return n.some((function(e){return!e}))||0===n.length?t.fallbackLocalizedTitle:a.createElement(a.Fragment,null,n)},t.prototype.parseTitleToken=function(e){var t=e&&e.node;return t?"Game"===t.__typename?this.renderLinkFromTitle(t.displayName,Object(r.a)(t.name)):"TextToken"===t.__typename?t.location===o.Ec.CATEGORIES_DIRECTORY?this.renderLinkFromTitle(t.text,"/directory"):t.location===o.Ec.STREAMS_DIRECTORY?this.renderLinkFromTitle(t.text,"/directory/all"):a.createElement(l.a,{key:t.text,type:l.e.Span,bold:t.hasEmphasis},t.text):"User"===t.__typename&&t.nameForDisplay&&t.login?this.renderLinkFromTitle(t.nameForDisplay,t.login):null:null},t}(a.Component)},bY5W:function(e,t,n){},cQ4D:function(e,t,n){},cnlr:function(e,t,n){"use strict";n.r(t);var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("ZS2+"),s=n("kRBY"),c=n("TWrO"),l=o.a.wrap((function(){return n.e(98).then(n.bind(null,"8upG"))}),"UpsellCenterComponent",{placeholder:null,failSilently:!0}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.isLoggedIn||this.props.collapsed&&!Object(c.a)()||!this.props.firstPageLoaded?null:a.createElement(l,Object(i.__assign)({},this.props))},t}(a.PureComponent);var u=Object(r.b)((function(e){return{collapsed:!e.ui.sideNavExpanded,isLoggedIn:Object(s.f)(e),firstPageLoaded:e.session.firstPageLoaded}}))(d);n.d(t,"UpsellCenterContainer",(function(){return d})),n.d(t,"UpsellCenter",(function(){return u}))},d9AN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s}));var i=n("/7QA"),a="languageTags";function r(e){var t=new Set(s());t.add(e);var n=Array.from(t);return i.m.set(a,n),n}function o(e){var t=new Set(s());t.delete(e);var n=Array.from(t);return i.m.set(a,n),n}function s(){return i.m.get(a,[])}},eL87:function(e,t,n){"use strict";var i=n("mrSG"),a=n("q1tI"),r=n("N0BP"),o=n("sUnt"),s=n("yymn"),c=n("Ws8v"),l=n("dEDE"),d=n("+80q"),u=n("7uM4"),m=n("C7sF"),p=(n("zdTm"),function(e){var t=a.createElement(o.a,{flexGrow:1,position:s.n.Relative},a.createElement(c.a,{borderTop:!0,className:"show-more__line",fullWidth:!0,position:s.n.Absolute,zIndex:s.s.Below}));return e.hideButton?a.createElement(o.a,{className:e.doNotMoveUp?void 0:"show-more__move-up"},a.createElement(o.a,Object(i.__assign)({},Object(r.a)(e),{className:"show-more__hidden"}),t)):a.createElement(o.a,Object(i.__assign)({className:e.doNotMoveUp?void 0:"show-more__move-up",display:s.g.Flex,textAlign:s.p.Center},Object(r.a)(e),{padding:{top:1}}),t,a.createElement(o.a,{flexGrow:0,padding:{x:1}},a.createElement(l.a,{onClick:e.onClick,type:l.d.Text},a.createElement(o.a,{display:s.g.Flex},a.createElement(o.a,{alignSelf:s.c.Center,margin:{right:.5}},a.createElement(d.a,null,e.buttonText)),a.createElement(u.a,{asset:m.a.AngleDown})))),t)});n.d(t,"a",(function(){return p}))},eh8k:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=2},h8Tj:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("/7QA"),a="tag-size-cache-uv",r=2e3,o=i.m.get(a,{}),s=null;function c(e){return o[e]}function l(e,t){o[e]=t,function(){if(s)return;s=setTimeout((function(){i.m.set(a,o),s=null}),r)}()}},iiOx:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"tagFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLanguageTag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagName"},arguments:[],directives:[]}]}}],loc:{start:0,end:70}};n.loc.source={body:"fragment tagFragment on Tag {\nid\nisLanguageTag\nlocalizedName\ntagName\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},j48g:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"stream"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Stream"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"game"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tagFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"440"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"248"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:336}};i.loc.source={body:'#import "twilight/features/tags/models/tag-fragment.gql"\n#import "twilight/pages/front/queries/user-fragment.gql"\n#import "twilight/pages/front/queries/game-fragment.gql"\nfragment stream on Stream {\nid\nbroadcaster {\n...user\n}\ngame {\n...game\n}\ntags {\n...tagFragment\n}\nviewersCount\npreviewImageURL(width: 440 height: 248)\ncreatedAt\ntype\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("iiOx").definitions)),i.definitions=i.definitions.concat(r(n("P8NS").definitions)),i.definitions=i.definitions.concat(r(n("kEr+").definitions)),e.exports=i},j9hu:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shelfContentEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ShelfContentEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shelfClip"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"video"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"stream"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"game"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"trackingID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promotionsCampaignID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceType"},arguments:[],directives:[]}]}}],loc:{start:0,end:379}};i.loc.source={body:'#import "twilight/pages/front/queries/clip-fragment.gql"\n#import "twilight/pages/front/queries/video-fragment.gql"\n#import "twilight/pages/front/queries/stream-fragment.gql"\n#import "twilight/pages/front/queries/game-fragment.gql"\nfragment shelfContentEdge on ShelfContentEdge {\ncursor\nnode {\n...shelfClip\n...video\n...stream\n...game\n}\ntrackingID\npromotionsCampaignID\nsourceType\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("NecO").definitions)),i.definitions=i.definitions.concat(r(n("yLKk").definitions)),i.definitions=i.definitions.concat(r(n("j48g").definitions)),i.definitions=i.definitions.concat(r(n("kEr+").definitions)),e.exports=i},"kEr+":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"game"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"188"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"250"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"gameTags"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagType"},value:{kind:"EnumValue",value:"CONTENT"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tagFragment"},directives:[]}]}}]}}],loc:{start:0,end:201}};i.loc.source={body:'#import "twilight/features/tags/models/tag-fragment.gql"\nfragment game on Game {\nid\nname\nviewersCount\ndisplayName\nboxArtURL(width: 188 height: 250)\ngameTags: tags(tagType: CONTENT) {\n...tagFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("iiOx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},"kRI/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return h}));var i,a,r,o=n("mrSG"),s=n("/7QA"),c=n("DMoW"),l=n("L9xt"),d=n("wgyx");function u(e){s.p.tracking.track(l.SpadeEventType.RecFeedbackClick,Object(o.__assign)({},e))}function m(e){u({feedback_action:i.Add,section:e.section,feedback_type:e.feedbackType,item_tracking_id:e.itemTrackingID,item_name:e.itemName,item_subsection:e.itemSubSection,item_page:e.itemPage})}function p(e){u({feedback_action:i.Undo,section:e.section,feedback_type:e.feedbackType,item_tracking_id:e.itemTrackingID,item_name:e.itemName,item_subsection:e.itemSubSection,item_page:e.itemPage})}function g(e){switch(e){case c.ud.CATEGORY:return d.b.Game;case c.ud.CHANNEL:return d.b.Live;case c.ud.SHELF:return d.b.Shelf;case c.ud.VOD:return d.b.Vod;case c.ud.UNSPECIFIED:return null;default:return e}}function h(e){var t;u({feedback_action:i.Remove,feedback_type:g(e.feedbackType),section:null,item_tracking_id:null,item_name:e.itemName,item_page:null!==(t=e.itemPage)&&void 0!==t?t:l.PageviewMedium.Settings})}!function(e){e.Add="add",e.Remove="remove",e.Undo="undo"}(i||(i={})),function(e){e.BrowseLiveChannels="browse_livechannels",e.BrowseCategories="browse_categories",e.BrowseInCategoryChannels="browse_incategory_channels",e.LeftNav="leftnav",e.Carousel="carousel",e.DirectoryFollowing="directory_following",e.TwitchHome="twitch_home"}(a||(a={})),function(e){e.AllLiveChannels="all_live_channels",e.Categories="categories"}(r||(r={}))},kVMo:function(e,t,n){},kW4h:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FeaturedContentCarouselStreams"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"language"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"acceptedMature"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"featuredStreams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"language"},value:{kind:"Variable",name:{kind:"Name",value:"language"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"acceptedMature"},value:{kind:"Variable",name:{kind:"Name",value:"acceptedMature"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isScheduled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSponsored"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priorityLevel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tagFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:486}};i.loc.source={body:'#import "twilight/features/tags/models/tag-fragment.gql"\nquery FeaturedContentCarouselStreams($language: String $first: Int $acceptedMature: Boolean) {\nfeaturedStreams(language: $language first: $first acceptedMature: $acceptedMature) {\nisScheduled\nisSponsored\npriorityLevel\ndescription\nstream {\nbroadcaster {\ndisplayName\nid\nprofileImageURL(width: 150)\nlogin\n}\ngame {\nid\nname\ndisplayName\n}\nid\ntype\nviewersCount\npreviewImageURL(width: 320 height: 180)\ntags {\n...tagFragment\n}\n}\ntitle\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("iiOx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.FeaturedContentCarouselStreams=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"FeaturedContentCarouselStreams")},ky01:function(e,t,n){"use strict";var i,a=n("mrSG"),r=n("q1tI"),o=n("ZS2+"),s=n("GFmA"),c=n("tWm8"),l=n("D7An"),d=n("oJov"),u=n("a0DK"),m=n("7pbv"),p=n("EMOq"),g=n("9MO3"),h=n("7d/q"),f=n("C7sF"),v=n("fPaz"),k=n("sUnt"),b=o.a.wrap((function(){return n.e(229).then(n.bind(null,"GyBV"))}),"RecFeedbackButton",{placeholder:r.createElement(h.a,Object(a.__assign)({},{"aria-label":Object(p.a)(),icon:f.a.More,size:h.b.Small,disabled:!0}))}),y=o.a.wrap((function(){return Promise.resolve().then(n.bind(null,"7pbv"))}),"HiddenContentNotice",{placeholder:null}),C=o.a.wrap((function(){return n.e(95).then(n.bind(null,"sHP8"))}),"ReportContentNotice",{placeholder:null});!function(e){e.Visible="visible",e.NotInterested="not-interested",e.Reported="reported"}(i||(i={}));var T=function(e){function t(){var t,n,o=e.apply(this,arguments)||this;return o.state={contentStatus:i.Visible,addFeedbackPromise:null},o.itemID="Stream"===o.props.node.__typename?o.props.node.broadcaster&&o.props.node.broadcaster.id:o.props.node.id,o.itemName="Stream"===o.props.node.__typename?null!==(n=null===(t=o.props.node.broadcaster)||void 0===t?void 0:t.displayName)&&void 0!==n?n:null:o.props.node.displayName,o.renderCard=function(){var e,t=o.props.node;if("Game"===t.__typename){var n=o.props.cardProps;return r.createElement(d.a,Object(a.__assign)({},n,{"data-a-target":"card-"+o.props.index,"data-a-id":"card-"+t.name.replace(/ /g,""),tagListProps:n.tagListProps,showDropsBadge:n.showDropsBadge,contextualCardActionProps:o.getFeedbackProps({vodID:null,categoryID:t&&t.id,categoryName:t&&t.displayName,channelID:null,channelName:null,feedbackReason:Object(g.b)(),hideContent:o.hideContent})}))}if("Stream"===t.__typename){n=Object(a.__assign)({},o.props.cardProps);return Object(c.b)(l.c.TwoLinesTitleVideoCardBrowsePage)||delete n.channelImageProps,r.createElement(s.a,Object(a.__assign)({titleLines:Object(c.a)(l.c.TwoLinesTitleVideoCardBrowsePage)},n,{"data-a-target":"card-"+o.props.index,"data-a-id":"card-"+(t&&t.broadcaster&&t.broadcaster.login||"").replace(/ /g,""),watchparty:Object(u.m)(null===(e=t.game)||void 0===e?void 0:e.id),contextualCardActionProps:o.getFeedbackProps({channelID:t.broadcaster&&t.broadcaster.id,channelName:t.broadcaster&&t.broadcaster.displayName,categoryID:t.game&&t.game.id,categoryName:t.game&&t.game.displayName,feedbackReason:Object(g.c)(),hideContent:o.hideContent,onReportModalClose:o.onReportUserModalClose})}))}},o.hideContent=function(e){o.setState({contentStatus:i.NotInterested,addFeedbackPromise:e})},o.onReportUserModalClose=function(e,t){t&&o.setState({contentStatus:i.Reported})},o.getFeedbackProps=function(e){var t=e.channelID,n=e.categoryID,i=e.categoryName,a=e.channelName,r=e.feedbackReason,s=e.hideContent,c=e.onReportModalClose;if(!o.props.hideRecFeedback&&s)return{component:b,props:{channelID:t,categoryID:n,categoryName:i,channelName:a,feedbackReason:r,hideContent:s,onReportModalClose:c,trackRecFeedbackAdd:o.trackRecFeedbackAdd,sourceItemRequestID:o.props.requestID,sourceItemTrackingID:o.props.itemTrackingID,isShelf:!1}}},o.trackRecFeedbackAdd=function(){o.itemID&&o.props.trackRecFeedbackAdd(o.itemID,o.itemName)},o.showContent=function(){o.setState({contentStatus:i.Visible,addFeedbackPromise:null}),o.itemID&&o.props.trackRecFeedbackUndo(o.itemID)},o}return Object(a.__extends)(t,e),t.prototype.render=function(){var e;if(this.state.contentStatus===i.NotInterested){var t=Object(m.mapNodeTypeToProps)(this.props.node),n=t.aspectRatio,a=t.contentType,o=t.size;return r.createElement(v.b,{ratio:n},r.createElement(y,{contentType:a,undoSuccessHandler:this.showContent,addFeedbackPromise:this.state.addFeedbackPromise,size:o,shouldRemoveContent:!1,sourceItemRequestID:this.props.requestID,sourceItemTrackingID:this.props.itemTrackingID}))}if(this.state.contentStatus===i.Reported){n=Object(m.mapNodeTypeToProps)(this.props.node).aspectRatio;return r.createElement(v.b,{ratio:n},r.createElement(C,null))}return r.createElement(k.a,{key:this.props.node.id,padding:null!==(e=this.props.padding)&&void 0!==e?e:{bottom:2}},this.renderCard())},t}(r.Component);n.d(t,"a",(function(){return T}))},moLQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var i,a=n("mrSG"),r=n("/7QA"),o=n("Igt5"),s=n("d9AN");function c(e,t){return t=t.toLowerCase(),e.directory.tagFilters[t]||[]}function l(e){return e.directory.languageTagFilters}!function(e){e.Categories="browse-categories",e.LiveChannels="browse-live-channels"}(i||(i={})),r.p.store.registerReducer("directory",(function(e,t){switch(void 0===e&&(e={languageTagFilters:Object(s.c)(),tagFilters:{}}),t.type){case o.a:return Object(a.__assign)(Object(a.__assign)({},e),{languageTagFilters:t.languageTagFilters});case o.b:var n=Object(a.__assign)({},e.tagFilters),i=t.categoryName.toLowerCase(),r=n[i];return(void 0===r||r.every((function(e){return e.id!==t.addedTag.id})))&&(n[i]=Object(a.__spreadArrays)(n[i]||[],[t.addedTag])),Object(a.__assign)(Object(a.__assign)({},e),{tagFilters:n});case o.c:var c=t.categoryName.toLowerCase();return e.tagFilters[c]=Object(a.__spreadArrays)(t.tagFilters),Object(a.__assign)({},e);case o.d:var l=t.categoryName.toLowerCase();if(void 0===e.tagFilters[l])return Object(a.__assign)({},e);var d=e.tagFilters[l].filter((function(e){return e.id!==t.removedTag.id}));return e.tagFilters[l]=d,Object(a.__assign)({},e);default:return e}}))},nKT9:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("mrSG"),a=n("/7QA"),r=n("2xye"),o=function(){var e=a.o.getLastPageview();return e&&e.location||r.PageviewLocation.None},s=function(e){a.o.trackItemSectionClick({carousel_content:r.PageviewContent.Video,channel_id:e.broadcasterID||"0",channel:e.channelLogin||"unknown",content:r.PageviewContent.PreviewCardGameName,item_index:e.contentIndex,medium:e.pageviewMedium,item_id:e.videoID,item_type:r.TwitchDataType.Video,item_viewcount:null,location:o()})},c=function(e){a.o.trackItemSectionClick({carousel_content:r.PageviewContent.PreviewCardGameBalloonGame,channel_id:e.broadcasterID||"0",channel:e.channelLogin||"unknown",content:r.PageviewContent.PreviewCardGameBalloonGame,item_index:e.contentIndex,medium:e.pageviewMedium,item_id:e.videoID,item_type:r.TwitchDataType.Video,item_viewcount:null,location:o()})},l=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(i){try{t=e.map((function(){return r.TwitchDataType.Game})),n=e.map((function(){return null})),a.o.trackItemSectionLoad({carousel_content:r.PageviewContent.PreviewCardGameBalloonGame,rendered_item_count:e.length,rendered_item_list:e,rendered_item_types:t,rendered_items_viewcounts:n,location:o()})}catch(e){}return[2]}))}))}},nsVP:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Shelves"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"requestID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"langWeightedCCU"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"itemsPerRow"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shelves"},arguments:[{kind:"Argument",name:{kind:"Name",value:"requestID"},value:{kind:"Variable",name:{kind:"Name",value:"requestID"}}},{kind:"Argument",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}},{kind:"Argument",name:{kind:"Name",value:"langWeightedCCU"},value:{kind:"Variable",name:{kind:"Name",value:"langWeightedCCU"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"itemsPerRow"},value:{kind:"Variable",name:{kind:"Name",value:"itemsPerRow"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shelf"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:332}};i.loc.source={body:'#import "twilight/pages/front/queries/shelf-fragment.gql"\nquery Shelves(\n$requestID: String!\n$platform: String!\n$langWeightedCCU: Boolean\n$limit: Int\n$itemsPerRow: Int\n) {\nshelves(\nrequestID: $requestID\nplatform: $platform\nlangWeightedCCU: $langWeightedCCU\nfirst: $limit\nitemsPerRow: $itemsPerRow\n) {\nedges {\nnode {\n...shelf\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("HXRw").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.Shelves=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"Shelves")},oHFS:function(e,t,n){},oJov:function(e,t,n){"use strict";var i=n("mrSG"),a=n("TSYQ"),r=n("q1tI"),o=n("2xye"),s=n("/7QA"),c=n("sUnt"),l=n("yymn"),d=n("vCsY"),u=n("b7S+"),m=n("Ws8v"),p=n("Jsra"),g=n("7uM4"),h=n("C7sF"),f=(n("1mcJ"),function(e){return r.createElement(c.a,Object(i.__assign)({className:"drops-badge",position:l.n.Absolute,attachTop:!0,attachRight:!0},Object(d.a)(e)),r.createElement(u.a,{direction:u.c.Top,align:u.b.Right,label:Object(s.d)("Offers in-game Drops","DropsBadge")},r.createElement(m.a,{className:"drops-badge__drops-icon",position:l.n.Relative,padding:{top:.5,right:.5,bottom:3,left:3},overflow:l.m.Hidden,color:l.f.Overlay,zIndex:l.s.Default},r.createElement(p.a,{type:p.b.Inherit,hoverColorInherit:!0,linkTo:"https://help.twitch.tv/customer/en/portal/articles/2754380-how-to-earn-drops"},r.createElement(g.a,{asset:h.a.Drops})))))}),v=n("0LAi"),k=n("fPaz"),b=n("PL8s"),y=n("+80q"),C=n("BKYw"),T=n("hCFK"),S=n("L/cU"),w=n("AFv4"),_=n("uXHW"),I=(n("uwtH"),new Set(["alt","src","srcSet","sizes","onError","onLoad","refHandler"]));var E=function(){return r.createElement(c.a,{padding:{bottom:1}},r.createElement(c.a,{margin:{bottom:.5}},r.createElement(k.b,{ratio:k.c.Aspect3x4},r.createElement(b.a,null))),r.createElement(y.a,null,r.createElement(b.a,{width:150})),r.createElement(c.a,{padding:{bottom:2}},r.createElement(y.a,{fontSize:l.j.Size7},r.createElement(b.a,{width:100}))))},P=function(e){var t,n=r.useState(!1),s=n[0],u=n[1];return e.placeholder?r.createElement(E,null):(t=r.createElement(r.Fragment,null,r.createElement(p.a,Object(i.__assign)({},Object(d.a)(e),{className:"tw-box-art-card__link","data-a-target":"tw-box-art-card-link",linkTo:e.linkTo,onClick:function(t){var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,t,o.PageviewContent.GameBoxart)}}),r.createElement(C.a,{color:e.colorHex},r.createElement(c.a,{className:a({"tw-box-art-card__image":!0,"tw-box-art-card__image--unavailable":e.unavailable}),"data-test-selector":"tw-card-image","data-a-target":"tw-card-image"},r.createElement(T.a,{alwaysRenderChild:!0,className:"game-card__image",transitionInitialMount:!0,duration:T.b.Short,show:s,type:T.c.Fade},r.createElement(S.a,Object(i.__assign)({onLoad:function(){u(!0)},aspect:k.c.BoxArt},function(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];I.has(a)&&(t[a]=e[a])}return t}(e)))),!0===e.showDropsBadge&&r.createElement(f,null)))),r.createElement(w.a,null,r.createElement(c.a,{display:l.g.Flex},r.createElement(c.a,{"data-test-selector":"tw-card-title","data-a-target":"tw-card-title",flexGrow:1,flexShrink:1,margin:{top:.5},ellipsis:!0},r.createElement(y.a,{color:l.f.Alt,type:y.e.Span},r.createElement(p.a,Object(i.__assign)({},Object(d.a)(e),{linkTo:e.linkTo,onClick:function(t){var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,t,o.PageviewContent.GameName)},type:p.b.Inherit,hoverUnderlineNone:!0}),r.createElement(y.a,{type:y.e.H3,fontSize:l.j.Size5,lineHeight:y.b.Body,lines:1,ellipsis:!0},e.title)))),e.contextualCardActionProps&&r.createElement(c.a,{margin:{top:.5},flexGrow:0,flexShrink:0},r.createElement(e.contextualCardActionProps.component,Object(i.__assign)({},e.contextualCardActionProps.props)))),r.createElement(y.a,{color:l.f.Alt2,ellipsis:!0},r.createElement(p.a,Object(i.__assign)({},Object(d.a)(e),{linkTo:e.linkTo,onClick:function(t){var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,t,o.PageviewContent.GameMetadata)},type:p.b.Inherit,hoverUnderlineNone:!0}),e.info)))),r.createElement("div",Object(i.__assign)({className:"tw-box-art-card"},Object(d.a)(e)),r.createElement(_.a,{key:e.title},t),e.tagListProps&&0!==e.tagListProps.tags.length&&r.createElement(c.a,{margin:{top:.5}},r.createElement(v.a,Object(i.__assign)({},e.tagListProps,{fitOneLine:!0})))))};n.d(t,"a",(function(){return P}))},pP4p:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),a=n("q1tI"),r=n("X2PJ"),o=n("yymn"),s=n("VL3x"),c=n("h8Tj"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapperRef=a.createRef(),t.measured=!1,t.reportMeasuredWidth=function(){var e=t.props,n=e.cachedWidth,i=e.tagName;if(!n&&!t.measured&&t.wrapperRef.current){var a=t.wrapperRef.current.getBoundingClientRect().width;Object(c.b)(i,a),t.measured=!0}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportMeasuredWidth()},t.prototype.componentDidUpdate=function(){this.reportMeasuredWidth()},t.prototype.render=function(){var e=this.props,t=e.isLast,n=e.children,c=e.cachedWidth,l=e.marginBottom,d=void 0===l?.5:l,u=c?{}:{ref:this.wrapperRef};return a.createElement(r.a,{fontSize:o.j.Size7,display:o.g.InlineBlock,margin:{right:t?0:s.a,bottom:d},verticalAlign:o.q.Middle},a.createElement("div",Object(i.__assign)({},u),n))},t}(a.Component)},qLrF:function(e,t,n){"use strict";var i,a,r;n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.Large="Large",e.Small="Small",e.ExtraSmall="ExtraSmall"}(i||(i={})),function(e){e.Category="category",e.Channel="channel",e.Shelf="shelf",e.VOD="vod"}(a||(a={})),function(e){e.Running="Running",e.Paused="Paused",e.Stopped="Stopped"}(r||(r={}))},qiTJ:function(e,t,n){},rBXG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=18},sSu5:function(e,t,n){},tWm8:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i,a=n("/7QA");function r(e){var t=a.p.experiments.getAndTrackAssignment(e);return t===i.Control||t===i.TwoLinesTitleWithAvatar}function o(e){var t=a.p.experiments.getAndTrackAssignment(e);return t===i.Control||t===i.OneLineTitleWithoutAvatar?1:t===i.TwoLinesTitleWithAvatar||t===i.TwoLinesTitleWithoutAvatar?2:void 0}!function(e){e.Control="control",e.OneLineTitleWithoutAvatar="one_line_no_avatar",e.TwoLinesTitleWithoutAvatar="two_lines_no_avatar",e.TwoLinesTitleWithAvatar="two_lines_with_avatar"}(i||(i={}))},uwtH:function(e,t,n){},"v/VB":function(e,t,n){},vRsq:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"u",(function(){return f})),n.d(t,"r",(function(){return v})),n.d(t,"t",(function(){return k})),n.d(t,"o",(function(){return b})),n.d(t,"q",(function(){return y})),n.d(t,"v",(function(){return C})),n.d(t,"y",(function(){return T})),n.d(t,"x",(function(){return S})),n.d(t,"w",(function(){return w})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return I})),n.d(t,"h",(function(){return E})),n.d(t,"l",(function(){return P})),n.d(t,"m",(function(){return N})),n.d(t,"s",(function(){return D})),n.d(t,"p",(function(){return F})),n.d(t,"k",(function(){return L})),n.d(t,"n",(function(){return j}));var i,a,r,o,s=n("cr+I"),c=n("/7QA"),l=n("DMoW"),d=n("XKWF"),u=n("+GjP"),m="sort",p="filter",g="range",h="category";function f(e,t,n,i){var r=i||v(t),o="";r&&(o="?"+m+"="+function(e){switch(e){case d.a.VIEWS:return a.Popular;case d.a.TIME:return a.Newest;default:return e}}(r));var s=n?n.toLowerCase():function(e){var t=k(e);return t?t.toLowerCase():"all"}(t);c.p.history.push(e+"/"+s+o)}function v(e){var t=s.parse(e.location.search);return Object(d.b)(t.sort||"")}function k(e){switch(e.match.params.filter){case l.H.ARCHIVE.toLowerCase():return l.H.ARCHIVE;case l.H.HIGHLIGHT.toLowerCase():return l.H.HIGHLIGHT;case l.H.UPLOAD.toLowerCase():return l.H.UPLOAD;case l.H.PAST_PREMIERE.toLowerCase():return l.H.PAST_PREMIERE;default:return}}function b(e){var t=s.parse(e.location.search);return e.match.params.collectionID||t.collection||null}function y(e){return""===e?"":e.startsWith("v")?e:"v"+e}function C(e){var t=Object(u.a)(e,g);if(!t)return null;switch(t.toLowerCase()){case i.All:return i.All;case i.Day:return i.Day;case i.Week:return i.Week;case i.Month:return i.Month;default:return null}}function T(e){var t=Object(u.a)(e,m);if(!t)return null;switch(t.toLowerCase()){case a.Newest:return a.Newest;case a.Popular:return a.Popular;default:return null}}function S(e){var t=Object(u.a)(e,p);if(!t)return null;switch(t.toLowerCase()){case r.Clips:return r.Clips;case r.Collections:return r.Collections;case r.Highlights:return r.Highlights;case r.PastBroadcasts:return r.PastBroadcasts;case r.PastPremieres:return r.PastPremieres;case r.Uploads:return r.Uploads;case r.All:return r.All;default:return null}}function w(e){return Object(u.a)(e,h)}function _(e,t,n){return!t&&n?e?"/"+e+"/"+o.Collection+"/"+n:"/collections/"+n:e?"/"+e+"/"+o.Video+"/"+t+(n?"?collection="+n:""):"/videos/"+t+(n?"?collection="+n:"")}function I(e,t,n){var i="/"+e,a=D(t),c=function(e){return e.match.params.contentType===o.Clip&&e.match.params.contentID||null}(t),l=F(t),d=s.parse(t.location.search).collection;if(i=a?i.concat("/"+o.Video+"/"+a+(d?"?collection="+d:"")):c?i.concat("/"+o.Clip+"/"+c):l&&!d?i.concat("/"+o.Collection+"/"+l):n&&n.filter===r.Clips?i.concat("/clips"):i.concat("/videos"),n){var u=O(n);if(Object.keys(u).length>0)return d?i+"&"+s.stringify(u):i+"?"+s.stringify(u)}return P(e,n)}function E(e,t){var n="/collections/"+e,i=O(s.parse(t.location.search));return Object.keys(i).length>0?n+"?"+s.stringify(i):n}function P(e,t){var n="/"+e+"/videos";if(t){var i=O(t);if(Object.keys(i).length>0)return n+"?"+s.stringify(i)}return n}function N(e){return"/"+e+"/videos/edit"}function O(e){var t={};return e.category&&(t[h]=e.category),e.sort&&(t[m]=e.sort),e.filter&&(t[p]=e.filter),e.range&&(t[g]=e.range),t}function D(e){return e.match.params.contentType===o.Video&&e.match.params.contentID||e.match.params.videoID||null}function F(e){var t=s.parse(location.search);return e.match.params.contentType===o.Collection&&e.match.params.contentID||e.match.params.collectionID||t.collection||null}function L(e){var t=s.parse(e.location.search);return e.match.params.categoryID||t.category||null}function j(e){switch(e){case i.All:return l.W.ALL_TIME;case i.Day:return l.W.LAST_DAY;case i.Week:return l.W.LAST_WEEK;case i.Month:return l.W.LAST_MONTH;default:return e}}!function(e){e.All="all",e.Month="30d",e.Week="7d",e.Day="24hr"}(i||(i={})),function(e){e.Popular="views",e.Newest="time"}(a||(a={})),function(e){e.Clips="clips",e.Collections="collections",e.Highlights="highlights",e.PastBroadcasts="archives",e.PastPremieres="past_premieres",e.Uploads="uploads",e.All="all",e.Featured="featured"}(r||(r={})),function(e){e.Video="video",e.Clip="clip",e.Collection="collection"}(o||(o={}))},x75U:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var i=n("mrSG"),a=n("17x9"),r=n("q1tI"),o=n("2xye"),s=n("3sMy"),c=n("kRI/"),l=n("wgyx"),d={cardIDtoItemTrackingIDMap:a.object,cardIDtoRequestIDMap:a.object,trackComponentClick:a.func,trackComponentImpression:a.func,trackImpression:a.func,setCardTrackingMapping:a.func,trackClick:a.func,trackRecFeedbackAdd:a.func,trackRecFeedbackUndo:a.func};function u(){return function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={cardIDtoItemTrackingIDMap:{},cardIDtoRequestIDMap:{},headerImpressionID:null,headerRequestID:e.props.requestID,shelf:null},e.feedbackDataMap={},e.impressionSet=new Set,e.getChildContext=function(){return{trackComponentClick:e.trackComponentClick,trackComponentImpression:e.trackComponentImpression,trackRecFeedbackAdd:e.trackRecFeedbackAdd,trackRecFeedbackUndo:e.trackRecFeedbackUndo,setCardTrackingMapping:e.setCardTrackingMapping,trackImpression:e.trackImpression,trackClick:e.trackClick,cardIDtoItemTrackingIDMap:e.state.cardIDtoItemTrackingIDMap,cardIDtoRequestIDMap:e.state.cardIDtoRequestIDMap}},e.trackComponentImpression=function(t,n,i){var a={reasonTarget:i&&i.reasonTarget,reasonTargetType:i&&i.reasonTargetType},r=Object(l.i)(t,a),s=r.reasonType,c=r.reasonTarget,d=r.rowName,u=Object(l.h)(),m={component:n,contentEdge:null,itemTrackingID:u,itemPage:e.getItemPage(),itemPosition:null,reasonType:s,reasonTarget:c,reasonTargetType:null,requestID:e.props.requestID,rowName:d,rowPosition:e.props.position,section:e.getItemEventSection(),tagID:null,filtered:!1,tagSet:"[]",tagStreamerSet:"[]"};Object(l.k)(m,o.PageviewContent.HeaderGameName),e.setState({headerImpressionID:u})},e.trackComponentClick=function(t){var n=e.props.shelf.trackingInfo,i=n.reasonType,a=n.reasonTarget,r=n.reasonTargetType,s=n.rowName,c={component:t,contentEdge:null,itemTrackingID:e.state.headerImpressionID,requestID:e.state.headerRequestID,itemPage:e.getItemPage(),itemPosition:null,rowPosition:e.props.position,reasonType:i,reasonTarget:a,reasonTargetType:r,rowName:s,section:e.getItemEventSection(),tagID:null,filtered:!1,tagSet:"[]",tagStreamerSet:"[]"};Object(l.j)(c,o.PageviewContent.HeaderGameName)},e.setCardTrackingMapping=function(t){var n,i,a=null===(n=null==t?void 0:t.node)||void 0===n?void 0:n.id;if(a){var r=null!==(i=null==t?void 0:t.trackingID)&&void 0!==i?i:Object(l.h)();e.setState((function(e){var t=e.cardIDtoItemTrackingIDMap;return t[a]=r,{cardIDtoItemTrackingIDMap:t}}))}},e.trackImpression=function(t,n,i,a,r){var o,s,c,d=r&&r.contentEdge&&r.contentEdge.node&&r.contentEdge.node.id,u=n&&n.node&&n.node.id,m=d||u;if(m&&!e.impressionSet.has(m)){var p=e.state.cardIDtoItemTrackingIDMap[m],g={reasonTarget:r&&r.reasonTarget,reasonTargetType:r&&r.reasonTargetType},h=Object(l.i)(t,g),f=h.reasonType,v=h.reasonTarget,k=h.reasonTargetType,b=h.rowName,y={component:l.a.Card,contentEdge:null!==(o=null==r?void 0:r.contentEdge)&&void 0!==o?o:n,contentTypeOverride:r&&r.contentTypeOverride,itemTrackingID:p,itemPage:e.getItemPage(),itemPosition:i,itemPositionOrganic:null!==(s=null==r?void 0:r.itemPositionOrganic)&&void 0!==s?s:null,reasonType:f,reasonTarget:v,reasonTargetType:k,requestID:e.state.cardIDtoRequestIDMap[n.node.id],rowName:b,rowPosition:null!==(c=null==r?void 0:r.rowPosition)&&void 0!==c?c:e.props.position,section:e.getItemEventSection(),tagID:null,filtered:!1,tagSet:JSON.stringify(a),tagStreamerSet:"[]",isPromotion:Boolean(null==r?void 0:r.isPromotion)};Object(l.k)(y),e.impressionSet.add(m)}},e.trackClick=function(t,n,i,a,r,o,s){var c,d;if(n.node){var u=e.state,m=u.cardIDtoRequestIDMap,p=u.cardIDtoItemTrackingIDMap[n.node.id]||null,g={reasonTarget:s&&s.reasonTarget,reasonTargetType:s&&s.reasonTargetType},h=Object(l.i)(t,g),f=h.reasonType,v=h.reasonTarget,k=h.reasonTargetType,b=h.rowName,y={component:l.a.Card,contentEdge:n,contentTypeOverride:s?s.contentTypeOverride:void 0,itemTrackingID:p,requestID:m[n.node.id],itemPage:e.getItemPage(),itemPosition:i,itemPositionOrganic:null!==(c=null==s?void 0:s.itemPositionOrganic)&&void 0!==c?c:null,rowPosition:null!==(d=null==s?void 0:s.rowPosition)&&void 0!==d?d:e.props.position,reasonType:f,reasonTarget:v,reasonTargetType:k,rowName:b,section:e.getItemEventSection(),tagID:null!=o?o:null,filtered:!1,tagSet:JSON.stringify(r),tagStreamerSet:"[]",isPromotion:Boolean(null==s?void 0:s.isPromotion)};Object(l.j)(y,a)}},e.trackRecFeedbackAdd=function(t,n,a){var r,o,s=e.state.cardIDtoItemTrackingIDMap,d=Object(l.f)(n),u=d.channelID,m=d.gameID,p=d.vodID,g=d.contentType,h=p||u||m||t.id,f={feedbackType:null!=g?g:l.b.Shelf,itemName:a,itemTrackingID:n&&n.node&&null!==(o=s[n.node.id])&&void 0!==o?o:null,section:e.getFeedbackSection(),itemPage:e.getItemPage()};e.feedbackDataMap=Object(i.__assign)(Object(i.__assign)({},e.feedbackDataMap),((r={})[h]=f,r)),Object(c.c)(f)},e.trackRecFeedbackUndo=function(t){var n=e.feedbackDataMap[t];Object(c.e)(n)},e.getItemPage=function(){return e.props.pageType===l.e.FollowingPage?o.PageviewMedium.DirectoryFollowing:o.PageviewMedium.TwitchHome},e.getItemEventSection=function(){return e.props.shelf.title.key===s.a.TopMischief||e.props.shelf.title.key===s.a.MischiefForYou?l.c.Mischief:e.props.pageType===l.e.FollowingPage?l.c.DirectoryFollowing:l.c.TwitchHome},e.getFeedbackSection=function(){return e.props.pageType===l.e.FollowingPage?c.a.DirectoryFollowing:c.a.TwitchHome},e}return Object(i.__extends)(n,t),n.getDerivedStateFromProps=function(e,t){var n=e.shelf,i=e.requestID;return t.shelf&&n.content.edges===t.shelf.content.edges?null:{cardIDtoRequestIDMap:(n.content.edges||[]).reduce((function(e,t){return t.node&&!e[t.node.id]&&(e[t.node.id]=i),e}),t.cardIDtoRequestIDMap),shelf:n}},n.prototype.render=function(){var t=this.props.shelf.trackingInfo.rowName,n={trackComponentClick:this.getChildContext().trackComponentClick,trackComponentImpression:this.getChildContext().trackComponentImpression,trackRecFeedbackAdd:this.getChildContext().trackRecFeedbackAdd,trackRecFeedbackUndo:this.getChildContext().trackRecFeedbackUndo,setCardTrackingMapping:this.getChildContext().setCardTrackingMapping,trackImpression:this.getChildContext().trackImpression,trackClick:this.getChildContext().trackClick,shelfTrackingProps:{item_tracking_id:this.state.headerImpressionID,item_position:null,row_name:t,row_position:this.props.position}};return r.createElement(e,Object(i.__assign)({},this.props,n))},n.childContextTypes=d,n}(r.Component)}}},xxGj:function(e,t,n){},yLKk:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"video"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"game"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"400"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"225"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tagFragment"},directives:[]}]}}]}}],loc:{start:0,end:353}};i.loc.source={body:'#import "twilight/features/tags/models/tag-fragment.gql"\n#import "twilight/pages/front/queries/user-fragment.gql"\n#import "twilight/pages/front/queries/game-fragment.gql"\nfragment video on Video {\nid\ngame {\n...game\n}\nlengthSeconds\nowner {\n...user\n}\npreviewThumbnailURL(width: 400 height: 225)\npublishedAt\ntitle\nviewCount\ncontentTags {\n...tagFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("iiOx").definitions)),i.definitions=i.definitions.concat(r(n("P8NS").definitions)),i.definitions=i.definitions.concat(r(n("kEr+").definitions)),e.exports=i},zdTm:function(e,t,n){}}]);