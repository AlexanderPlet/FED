(window.webpackJsonp=window.webpackJsonp||[]).push([[229],{GyBV:function(e,n,t){"use strict";t.r(n);var o=t("mrSG"),a=t("q1tI"),i=t("/7QA"),r=t("yR8l"),c=t("geRD"),d=t("2xye"),s=t("lywp"),l=t("eJ65"),u=t("xP6e"),p=t("EMOq"),f=t("sUnt"),m=t("7d/q"),b=t("C7sF"),h=t("k0nM"),k=t("ygYM"),g=t("4wKg"),v=t("G9mL"),R=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(e){e.preventDefault(),e.stopPropagation(),n.props.onNotInterested()},n.onToggle=function(e){!e&&n.props.onMenuOpen&&n.props.onMenuOpen()},n}return Object(o.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.channelID,t=e.channelLogin,o=e.hasHorizontalIcon,r=e.shouldHideReportItem,c=e.onReportModalClose;return a.createElement(f.a,{className:"feedback-card"},a.createElement(l.a,{preventDefault:!0,stopPropagation:!0,onToggle:this.onToggle},a.createElement(m.a,{"aria-label":Object(p.a)(),icon:o?b.a.NavMore:b.a.More,size:m.b.Small,"data-a-target":"rec-feedback-card-button"}),a.createElement(h.a,{direction:k.b.TopRight,size:k.c.Small},a.createElement(g.a,{label:Object(i.d)("Not Interested","RecFeedbackButtonCard"),onClick:this.onClick,figure:{icon:b.a.VisibilityHidden},"data-a-target":"rec-feedback-card-not-interested"}),!r&&n&&t&&a.createElement(a.Fragment,null,a.createElement(v.a,null),a.createElement(u.a,{channelID:n,channelLogin:t,onModalClose:c})))))},n}(a.Component),I=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(e){e.preventDefault(),e.stopPropagation(),n.props.onNotInterested()},n.onToggle=function(e){!e&&n.props.onMenuOpen&&n.props.onMenuOpen()},n}return Object(o.__extends)(n,e),n.prototype.render=function(){var e=this.props.hasHorizontalIcon,n=Object(i.d)("Not Interested","RecFeedbackButtonShelf");return a.createElement(l.a,{preventDefault:!0,stopPropagation:!0,onToggle:this.onToggle},a.createElement(m.a,{"aria-label":Object(p.a)(),icon:e?b.a.NavMore:b.a.More,size:m.b.Small,"data-a-target":"rec-feedback-shelf-button"}),a.createElement(h.a,{direction:k.b.BottomRight,size:k.c.Small},a.createElement(g.a,{label:n,"aria-label":n,onClick:this.onClick,figure:{icon:b.a.VisibilityHidden},"data-a-target":"rec-feedback-shelf-not-interested"})))},n}(a.Component),y=t("MjA6"),C=t("DMoW"),D=t("wgyx"),E=function(e,n){switch(e){case D.b.Shelf:return n.shelfID;case D.b.Game:return n.categoryID;case D.b.Live:return n.channelID;case D.b.Vod:return n.vodID;case D.b.Preview:case D.b.Clip:return null;default:return e}},O=function(e,n){var t=e.contentType,o=e.feedbackType;return{contentID:E(e.contentType,n),contentType:t,feedbackType:o}},M=function(e){switch(e){case D.b.Shelf:return C.ud.SHELF;case D.b.Game:return C.ud.CATEGORY;case D.b.Live:return C.ud.CHANNEL;case D.b.Vod:return C.ud.VOD;case D.b.Preview:case D.b.Clip:return C.ud.UNSPECIFIED;default:return e}},S=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.logger=i.p.logger.withCategory("recs-feedback"),n.submitFeedback=function(){if(n.props.feedbackReason){var e=O(n.props.feedbackReason,n.props),t=e.contentID,o=e.contentType,a=e.feedbackType;if(t&&o&&a){Object(s.a)();var i=Object(c.a)({category:a,itemID:t,itemType:M(o),sourceItemPage:d.PageviewMedium.TwitchHome,sourceItemRequestID:n.props.sourceItemRequestID||"",sourceItemTrackingID:n.props.sourceItemTrackingID||""});n.props.trackRecFeedbackAdd&&n.props.trackRecFeedbackAdd(),n.props.hideContent(n.props.addFeedback(i))}else{var r="Missing content id for reason: "+n.props.feedbackReason+", type: "+a+", content: "+o;n.logger.errorAndReport(new Error(r),r)}}},n.onReportModalClose=function(e,t){n.props.onReportModalClose&&n.props.onReportModalClose(e,t)},n}return Object(o.__extends)(n,e),n.prototype.render=function(){return this.props.isShelf?a.createElement(I,{hasHorizontalIcon:this.props.hasHorizontalIcon,onNotInterested:this.submitFeedback}):a.createElement(R,{hasHorizontalIcon:this.props.hasHorizontalIcon,shouldHideReportItem:this.props.shouldHideReportItem,onNotInterested:this.submitFeedback,onReportModalClose:this.onReportModalClose,onMenuOpen:this.props.onMenuOpen,channelID:this.props.channelID,channelLogin:this.props.channelName})},n}(a.Component),F=Object(r.a)(y,{name:"addFeedback"})(S);t.d(n,"RecFeedbackButtonPresentation",(function(){return S})),t.d(n,"RecFeedbackButton",(function(){return F}))},MjA6:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddRecommendationFeedback"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddRecommendationFeedbackInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addRecommendationFeedback"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recommendationFeedback"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:154}};t.loc.source={body:"mutation AddRecommendationFeedback($input: AddRecommendationFeedbackInput!) {\naddRecommendationFeedback(input: $input) {\nrecommendationFeedback {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var o=e.definitions[t];if(o.name&&o.name.value==n)return o}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var o=n.type;"NamedType"===o.kind&&t.add(o.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),o[e.name.value]=n}})),e.exports=t,e.exports.AddRecommendationFeedback=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,r=new Set,c=new Set;for(i.forEach((function(e){c.add(e)}));c.size>0;){var d=c;c=new Set,d.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){c.add(e)})))}))}return r.forEach((function(n){var o=a(e,n);o&&t.definitions.push(o)})),t}(t,"AddRecommendationFeedback")},xP6e:function(e,n,t){"use strict";var o,a=t("mrSG"),i=t("/MKj"),r=t("ANjH"),c=t("1/iK"),d=t("XDCx"),s=t("y5D0"),l=t("kRBY"),u=t("/HY+"),p=t("q1tI"),f=t("DMoW"),m=t("4rCz"),b=t("C7sF"),h=t("4wKg");!function(e){e.ReportButton="report-button-report-button"}(o||(o={}));var k=Object(i.b)((function(e){return{isLoggedIn:Object(l.f)(e)}}),(function(e){return Object(r.b)({login:function(){return Object(s.e)(c.a.ReportChannel)},showReportUserModal:function(e){var n=Object(a.__rest)(e,[]);return Object(d.e)(u.a,n)}},e)}))((function(e){var n=e.isLoggedIn,t=e.showReportUserModal,i=e.channelLogin,r=e.onModalClose,c=e.channelID,d=e.reportContext,s=e.login,l=e.hideIcon,u=void 0!==l&&l,k=p.useCallback((function(){n?t({onClose:r,reportContext:Object(a.__assign)({contentType:f.Bd.USER_REPORT,targetUserID:c},d),title:Object(m.d)("Report {channelLogin}",{channelLogin:i},"ReportUserModal")}):s()}),[n,t,i,d,s,c,r]),g=u?void 0:{icon:b.a.Report},v=Object(m.d)("Report {channelLogin}",{channelLogin:i},"ReportUser");return p.createElement(h.a,{label:v,"aria-label":v,onClick:k,figure:g,"data-a-target":o.ReportButton})}));t.d(n,"a",(function(){return k}))}}]);