(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{"+pBb":function(e,n,t){"use strict";t.d(n,"c",(function(){return r})),t.d(n,"d",(function(){return a})),t.d(n,"h",(function(){return o})),t.d(n,"i",(function(){return s})),t.d(n,"p",(function(){return d})),t.d(n,"b",(function(){return c})),t.d(n,"a",(function(){return u})),t.d(n,"f",(function(){return l})),t.d(n,"g",(function(){return m})),t.d(n,"e",(function(){return f})),t.d(n,"k",(function(){return p})),t.d(n,"j",(function(){return h})),t.d(n,"m",(function(){return g})),t.d(n,"l",(function(){return v})),t.d(n,"o",(function(){return k})),t.d(n,"r",(function(){return b})),t.d(n,"q",(function(){return y})),t.d(n,"u",(function(){return S})),t.d(n,"t",(function(){return _})),t.d(n,"v",(function(){return C})),t.d(n,"n",(function(){return w})),t.d(n,"s",(function(){return E})),t.d(n,"J",(function(){return N})),t.d(n,"E",(function(){return D})),t.d(n,"N",(function(){return O})),t.d(n,"L",(function(){return I})),t.d(n,"H",(function(){return T})),t.d(n,"C",(function(){return F})),t.d(n,"I",(function(){return j})),t.d(n,"D",(function(){return M})),t.d(n,"G",(function(){return x})),t.d(n,"B",(function(){return A})),t.d(n,"K",(function(){return R})),t.d(n,"F",(function(){return U})),t.d(n,"y",(function(){return P})),t.d(n,"w",(function(){return L})),t.d(n,"x",(function(){return W})),t.d(n,"A",(function(){return B})),t.d(n,"M",(function(){return V})),t.d(n,"z",(function(){return G})),t.d(n,"O",(function(){return H})),t.d(n,"Q",(function(){return q})),t.d(n,"P",(function(){return z}));var i=t("Tznh"),r="chat.CHAT_HIDDEN",a="chat.CHAT_SHOWN",o="chat.EMOTE_SETS_UPDATED",s="chat.FOLLOWER_MODE_DURATION_PREFERENCE_CHANGED",d="chat.SLOW_MODE_DURATION_PREFERENCE_CHANGED",c="chat.AUTOMOD_ACTIONS_ENABLED",u="chat.AUTOMOD_ACTIONS_DISABLED",l="chat.EMOTE_PICKER_CLOSED",m="chat.EMOTE_PICKER_OPENED",f="chat.CLOSE_CHAT_RULES",p="chat.MODERATION_ACTIONS_ENABLED",h="chat.MODERATION_ACTIONS_DISABLED",g="chat.MOD_ICONS_ENABLED",v="chat.MOD_ICONS_DISABLED",k="chat.SHOW_CHAT_RULES",b="chat.TIMESTAMPS_ENABLED",y="chat.TIMESTAMPS_DISABLED",S="chat.VIEWER_CHAT_FILTER_ENABLED",_="chat.VIEWER_CHAT_FILTER_DISABLED",C="chat.VIEWER_CHAT_FILTER_SETTINGS_CHANGED",w="chat.RENDER_SENT_CHAT_MESSAGE",E="chat.UNHIDE_IGNORED_COMMAND";function N(){return{type:b}}function D(){return{type:y}}function O(){return{type:a}}function I(){return{type:r}}function T(){return{type:c}}function F(){return{type:u}}function j(){return{type:p}}function M(){return{type:h}}function x(){return{type:g}}function A(){return{type:v}}function R(e){return{type:S,source:e||i.c.Other}}function U(e){return{type:_,source:e||i.c.Other}}function P(e,n){return{type:C,settings:e,source:n||i.c.Other}}function L(e,n){return{type:s,channelLogin:e,duration:n}}function W(e,n){return{type:d,channelLogin:e,duration:n}}function B(){return{type:l}}function V(){return{type:m}}function G(){return{type:f}}function H(){return{type:k}}function q(e){return{type:w,customEvent:e}}function z(e){return{type:E,userID:e}}},"0FG4":function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"c",(function(){return s})),t.d(n,"b",(function(){return c}));var i,r=t("RcPG"),a=t("a1OF");!function(e){e[e.Position=0]="Position",e[e.Token=1]="Token"}(i||(i={}));var o="0";function s(e,n,t){var o,s,d=t.type===i.Position?n:e,c=t.map[d];if(c){var u=(o=e,s=c.id,{images:{sources:{"1x":Object(a.d)(s,1),"2x":Object(a.d)(s,2),"4x":Object(a.d)(s,4)},themed:!1},alt:o,emoteID:s});return{type:r.a.Emote,content:u}}return null}var d={"\\:\\&gt\\;":[":>"],"\\&gt\\;\\(":[">("],"\\&lt\\;\\]":["<]"],"\\&lt\\;3":["<3"],":-?(?:7|L)":[":-7",":-L",":7",":L"],"[oO](_|\\.)[oO]":["o_o","O_O","o_O","O_o","o.o","O.O","o.O","O.o"],"\\;-?(p|P)":[";-p",";-P",";p",";P"],"\\;-?\\)":[";-)",";)"],"\\:-?(o|O)":[":-o",":-O",":o",":O"],"\\:-?(p|P)":[":-p",":-P",":p",":P"],"\\:-?(S|s)":[":-S",":-s",":s",":S"],"\\:-?[\\\\/]":[":-/",":-\\",":/",":\\"],"\\:-?[z|Z|\\|]":[":-|",":-Z",":-z",":|",":Z",":z"],"\\:-?\\(":[":-(",":("],"\\:-?\\)":[":-)",":)"],"\\:-?D":[":-D",":D"],"#-?[\\\\/]":["#-/","#-\\","#/","#\\"],"B-?\\)":["B-)","B)"],"R-?\\)":["R-)","R)"]};function c(e){for(var n={},t=0,i=e;t<i.length;t++){var r=i[t];if(r&&r.emotes)for(var a=0,s=r.emotes;a<s.length;a++){var c=s[a];if(c&&c.id&&c.token)for(var u=0,l=d[c.token]||[c.token];u<l.length;u++){var m=l[u];n[m]&&r.id===o||(n[m]={id:c.id,token:m})}}}return n}},"0JUI":function(e,n,t){},"0Lz3":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return o})),t.d(n,"c",(function(){return s}));var i=t("mrSG"),r=t("jeEJ");function a(e,n){var t={};function a(n,i,r,a,s){if(n=n.toLowerCase(),!t[n])return"";var d=t[n].template,c=e.types.find((function(e){return e.animation===r}));return c?o(d,{prefix:n,background:i,animation:r,tier:a,scale:s,extension:c.extension}):""}for(var s=e.order.reduce((function(e,n,t){return e[n]=t,e}),{}),d=new r.a((function(e,n){var t=s[e.type]-s[n.type];return 0!==t?t:e.tierBreakerOrder-n.tierBreakerOrder})),c=0,u=0,l=n;u<l.length;u++)for(var m=l[u],f=0,p=m.nodes;f<p.length;f++){var h=p[f],g=Object(i.__assign)(Object(i.__assign)({},h),{orderedTiers:h.tiers.slice().sort((function(e,n){return n.bits-e.bits})),template:m.templateURL,getImage:a.bind(void 0,h.prefix),tierBreakerOrder:c});t[h.prefix.toLowerCase()]=g,d.push(g),c++}return{indexedActions:t,orderedActions:d.top(d.size()),tiers:e.colors.slice().sort((function(e,n){return n.bits-e.bits})),getImage:a}}function o(e,n){return e.replace("PREFIX",n.prefix.toLowerCase()).replace("BACKGROUND",n.background).replace("ANIMATION",n.animation).replace("TIER",n.tier.toString()).replace("SCALE",n.scale.toString()).replace("EXTENSION",n.extension)}function s(e,n){return{id:n+"-"+e.entry_key,score:e.score,rank:e.rank,user:{__typename:"User",id:e.entry_key},__typename:"UserLeaderboardItem"}}},"0Vc4":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"whisperThreadsMessageEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WhisperMessageEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:234}};t.loc.source={body:"fragment whisperThreadsMessageEdge on WhisperMessageEdge {\ncursor\nnode {\nid\nnonce\nsentAt\neditedAt\ndeletedAt\nfrom {\nid\n__typename\n}\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\n__typename\n}\n__typename\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"1MDS":function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"c",(function(){return f})),t.d(n,"b",(function(){return p}));var i=t("mrSG"),r=t("/7QA"),a=t("2xye"),o=t("oK83"),s=t("P5MF"),d=t("nR4f"),c=t("P6kH"),u={Unknown:"unknown",Chat:"chat",Room:"room",Whisper:"whisper",Vod:"vod"},l={Close:"close",ReportDropDown:"report_drop_down",Report:"report",Follow:"follow",Unfollow:"unfollow",Subscribe:"subscribe",ClickTryPrime:"click_try_prime",GoToChannel:"go_to_channel",Open:"open",ClickChannelName:"click_channel_name",CloseClickOtherEmote:"close_click_other_emote"},m={Available:"available",CreatorBanned:"creator_banned",LimitedTimeEmote:"limited_time_emote",GlobalEmote:"global_emote",Prime:"prime",Turbo:"turbo",OtherUnlockable:"other_unlockable"};function f(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,t,o,u,l,m,f,p,g,v,k,b,y,S,_,C;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:n={emoteID:e.emoticonID},t=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.p.apollo.client.query({query:d,variables:n})];case 2:return t=i.sent(),[3,4];case 3:return o=i.sent(),r.k.warn(o,"Failed to make query for emote info in EmoteCard reporting.",{emoteID:e.emoticonID}),[3,4];case 4:u=t&&t.data&&t.data.emote||null,t&&!u&&r.k.warn("Query for emote info in EmoteCard reporting returned no data.",{emoteID:e.emoticonID}),l=t&&t.data?Object(c.e)(t.data):c.a.Unknown,m=u&&u.subscriptionProduct&&u.subscriptionProduct.owner&&u.subscriptionProduct.owner.displayName||"",f=u&&u.subscriptionProduct&&u.subscriptionProduct.owner&&u.subscriptionProduct.owner.id||"",l===c.a.OWL2019&&(m=c.b,f=c.c),p={channelID:f},g=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.p.apollo.client.query({query:s,variables:p})];case 6:return g=i.sent(),[3,8];case 7:return v=i.sent(),r.k.warn(v,"Failed to make query for channel info in EmoteCard reporting.",{channelID:f}),[3,8];case 8:return k=g&&g.data&&g.data.user||null,g&&!k&&r.k.warn("Query for channel info in EmoteCard reporting returned no data.",{channelID:f}),b=!!k&&!!k.hasPrime,y=k&&k.self,S=!!y&&!!y.subscriptionBenefit,_=!!y&&!!y.canPrimeSubscribe,C={emote_location:e.emoteLocation,emoticon_id:e.emoticonID,chat_channel:e.chatChannel,chat_channel_id:e.chatChannelID,emote_channel:m,emote_channel_id:f,referrer_user_id:e.referrerUserID,action:e.action,is_subscribed:S,is_subscribed_tier:y&&y.subscriptionBenefit&&y.subscriptionBenefit.tier||"",emote_tier:u&&u.subscriptionProduct&&u.subscriptionProduct.tier||"",emote_status:h(l),has_prime:b,can_subscribe:_,msg_id:e.msgID},r.o.track(a.SpadeEventType.EmoteCardInteraction,C),[2]}}))}))}function p(e){switch(e){case o.a.chat:return u.Chat;case o.a.whisper:return u.Whisper;case o.a.vod:return u.Vod;case o.a.room:return u.Room;case o.a.unknown:default:return u.Unknown}}function h(e){switch(e){case c.a.Prime:return m.Prime;case c.a.Turbo:return m.Turbo;case c.a.OWL2019:case c.a.Subscription:return m.Available;case c.a.LimitedTime:return m.LimitedTimeEmote;case c.a.Unavailable:return m.CreatorBanned;case c.a.Global:return m.GlobalEmote;case c.a.TwoFactor:case c.a.Unknown:default:return m.OtherUnlockable}}},"2Dht":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WhisperThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:347}};t.loc.source={body:"query WhisperThread($id: ID!) {\nwhisperThread(id: $id) {\nid\nuserLastMessageRead {\nid\nsentAt\n__typename\n}\nunreadMessagesCount\nmessages(first: 20) {\nedges {\ncursor\nnode {\nid\nnonce\ncontent {\ncontent\nemotes {\nid\nemoteID\nsetID\nfrom\nto\n__typename\n}\n__typename\n}\nfrom {\nid\n}\nsentAt\neditedAt\ndeletedAt\n__typename\n}\n__typename\n}\n__typename\n}\n__typename\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.WhisperThread=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"WhisperThread")},"2ycz":function(e,n,t){"use strict";var i=t("XmgI"),r=t("RcPG"),a=t("0FG4"),o=t("mrSG"),s=t("VJH5");var d=t("i6WW"),c=t("gTu3"),u=t("6j5V"),l=/^(['"*([{</]*)(@?)((?:[^\u0000-\u007F]|[\w-])+)/;function m(e,n){if(!n)return!1;var t=n.displayName,i=n.login;return e===t||e.toLowerCase()===i}function f(e,n){void 0===n&&(n={});for(var t=e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)||[],i=function(e){if(!e)return[];var n=e.list.filter((function(n){return n.categories[s.TMIFlagCategory.Aggressive]&&e.preferences[s.TMIFlagCategory.Aggressive]||n.categories[s.TMIFlagCategory.Identity]&&e.preferences[s.TMIFlagCategory.Identity]||n.categories[s.TMIFlagCategory.Profanity]&&e.preferences[s.TMIFlagCategory.Profanity]||n.categories[s.TMIFlagCategory.Sexual]&&e.preferences[s.TMIFlagCategory.Sexual]}));return 0===n.length?n:(n.sort((function(e,n){return e.startIndex-n.startIndex})),n.reduce((function(e,n,t){if(0===t)return e.push(n),e;var i=e[e.length-1];return n.startIndex<=i.endIndex+1?(i.endIndex=Math.max(n.endIndex,i.endIndex),i.categories=Object(o.__assign)(Object(o.__assign)({},i.categories),n.categories)):e.push(n),e}),[]))}(n.flags),a=0,d=[];a<t.length;){var c=i&&i.shift();c?(d.push.apply(d,p(t.slice(a,c.startIndex),a,n)),d.push({type:r.a.FlaggedSegment,categories:c.categories,content:h(p(t.slice(c.startIndex,c.endIndex+1),c.startIndex,n)),length:c.endIndex-c.startIndex+1,originalText:t.slice(c.startIndex,c.endIndex+1).join("")}),a=c.endIndex+1):(d.push.apply(d,p(t.slice(a),a,n)),a=t.length)}return h(d)}function p(e,n,t){void 0===t&&(t={});var o=t.cheers,s=t.emotes,f=t.links,p=t.mentions,h="",v=0;return e.reduce((function(t,k,b){if(g(k))return h="",t;if(0===h.length&&(v=n+b),h+=k,b<e.length-1&&function(e){return/[.,!]/.test(e)}(e[b+1]))return(y=s&&Object(a.c)(h,v,s))?(h="",t.concat(y)):t;if(b===e.length-1||g(e[b+1])){var y;if(y=s&&Object(a.c)(h,v,s))return t.concat(y);var S=o&&Object(i.f)(h,o);if(S)return t.concat(S);var _=f&&Object(d.a)(h,f);if(_)return t.concat([_]);var C=p&&function(e,n){var t=e.match(l);if(!t)return null;var i=[],a=t[1],o=Boolean(t[2].length),s=t[3],d=e.slice(t[0].length);if(a.length&&i.push(Object(u.a)(a)),o){var f=c.a.Default;m(s,n.sessionUser)?f=c.a.Recipient:n.sessionUser&&n.sessionUser.login===n.senderLogin&&(f=c.a.Sender),i.push({type:r.a.Mention,content:{recipient:s,currentUserMentionRelation:f}})}else{if(!m(s,n.sessionUser))return null;i.push({type:r.a.CurrentUserHighlight,content:s})}return d.length&&i.push(Object(u.a)(d)),i}(h,p);return C?t.concat([C]):t.concat(Object(u.a)(h))}return t}),[])}function h(e){return e.reduce((function(e,n,t){return 0===t?[].concat.call(e,n):[].concat.call(e,Object(u.a)(" "),n)}),[]).reduce((function(e,n,t){if(0===t)return e.concat(n);var i=e[e.length-1];return n.type===r.a.Text&&i.type===r.a.Text?(i.content=""+i.content+n.content,e):e.concat(n)}),[])}function g(e){return/\s/.test(e)}function v(e){return e.map((function(e){switch(e.type){case r.a.Emote:return{__typename:"MessageFragment",content:{__typename:"Emote",emoteID:e.content.emoteID||"",token:e.content.alt||"",setID:""},text:e.content.alt||""};default:return{__typename:"MessageFragment",content:null,text:e.content.toString()}}}))}t.d(n,"b",(function(){return f})),t.d(n,"a",(function(){return v}))},"2zj6":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockModifiedEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenModifiedSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenModifiedSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:161}};t.loc.source={body:"mutation UnlockModifiedEmote($input: UnlockChosenModifiedSubscriberEmoteInput!) {\nunlockChosenModifiedSubscriberEmote(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnlockModifiedEmote=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"UnlockModifiedEmote")},"35qb":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductPriceInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PriceInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}],loc:{start:0,end:118}};t.loc.source={body:"fragment subscriptionProductPriceInfo on PriceInfo {\ncurrency\nexponent\ntotal\ndescription\nprice\nisTaxInclusive\nid\ntax\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"3Law":function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));var i=t("pVnL"),r=t.n(i),a=t("q1tI"),o=t("o5gP"),s=t("SWse"),d=t("kV5U"),c=t("vCsY"),u=t("hnjF"),l=t("yymn"),m=t("C7sF"),f=t("3aAs"),p=function(e){var n,t="tw-"+Object(o.a)();return e.tabIndex&&(n=e.tabIndex),a.createElement("div",r()({className:Object(s.a)("tw-search-input")},Object(c.a)(e)),a.createElement(u.a,{display:l.g.HideAccessible},a.createElement("label",{htmlFor:e.id?e.id:t},"Search")),a.createElement(f.a,r()({},Object(d.a)(e),{autoCapitalize:e.autoCapitalize,autoFocus:e.autoFocus,autoComplete:e.autoComplete||"off",disabled:e.disabled,error:e.error,icon:m.a.NavSearch,id:e.id?e.id:t,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,placeholder:e.placeholder,refDelegate:e.refDelegate,spellCheck:e.spellCheck,tabIndex:n,size:e.size,type:f.c.Search,value:e.value,overlay:e.overlay})))};p.displayName="SearchInput",p.displayName="SearchInput"},"3aAs":function(e,n,t){"use strict";t.d(n,"c",(function(){return i})),t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return b}));var i,r,a=t("pVnL"),o=t.n(a),s=t("q1tI"),d=t("SWse"),c=t("kV5U"),u=t("vCsY"),l=t("IbuL"),m=t("yymn"),f=t("Ws8v"),p=t("sUnt"),h=t("X2PJ"),g=t("QGrW"),v=t("2nDl");t("SbbE");!function(e){e[e.Text=0]="Text",e[e.Number=1]="Number",e[e.Email=2]="Email",e[e.Password=3]="Password",e[e.Search=4]="Search"}(i||(i={})),function(e){e.Default="",e.Left="tw-input--rounded-left",e.Right="tw-input--rounded-right"}(r||(r={}));var k=function(e){var n,t;e.tabIndex&&(t=e.tabIndex);var a=v.c.Default;e.size&&(a=e.size);var g={"tw-input":!0,"tw-input--small":e.size===v.c.Small,"tw-input--large":e.size===v.c.Large,"tw-input--error":e.error,"tw-input--overlay":e.overlay,"tw-input--password":e.type===i.Password},k=e.size?v.a[e.size]:m.e.Medium,b={topLeft:k,topRight:k,bottomLeft:k,bottomRight:k};return e.rounding&&(g[e.rounding]=!0,e.rounding===r.Left?(b.topRight=m.e.None,b.bottomRight=m.e.None):e.rounding===r.Right&&(b.topLeft=m.e.None,b.bottomLeft=m.e.None)),e.icon&&(n=s.createElement(f.a,{className:Object(d.a)({"tw-input__icon":!0,"tw-input__icon--overlay":e.overlay}),position:m.n.Absolute,attachLeft:e.icon&&!e.iconRight,attachRight:e.iconRight,attachTop:!0,zIndex:m.s.Default,color:e.overlay?void 0:m.f.Alt2,display:m.g.Flex,alignItems:m.b.Center,justifyContent:m.l.Center,fullHeight:!0},s.createElement(l.a,{asset:e.icon}))),s.createElement(p.a,o()({position:m.n.Relative},Object(u.a)(e)),n,s.createElement(h.a,{display:m.g.Block,borderRadius:b,padding:{left:e.icon&&!e.iconRight?3:1,right:e.iconRight?3:1,y:e.size===v.c.Small?void 0:.5},fontSize:v.b[a],fullWidth:!0,textAlign:e.textAlign},s.createElement("input",o()({},Object(c.a)(e),{type:i[e.type].toLowerCase(),className:Object(d.a)(g),placeholder:e.placeholder,autoCapitalize:e.autoCapitalize?"on":"off",autoCorrect:e.autoCorrect?"on":"off",autoComplete:e.autoComplete,autoFocus:e.autoFocus,"data-a-target":"tw-input",defaultValue:e.defaultValue,disabled:e.disabled,id:e.id,inputMode:e.inputMode,list:e.list,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onClick:e.onClick,onFocus:function(n){e.onFocusSelectContent&&n.currentTarget.select();e.onFocus&&e.onFocus(n)},onKeyDown:e.onKeyDown,pattern:e.pattern,max:e.max,maxLength:e.maxLength,min:e.min,readOnly:e.readOnly,ref:e.refDelegate,required:e.required,spellCheck:e.spellCheck,step:e.step,tabIndex:t,value:e.value}))))};k.displayName="InputComponent";var b=Object(g.c)(k)},"3iFw":function(e,n,t){"use strict";t.r(n);t("szP+");var i=t("/MKj"),r=t("XDQu"),a=t("CzFK"),o=t("l1Uh"),s=t("mrSG"),d=t("q1tI"),c=t("0dmp"),u=t("Uy53"),l=t("/7QA"),m=t("ZS2+"),f=t("yR8l"),p=t("eDVu"),h=t("0Log"),g=t("geRD"),v=t("/aPz"),k=t("u5aL"),b=t("8/mp"),y=t("eJ65"),S=t("f00E"),_=t("kz7j"),C=t("GnwI"),w=t("H/lO"),E=t("NZDK"),N=t("88lE"),D=t("RoEZ"),O=t("PrJw"),I=t("sUnt"),T=t("k0nM"),F=t("4wKg"),j=t("+80q"),M=t("yymn"),x=t("N6NX"),A=function(e){function n(n){var t=e.call(this,n)||this;return t.markAllWhispersAsRead=function(){var e=Object(g.a)({markAllAsRead:!0});t.props.markAllWhispersAsRead&&(Object(O.k)(),t.props.markAllWhispersAsRead(e)),t.props.onMarkAllMessagesRead&&t.props.onMarkAllMessagesRead()},t.toggleDoNotDisturb=function(){t.state.doNotDisturb?(l.n.set("whisperDoNotDisturb",!1),Object(O.h)(),t.setState({doNotDisturb:!1})):(l.n.set("whisperDoNotDisturb",!0),Object(O.i)(),t.setState({doNotDisturb:!0}))},t.state={doNotDisturb:l.n.get("whisperDoNotDisturb",!1)},t}return Object(s.__extends)(n,e),n.prototype.render=function(){var e=this.state.doNotDisturb?Object(l.d)("Disable Do Not Disturb","ThreadsBoxSettings"):Object(l.d)("Enable Do Not Disturb","ThreadsBoxSettings"),n=Object(l.d)("Mark All Whispers as Read","ThreadsBoxSettings");return d.createElement(I.a,{className:"threads-box-settings"},d.createElement(T.a,{show:!0},d.createElement(F.a,{onClick:this.toggleDoNotDisturb,"aria-label":e},d.createElement(j.a,{fontSize:M.j.Size5},e)),d.createElement(F.a,{onClick:this.markAllWhispersAsRead,"aria-label":n},d.createElement(j.a,{fontSize:M.j.Size5},n))))},n=Object(s.__decorate)([Object(f.a)(x,{name:"markAllWhispersAsRead"})],n)}(d.Component),R=t("A++4"),U=t("RKC5"),P=t("NMMG"),L=t("X2PJ"),W=t("LDmb"),B=t("ygYM"),V=t("Ws8v"),G=t("b7S+"),H=t("7d/q"),q=t("C7sF"),z=t("d/uA"),Q=t("XQbB"),K=t("K+jS"),Y=t("3Law"),X=(t("dNN/"),function(e){function n(n){var t=e.call(this,n)||this;return t.onMarkAllMessagesRead=function(){t.settingsMenu.toggleBalloon(!1)},t.saveSettingsMenuRef=function(e){return t.settingsMenu=e},t.handleConversationsClick=function(){t.state.open||(t.props.latencyTracking.resetCustomEvents(_.a.Whispers),t.whispersHistoryLatencyEvent=t.props.latencyTracking.registerCustomEvent({benchmark:200,group:_.a.Whispers,key:_.b.WhispersHistory,label:_.c.History,start:_.d.Registration})),t.setState((function(e){return{open:!e.open}}))},t.selectThread=function(e){t.handleClose(),t.clearSearchText(),t.props.selectThread(e)},t.handleClose=function(){t.setState({open:!1})},t.clearSearchText=function(){t.setState({searchText:"",searching:!1})},t.onSearchInputChange=function(e){return Object(s.__awaiter)(t,void 0,void 0,(function(){var n,t=this;return Object(s.__generator)(this,(function(i){return n=e.currentTarget.value,clearTimeout(this.inputTimeout),n&&0!==n.length?(this.setState({searchText:n,searching:!0}),this.inputTimeout=setTimeout((function(){t.search(t.state.searchText)}),200),[2]):(this.inputTimeout=0,this.clearSearchText(),[2])}))}))},t.handleUserSearchResultClick=function(e,n){return function(){var i=e.objectID;if(null!==t.props.currentUserID&&i!==t.props.currentUserID){t.handleClose(),t.clearSearchText();var r=Object(P.a)(t.props.currentUserID,i);Object(O.g)({threadID:r,targetUserlogin:e.login,searchResultRank:n}),Object(O.d)({searchResultRank:n,searchQuery:t.state.searchText,isConversation:!1}),t.props.selectThread(r)}}},t.filterExistingThreads=function(e){var n=e.toLowerCase();return t.props.orderedThreadIDs.filter((function(e){var i=Object(R.a)(t.props.threadsByID[e].participants,t.props.currentUserID);return!(!i||!i.displayName)&&i.displayName.toLowerCase().indexOf(n)>=0}))},t.getWhispers=function(){return Object(l.d)("Whispers","WhisperThreadsBoxLabel")},t.searchClient=new E.a({appId:l.a.algoliaApplicationID,apiKey:l.a.algoliaAPIKey,apolloClient:l.p.apollo.client,logger:l.k,config:l.a,stats:l.p.stats}),t.state={open:!1,searchText:"",searching:!1},t}return Object(s.__extends)(n,e),n.prototype.render=function(){return d.createElement(k.a,{onClickOut:this.handleClose},this.renderButton(),d.createElement(L.a,{className:"whispers-threads-box__container",display:M.g.Flex,flexDirection:M.h.Column,flexWrap:M.i.NoWrap,background:M.d.Base,"data-click-out-id":"threads-box","data-a-target":"threads-box-"+(this.state.open?"open":"closed"),borderRadius:{topLeft:M.e.Medium,topRight:M.e.Medium}},d.createElement(I.a,{position:M.n.Relative,"aria-label":this.getWhispers()},d.createElement(W.a,{direction:B.b.BottomRight,show:this.state.open,popoverId:"threads-box"},this.renderHeader(),this.renderSearch(),this.renderList()))))},n.prototype.renderButton=function(){return d.createElement(V.a,{position:M.n.Relative,display:M.g.Flex,alignItems:M.b.Center,justifyContent:M.l.Center},d.createElement(G.a,{align:G.b.Center,direction:G.c.Bottom,label:this.getWhispers()},d.createElement(H.a,{"aria-label":Object(l.d)("Close Threads","WhisperThreadsBox"),"data-a-target":"whisper-box-button",icon:q.a.Whisper,onClick:this.handleConversationsClick})),this.renderUnreadCount())},n.prototype.renderUnreadCount=function(){var e=this;return this.props.unreadCount>0?d.createElement(V.a,{className:"whispers__pill",position:M.n.Absolute,fontSize:M.j.Size7,attachTop:!0,attachRight:!0},d.createElement(z.a,{value:this.props.unreadCount,formatValue:function(n){return n>99?"99+":e.props.unreadCount.toString()}})):null},n.prototype.renderList=function(){var e,n=this;if(!this.state.open)return null;var t=null;""!==this.state.searchText&&(t=d.createElement(V.a,{key:"otherPeopleDivider",borderBottom:!0,padding:{x:1,y:.5}},Object(U.f)()));var i=null;if(this.state.searching?i=d.createElement(I.a,{display:M.g.Flex,flexDirection:M.h.Column,margin:{top:4},alignItems:M.b.Center},d.createElement(Q.a,{delay:0})):this.state.searchResults&&this.state.searchResults.users&&""!==this.state.searchText&&(i=this.state.searchResults.users.totalHits>0?this.state.searchResults.users.hits.filter((function(e){return!n.props.threadsByID[e.objectID]})).map((function(e,t){return d.createElement(D.a,{key:"searchResult:"+e.objectID,user:e,selectResult:n.handleUserSearchResultClick(e,t)})})):d.createElement(I.a,{display:M.g.Flex,flexDirection:M.h.Column,margin:{top:4},alignItems:M.b.Center},d.createElement(j.a,{color:M.f.Alt2},Object(U.a)()))),this.props.error)e=d.createElement(I.a,{margin:{x:"auto"},display:M.g.Flex,justifyContent:M.l.Center,alignItems:M.b.Center,fullHeight:!0},d.createElement(j.a,{color:M.f.Error},Object(U.g)()));else if(this.props.loading)e=d.createElement(Q.a,null);else{var r=this.props.orderedThreadIDs;""!==this.state.searchText&&(r=this.filterExistingThreads(this.state.searchText)),e=r.filter((function(e){return n.props.threadsByID[e]&&!n.props.threadsByID[e].archived})).map((function(e,t){var i=0===t?function(){n.props.latencyTracking.reportCustomEvent(n.whispersHistoryLatencyEvent)}:void 0,r=n.props.threadsByID[e],a=Object(R.a)(r.participants,n.props.currentUserID);return a?d.createElement(N.a,{key:"whisperThread:"+r.id,user:a,threadID:r.id,lastMessage:r.lastMessage,archiveThread:n.props.archiveThread,selectThread:n.selectThread,unreadMessageCount:r.unreadMessagesCount,muted:r.muted,avatarOnLoadCallback:i}):null}))}return d.createElement(I.a,{className:"threads-scrollable-area"},d.createElement(b.b,{suppressScrollX:!0},d.createElement(I.a,{role:"list",display:M.g.Flex,flexDirection:M.h.Column,fullWidth:!0},e,t,i,d.createElement(b.a,{enabled:this.state.open,loadMore:this.props.loadMore,pixelThreshold:200}))))},n.prototype.renderHeader=function(){return this.state.open?d.createElement(V.a,{className:"whispers-threads-box__header","data-a-target":"whispers-threads-box__header",alignItems:M.b.Center,borderBottom:!0,color:M.f.Base,display:M.g.Flex,flexDirection:M.h.Row,flexGrow:0,flexShrink:0,fontSize:M.j.Size5,padding:{y:.5,x:1},"data-click-hide-id":"threads-box-header"},d.createElement(I.a,{flexGrow:1,display:M.g.Flex,justifyContent:M.l.Center,margin:{left:5}},d.createElement(K.a,{size:K.b.ExtraSmall},Object(l.d)("Whispers","WhisperThreadsBox"))),d.createElement(y.a,{ref:this.saveSettingsMenuRef},d.createElement(H.a,{"aria-label":Object(l.d)("Settings","WhisperThreadsBox"),icon:q.a.Gear,"data-a-target":"whisper-settings-button"}),d.createElement(B.a,{size:B.c.Small,direction:B.b.BottomRight,offsetX:"0.5rem"},d.createElement(A,{onMarkAllMessagesRead:this.onMarkAllMessagesRead}))),d.createElement(I.a,{margin:{left:.5}},d.createElement(H.a,{"aria-label":Object(l.d)("Minimize","WhisperThreadsBox"),icon:q.a.Close,onClick:this.handleClose,"data-a-target":"whisper-close-button"}))):null},n.prototype.renderSearch=function(){return this.state.open?d.createElement(V.a,{display:M.g.Flex,flexGrow:0,flexShrink:0,alignItems:M.b.Center,borderBottom:!0,background:M.d.Alt},d.createElement(I.a,{flexGrow:1,padding:{x:1,y:.5}},d.createElement(Y.a,{onChange:this.onSearchInputChange,value:this.state.searchText,placeholder:Object(U.j)(),id:"threads-box-filter",autoFocus:!0,"data-a-target":"whisper-search-input"}))):null},n.prototype.search=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return e?[4,this.searchClient.queryForType(w.a.Users,e,S.b())]:[2];case 1:return n=t.sent(),this.setState({searchResults:n,searching:!1}),[2]}}))}))},n=Object(s.__decorate)([Object(C.withLatencyTracking)("WhisperCenter",{autoReportInteractive:!0})],n)}(d.Component)),$=t("AELI"),Z=t("soB4"),J=t("QAd9"),ee=t("U1yz"),ne=t("zOU0"),te=t("R5eE"),ie=t("xJpr"),re=t("Ideu"),ae=m.a.wrap((function(){return t.e(82).then(t.bind(null,"eBce"))}),"DesktopTaskbarManager",{failSilently:!0,placeholder:null}),oe=function(e){function n(n){var t=e.call(this,n)||this;return t.erroredLoadingMore=!1,t.logger=l.k.withCategory("whispers"),t.getThreadsById=Object(u.a)((function(e){return Object(ne.a)(e)})),t.getOrderedThreadsIds=Object(u.a)((function(e){return e.map((function(e){return e.id}))})),t.getThreadsFromData=Object(u.a)((function(e){return e&&e.whisperThreads&&e.whisperThreads.edges.map((function(e){return e.node}))||[]})),t.archiveThread=function(e){var n=t.threadsByID[e];n&&(t.props.closeThread(e),t.props.data.currentUser&&Object(O.c)(e),Object(Z.a)(n))},t.selectThread=function(e){t.props.openThread({threadID:e,collapsed:!1})},t.onNotificationInteracted=function(e){var n=/(.*)-whisper-body/.exec(e.actionID);if(n&&n.length>1){var i=n[1];t.selectThread(i)}},t.loadMore=function(){return Object(s.__awaiter)(t,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:if(this.props.data.loading||this.props.data.error||this.erroredLoadingMore)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.props.loadMore()];case 2:return n.sent(),[3,4];case 3:return e=n.sent(),this.logger.warn("Load more whisper threads failed",{error:e}),this.erroredLoadingMore=!0,[3,4];case 4:return[2]}}))}))},t.state={renderError:!1},t}return Object(s.__extends)(n,e),n.prototype.componentDidCatch=function(e,n){var t=this;this.setState({renderError:!0},(function(){l.p.stats.recordComponentError("Whispers"),t.logger.errorAndReport(e,"A unhandled exception occurred in the component hierarchy",{info:n})}))},n.prototype.componentDidMount=function(){l.p.integrations.notifications&&l.p.integrations.notifications.onNotificationInteracted(this.onNotificationInteracted)},n.prototype.render=function(){var e=this.props.data;return e.loading?d.createElement(H.a,{"aria-label":"",icon:q.a.Whisper}):e.currentUser&&e.currentUser.id&&!this.state.renderError&&this.props.isVisible?d.createElement(I.a,{display:this.props.theatreModeEnabled&&this.props.rightColumnExpanded&&!this.props.rightColumnPositionedBeside?M.g.Hide:M.g.Block},d.createElement(X,{currentUserID:e.currentUser.id,error:!!e.error,loading:e.loading,unreadCount:this.unreadCount,orderedThreadIDs:this.orderedThreadsIDs,threadsByID:this.threadsByID,selectThread:this.selectThread,archiveThread:this.archiveThread,loadMore:this.loadMore}),l.p.integrations.notifications&&l.p.integrations.notifications.setNotificationCount&&d.createElement(ae,{unreadCount:this.unreadCount,setNotificationCount:l.p.integrations.notifications.setNotificationCount})):null},Object.defineProperty(n.prototype,"threadsByID",{get:function(){var e=this.getThreadsFromData(this.props.data.currentUser);return this.getThreadsById(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"orderedThreadsIDs",{get:function(){var e=this.getThreadsFromData(this.props.data.currentUser);return this.getOrderedThreadsIds(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unreadCount",{get:function(){return Object(J.a)(this.threadsByID)},enumerable:!0,configurable:!0}),n=Object(s.__decorate)([c.b,Object(f.c)($,{props:function(e){return Object(s.__assign)(Object(s.__assign)({},e),{loadMore:function(){return e.data.fetchMore({query:$,variables:Object(s.__assign)(Object(s.__assign)({},e.data.variables),{cursor:e.data.currentUser&&e.data.currentUser.whisperThreads&&e.data.currentUser.whisperThreads.edges.length>0?e.data.currentUser.whisperThreads.edges[e.data.currentUser.whisperThreads.edges.length-1].cursor:null}),updateQuery:function(e,n){var t=n.fetchMoreResult;return t&&t.currentUser?e.currentUser&&e.currentUser.whisperThreads?t.currentUser.whisperThreads?{currentUser:Object(s.__assign)(Object(s.__assign)({},t.currentUser),{whisperThreads:Object(s.__assign)(Object(s.__assign)({},t.currentUser.whisperThreads),{edges:Object(g.d)(e.currentUser.whisperThreads.edges,t.currentUser.whisperThreads.edges)})})}:{currentUser:Object(s.__assign)(Object(s.__assign)({},t.currentUser),{whisperThreads:e.currentUser.whisperThreads})}:{currentUser:t.currentUser}:{currentUser:null}}})}})}}),Object(p.a)((function(e){return{query:$,types:[h.PubsubMessageType.WhisperDeleted,h.PubsubMessageType.WhisperEdited,h.PubsubMessageType.WhisperSent,h.PubsubMessageType.WhisperAllThreadsUpdate,h.PubsubMessageType.WhisperReceived,h.PubsubMessageType.WhisperThreadUpdate],variables:Object(s.__assign)({},e.data.variables),skip:!e.data.currentUser||void 0===e.data.currentUser.id,topic:Object(v.ab)(e.data.currentUser&&e.data.currentUser.id||""),mutator:function(n,t){if(!t.currentUser||!t.currentUser.whisperThreads)return t;if(Object(ie.e)(n)||Object(ie.d)(n)){if(Object(ie.d)(n)){var i=t.currentUser.whisperThreads.edges.find((function(e){return e.node.id===n.data_object.thread_id}));if(i){var r=i.node.participants.find((function(e){return!!e&&e.id===""+n.data_object.from_id}));r&&r.login&&(Object(O.q)({targetUserLogin:r.login,threadID:n.data_object.thread_id}),l.p.integrations.notifications&&r.profileImageURL&&l.p.integrations.notifications.send({body_md:"**"+r.displayName+"** "+n.data_object.body,thumbnail_url:r.profileImageURL,id:n.data_object.thread_id,actions:[{id:n.data_object.thread_id+"-whisper-body",type:re.NotificationsIntegrationNotificationActionType.Body}],created_at:Date.now(),updated_at:Date.now(),type:"whisper",read:!1}))}}return Object(te.d)(n,t,e.focusedThreadID,e.openThread)}return Object(ie.b)(n)?Object(te.b)(n,t):Object(ie.c)(n)?Object(te.c)(n,t):Object(ie.f)(n)?Object(te.e)(n,t,e.closeThread):Object(ie.a)(n)?Object(te.a)(n,t):t},skipMessage:function(e,n){if(Object(ie.e)(e)){if(!n.currentUser||!n.currentUser.whisperThreads)return!1;var t=void 0;try{t=Object(ee.a)(l.p.apollo.client.cache,e.data_object.thread_id,!0)}catch(e){return!1}if(t&&t.messages&&t.messages.edges.findIndex((function(n){return""!==n.node.nonce&&n.node.nonce===e.data_object.nonce}))>=0)return!0}return!1}}}))],n)}(d.Component);var se=Object(i.b)((function(e){return{isVisible:Object(r.c)(e),rightColumnExpanded:e.ui.rightColumnExpanded,rightColumnPositionedBeside:e.ui.rightColumnPositionedBeside,theatreModeEnabled:e.ui.theatreModeEnabled,focusedThreadID:e.whispers.display.focusedID}}),(function(e){return{openThread:function(n){return e(a.l(n,Object(o.a)()))},closeThread:function(n){return e(a.h(n,Object(o.a)()))}}}))(oe);t.d(n,"Whispers",(function(){return se}))},"3sMn":function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("1rIY"),o=Object(a.a)("ChatConfigContext",{hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,updateChatConfigState:function(e){return null}}),s=o.context,d=o.withContext,c=function(e){function n(n){var t=e.call(this,n)||this;return t.updateChatConfigState=function(e){null===t.updateFrame&&(t.setState((function(n){return Object(i.__assign)(Object(i.__assign)({},n),e)})),t.updateFrame=setTimeout((function(){t.updateFrame=null}),0))},t.updateFrame=null,t.state={hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,updateChatConfigState:t.updateChatConfigState},t}return Object(i.__extends)(n,e),n.prototype.render=function(){return r.createElement(s.Provider,{value:this.state},this.props.children)},n}(r.Component);t.d(n,"b",(function(){return d})),t.d(n,"a",(function(){return c}))},"4eMh":function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return l}));var i=t("mrSG"),r=t("q1tI"),a=t("eugE"),o=t("Ws8v"),s=t("yymn"),d=t("sUnt"),c=(t("0JUI"),t("tQZM")),u="separator",l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props.message;switch(e.type){case a.a.Timestamp:return r.createElement(o.a,{className:"thread-message__timestamp",color:s.f.Alt2,fontSize:s.j.Size7},Object(c.d)(e));case a.a.Warning:return r.createElement(o.a,{className:"thread-message__warning",color:s.f.Alt2},Object(c.e)());case a.a.InactiveUserNotice:return r.createElement(o.a,{className:"thread-message__inactive-user",color:s.f.Alt2},Object(c.a)());case a.a.Whisper:return this.props.reportOutgoingWhisperRendered&&this.props.reportOutgoingWhisperRendered(e.content),r.createElement(d.a,{className:"thread-message__message","data-a-target":"whisper-message","data-test-selector":"whisper-message"},Object(c.f)(e,this.props.onUserClick));case a.a.NewMessages:return r.createElement(o.a,{className:"thread-message__new-messages",color:s.f.OverlayAlt,fontSize:s.j.Size7},Object(c.b)());case a.a.Notification:return r.createElement(d.a,{className:"thread-message__notification"},Object(c.c)(e));default:return null}},n}(r.Component)},"4h+t":function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"c",(function(){return l})),t.d(n,"b",(function(){return p}));var i,r=t("DMoW"),a=t("uYEN"),o=t("5zXJ"),s=t("0Lz3"),d={Cheer:r.S.FIRST_PARTY,Kappa:r.S.FIRST_PARTY,Kreygasm:r.S.FIRST_PARTY,Muxy:r.S.THIRD_PARTY,Showlove:r.S.FIRST_PARTY,Streamlabs:r.S.THIRD_PARTY,SwiftRage:r.S.FIRST_PARTY,Uni:r.S.FIRST_PARTY,VoHiYo:r.S.FIRST_PARTY},c=[a.a.Red,a.a.Blue,a.a.Green,a.a.Purple,a.a.Gray],u={indexedActions:{},orderedActions:[],tiers:[],getImage:m};function l(){if(!i){var e=f("Cheer",r.S.DEFAULT);i={indexedActions:{cheer:e},orderedActions:[e],tiers:c.map((function(e){return{bits:e,color:o.j[e]}})),getImage:m}}return i}function m(e,n,t,i,r){var a="animated"===t?"gif":"png";return Object(s.a)(o.h,{prefix:e,background:n,animation:t,tier:i,scale:r,extension:a})}function f(e,n){var t=c.map((function(n){return{__typename:"CheermoteTier",bits:n,canShowInBitsCard:!0,id:e+";"+n}}));return{__typename:"Cheermote",campaign:null,id:e,prefix:e,type:n,tiers:t,orderedTiers:t,getImage:m.bind(void 0,e)}}function p(e){return f(e,d[e])}},"5zXJ":function(e,n,t){"use strict";t.d(n,"t",(function(){return a})),t.d(n,"g",(function(){return o})),t.d(n,"f",(function(){return s})),t.d(n,"h",(function(){return d})),t.d(n,"r",(function(){return c})),t.d(n,"m",(function(){return u})),t.d(n,"o",(function(){return l})),t.d(n,"p",(function(){return m})),t.d(n,"n",(function(){return f})),t.d(n,"q",(function(){return p})),t.d(n,"k",(function(){return h})),t.d(n,"l",(function(){return g})),t.d(n,"j",(function(){return v})),t.d(n,"s",(function(){return k})),t.d(n,"i",(function(){return b})),t.d(n,"a",(function(){return y})),t.d(n,"c",(function(){return S})),t.d(n,"d",(function(){return _})),t.d(n,"e",(function(){return C})),t.d(n,"b",(function(){return w}));var i,r=t("uYEN"),a={ERROR_DISPLAY_TIMEOUT:5e3,GET_BALANCE_RATE_LIMIT:5e3,UNDO_PROMPT_DURATION:5e3},o="https://d3aqoihi2n8ty8.cloudfront.net",s=o+"/cheer",d=o+"/actions"+"/PREFIX/BACKGROUND/ANIMATION/TIER/SCALE.EXTENSION",c="bonus",u=8e5,l=1e5,m=25e4,f=500,p=1e3,h="cheer",g=r.a.Purple,v=((i={})[r.a.Gray]="#979797",i[r.a.Purple]="#9c3ee8",i[r.a.Green]="#1db2a5",i[r.a.Blue]="#0099fe",i[r.a.Red]="#f43021",i[r.a.Yellow]="#f3a71a",i),k="bits_sponsored_cheermotes",b="bits_charity_event",y="bits_project_marley",S="AnAnonymousCheerer",_="ananonymouscheerer",C="407665396",w="Anon"},"5zf8":function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return d})),t.d(n,"c",(function(){return u}));var i,r,a=t("/7QA");function o(e,n){switch(e){case i.Second:return Object(a.d)("{secondCount, plural, one {# second} other {# seconds}}",{secondCount:n},"formatDuration");case i.Minute:return Object(a.d)("{minuteCount, plural, one {# minute} other {# minutes}}",{minuteCount:n},"formatDuration");case i.Hour:return Object(a.d)("{hourCount, plural, one {# hour} other {# hours}}",{hourCount:n},"formatDuration");case i.Day:return Object(a.d)("{dayCount, plural, one {# day} other {# days}}",{dayCount:n},"formatDuration");case i.Week:return Object(a.d)("{weekCount, plural, one {# week} other {# weeks}}",{weekCount:n},"formatDuration");case i.Month:return Object(a.d)("{monthCount, plural, one {# month} other {# months}}",{monthCount:n},"formatDuration");default:return""}}function s(e,n){switch(e){case i.Second:return Object(a.d)("{secondCount}s",{secondCount:n},"formatDuration");case i.Minute:return Object(a.d)("{minuteCount}m",{minuteCount:n},"formatDuration");case i.Hour:return Object(a.d)("{hourCount}h",{hourCount:n},"formatDuration");case i.Day:return Object(a.d)("{dayCount}d",{dayCount:n},"formatDuration");case i.Week:return Object(a.d)("{weekCount}w",{weekCount:n},"formatDuration");case i.Month:return Object(a.d)("{monthCount}mo",{monthCount:n},"formatDuration");default:return""}}function d(e,n){var t;switch(void 0===n&&(n=r.Humanized),n===r.ClockAuto&&(n=e>=3600?r.ClockHMS:r.ClockMS),n){case r.ClockHM:case r.ClockHMS:t=i.Hour;break;case r.ClockMS:t=i.Minute}var o=2;n===r.ClockHMS&&(o=3);var d=function(e,n){void 0===n&&(n=i.Month);var t={};return t.seconds=e,e<60||n===i.Second?t:(t.minutes=Math.floor(e/60),t.seconds=e%60,t.minutes<60||n===i.Minute?t:(t.hours=Math.floor(t.minutes/60),t.minutes=t.minutes%60,t.hours<24||n===i.Hour?t:(t.days=Math.floor(t.hours/24),t.hours=t.hours%24,t.days<7||n===i.Day?t:t.days<=26||n===i.Week?(t.weeks=Math.floor(t.days/7),t.days=t.days%7,t):(t.months=Math.round((t.days+3)/30),t))))}(e,t),l=Object.keys(d);if(l.forEach((function(e,t){n!==r.Humanized&&n!==r.HumanizedShort||d[e]||delete d[e],t<l.length-o&&delete d[e]})),n===r.Humanized)return u(d);if(n===r.HumanizedShort)return function(e){return void 0!==e.months?s(i.Month,e.months):void 0!==e.weeks&&void 0!==e.days?s(i.Week,e.weeks)+" "+s(i.Day,e.days):void 0!==e.weeks?s(i.Week,e.weeks):void 0!==e.days&&void 0!==e.hours?s(i.Day,e.days)+" "+s(i.Hour,e.hours):void 0!==e.days?s(i.Day,e.days):void 0!==e.hours&&void 0!==e.minutes?s(i.Hour,e.hours)+" "+s(i.Minute,e.minutes):void 0!==e.hours?s(i.Hour,e.hours):void 0!==e.minutes&&void 0!==e.seconds?s(i.Minute,e.minutes)+" "+s(i.Second,e.seconds):void 0!==e.minutes?s(i.Minute,e.minutes):s(i.Second,e.seconds||0)}(d);var m=":",f=!1;switch(a.p.intl.getLanguageCode()){case"cy":case"da":case"fi":case"id":case"nb":case"si":m=".";break;case"af":case"fr":case"lt":f=!0}var p=d.seconds||0,h=d.minutes||0,g=d.hours||0;switch(n){case r.ClockHM:case r.ClockHMS:var v=(f?c(g,2):g)+m+c(h,2);return n===r.ClockHMS&&(v+=m+c(p,2)),v;case r.ClockMS:return(f?c(h,2):h)+m+c(p,2)}}function c(e,n){var t=e.toString();return t.length<n?"0".repeat(n-t.length)+t:t}function u(e){return void 0!==e.months?o(i.Month,e.months):void 0!==e.weeks&&void 0!==e.days?o(i.Week,e.weeks)+" "+o(i.Day,e.days):void 0!==e.weeks?o(i.Week,e.weeks):void 0!==e.days&&void 0!==e.hours?o(i.Day,e.days)+" "+o(i.Hour,e.hours):void 0!==e.days?o(i.Day,e.days):void 0!==e.hours&&void 0!==e.minutes?o(i.Hour,e.hours)+" "+o(i.Minute,e.minutes):void 0!==e.hours?o(i.Hour,e.hours):void 0!==e.minutes&&void 0!==e.seconds?o(i.Minute,e.minutes)+" "+o(i.Second,e.seconds):void 0!==e.minutes?o(i.Minute,e.minutes):o(i.Second,e.seconds||0)}!function(e){e[e.Second=0]="Second",e[e.Minute=1]="Minute",e[e.Hour=2]="Hour",e[e.Day=3]="Day",e[e.Week=4]="Week",e[e.Month=5]="Month"}(i||(i={})),function(e){e[e.Humanized=0]="Humanized",e[e.HumanizedShort=1]="HumanizedShort",e[e.ClockAuto=2]="ClockAuto",e[e.ClockHM=3]="ClockHM",e[e.ClockMS=4]="ClockMS",e[e.ClockHMS=5]="ClockHMS"}(r||(r={}))},"6j5V":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("RcPG");function r(e){return{type:i.a.Text,content:e}}},"8/YZ":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EmoteModifier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};t.loc.source={body:"fragment subscriptionProductEmoteModifier on EmoteModifier {\ncode\nname\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"88lE":function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("/7QA"),o=t("tQZM"),s=t("Ws8v"),d=t("yymn"),c=t("hnjF"),u=t("tlKs"),l=t("sUnt"),m=t("HH5h"),f=t("+80q"),p=t("d/uA"),h=t("7uM4"),g=t("C7sF"),v=t("IbuL"),k=(t("jPWu"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleThreadClick=function(){n.props.selectThread(n.props.threadID)},n.handleArchiveClick=function(e){e.stopPropagation(),n.props.archiveThread(n.props.threadID)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e,n,t,i,k=this.props.user,b=this.props.lastMessage?Object(o.g)(this.props.lastMessage.content.content||"",this.props.lastMessage.content.emotes||[]):null,y=this.props.unreadMessageCount,S=Object(a.d)("Unknown","ThreadListItem");return k?((n=k.displayName||k.login)||(n=S),t=k.login||S,i=k.profileImageURL):(n=S,t=S,i=null),r.createElement(s.a,{className:"whispers-list-item "+(this.props.isSelected?"whispers-list-item--selected":""),position:d.n.Relative},r.createElement(s.a,{position:d.n.Relative,borderBottom:!0,fullWidth:!0,display:d.g.Flex,alignItems:d.b.Center},r.createElement(c.a,{fullWidth:!0},r.createElement(u.a,{onClick:this.handleThreadClick,role:"listitem","data-a-target":"whisper-with-"+t},r.createElement(s.a,{padding:1,display:d.g.Flex,flexWrap:d.i.NoWrap,fullWidth:!0,alignItems:d.b.Center},r.createElement(l.a,{className:"whispers-list-item__avatar",margin:{right:.5},flexShrink:0},r.createElement(m.a,{size:30,alt:Object(a.d)("{interlocutorName}'s Avatar",{interlocutorName:n},"WhisperThreadListItem"),src:i,onLoad:this.props.avatarOnLoadCallback,userLogin:null===(e=this.props.user)||void 0===e?void 0:e.login})),r.createElement(l.a,{fullWidth:!0,display:d.g.Inline},r.createElement(f.a,{className:"whispers-list-item__user-name",fontSize:d.j.Size5,bold:!0,italic:n===S,ellipsis:!0},n),r.createElement(l.a,{className:"whispers-list-item__last-message",ellipsis:!0},b)))))),r.createElement(s.a,{className:"whispers-list-item__visible-icons"},y>0&&!this.props.muted&&r.createElement(s.a,{className:"whispers-list-item__unread-icon",display:d.g.Flex,justifyContent:d.l.Center,position:d.n.Absolute,alignItems:d.b.Center,margin:{right:1},borderBottom:!0},r.createElement(p.a,{value:y})),this.props.muted&&r.createElement(s.a,{className:"whispers-list-item__muted-icon",display:d.g.Flex,justifyContent:d.l.Center,position:d.n.Absolute,alignItems:d.b.Center,margin:{right:1},borderRadius:d.e.Small,borderBottom:!0},r.createElement(h.a,{type:h.b.Alt2,asset:g.a.WhisperMuted}))),r.createElement(s.a,{className:"whispers-list-item__archive",display:d.g.Flex,alignItems:d.b.Center,position:d.n.Absolute,justifyContent:d.l.Start,borderBottom:!0,attachTop:!0,attachBottom:!0},r.createElement(u.a,{className:"whispers-list-item__archive-button","data-a-target":"whispers-list-item__archive-button","data-click-out-id":"whispers-list-item__archive-button",title:Object(a.d)("Archive Thread","WhisperThreadListItem"),onClick:this.handleArchiveClick},r.createElement(v.a,{asset:g.a.Trash}))))},n}(r.Component));t.d(n,"a",(function(){return k}))},"8XBm":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockRandomSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockRandomSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockRandomSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:173}};t.loc.source={body:"mutation UnlockRandomSubscriberEmote($input: UnlockRandomSubscriberEmoteInput!) {\nunlockRandomSubscriberEmote (input: $input) {\nbalance\nemote {\nid\ntoken\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnlockRandomSubscriberEmote=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"UnlockRandomSubscriberEmote")},"9KaG":function(e,n,t){},"A++4":function(e,n,t){"use strict";function i(e,n){return e.find((function(e){return!!e&&e.id!==n}))||void 0}t.d(n,"a",(function(){return i}))},A4KW:function(e,n,t){"use strict";var i=t("ALJo");t.d(n,"a",(function(){return i.a})),t.d(n,"b",(function(){return i.b}))},AELI:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Whispers_Whispers_UserWhisperThreads"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"whisperThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"currentUserWhisperThreadsNode"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:273}};i.loc.source={body:'#import "./current-user-whisper-threads-node-fragment.gql"\nquery Whispers_Whispers_UserWhisperThreads($cursor: Cursor) {\ncurrentUser {\nid\nlogin\nwhisperThreads(first: 10 after: $cursor) {\nedges {\ncursor\nnode {\n...currentUserWhisperThreadsNode\n}\n__typename\n}\n__typename\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("K/MK").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.Whispers_Whispers_UserWhisperThreads=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"Whispers_Whispers_UserWhisperThreads")},ALJo:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return u}));var i,r=t("q1tI"),a=t("ANjH"),o=t("yR8l"),s=t("YV90"),d=t("SyZi"),c=t("SCHm");!function(e){e.Small="channel-points-icon--small",e.Medium="channel-points-icon--medium",e.Large="channel-points-icon--large"}(i||(i={}));var u=Object(a.d)(Object(s.b)((function(e){return{isLoaded:e.isLoaded,pointIcon:e.pointIcon,pointName:e.pointName}})),Object(o.a)(c,{options:function(e){var n;return{variables:{channelLogin:null!==(n=e.channelLogin)&&void 0!==n?n:""}}},skip:function(e){return!e.channelLogin||e.isLoaded}}))((function(e){var n=null,t=null,i=e.data;return e.isLoaded?(n=e.pointIcon,t=e.pointName):i&&i.community&&i.community.channel&&i.community.channel.communityPointsSettings&&(n=i.community.channel.communityPointsSettings.image,t=i.community.channel.communityPointsSettings.name),r.createElement(d.a,{iconSize:e.iconSize,image:n,name:t})}))},BSTw:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Algolia_RequestInfo"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:57}};t.loc.source={body:"query Algolia_RequestInfo {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Algolia_RequestInfo=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Algolia_RequestInfo")},CMUD:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Whispers_Tracking_Read"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"threadID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"whisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"threadID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"receive"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:175}};t.loc.source={body:"query Whispers_Tracking_Read($threadID: ID!) {\ncurrentUser {\nid\nlogin\n}\nwhisperThread(id: $threadID) {\nid\nparticipants {\nid\nlogin\nself {\nwhisperPermissions {\nreceive\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Whispers_Tracking_Read=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Whispers_Tracking_Read")},CbHG:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatFilterContextManager_User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:68}};t.loc.source={body:"query ChatFilterContextManager_User {\ncurrentUser {\nid\ncreatedAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ChatFilterContextManager_User=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"ChatFilterContextManager_User")},CzFK:function(e,n,t){"use strict";t.d(n,"f",(function(){return i})),t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"d",(function(){return o})),t.d(n,"e",(function(){return s})),t.d(n,"g",(function(){return d})),t.d(n,"a",(function(){return c})),t.d(n,"l",(function(){return u})),t.d(n,"h",(function(){return l})),t.d(n,"i",(function(){return m})),t.d(n,"j",(function(){return f})),t.d(n,"m",(function(){return p})),t.d(n,"k",(function(){return h})),t.d(n,"n",(function(){return g}));var i="whispers.THREAD_OPENED",r="whispers.THREAD_CLOSED",a="whispers.THREAD_COLLAPSED",o="whispers.THREAD_EXPANDED",s="whispers.THREAD_FOCUSED",d="whispers.THREAD_UNFOCUSED",c="whispers.CONTENT_RESIZED";function u(e,n){return{type:i,data:e,contentWidth:n}}function l(e,n){return{type:r,threadID:e,contentWidth:n}}function m(e,n){return{type:a,threadID:e,contentWidth:n}}function f(e,n){return{type:o,threadID:e,contentWidth:n}}function p(e){return{type:c,contentWidth:e}}function h(e,n){return{type:s,threadID:e,contentWidth:n}}function g(e,n){return{type:d,threadID:e,contentWidth:n}}},Epr8:function(e,n,t){},"H/lO":function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e.Games="game",e.Videos="vod",e.Users="user",e.Channels="live_channel",e.StreamTags="stream_tag",e.Tags="tag"}(i||(i={}))},HfAM:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductPriceInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:779}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote-modifier.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-price-info.gql"\nfragment subProduct on SubscriptionProduct {\nid\nurl\nprice\npriceInfo {\n...subscriptionProductPriceInfo\n}\nname\ntier\ninterval {\nunit\n}\nstate\nemotes {\nid\nsetID\ntoken\n}\noffers {\n...subProductOfferFragment\n}\nemoteModifiers {\n...subscriptionProductEmoteModifier\n}\nself {\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nbenefit {\nid\ntier\n}\n}\nowner {\nid\ndisplayName\nlogin\nsubscriptionProducts {\nid\ntier\nurl\nprice\nemotes {\nid\ntoken\n}\nemoteModifiers {\n...subscriptionProductEmoteModifier\n}\n}\nstream {\nid\ntype\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))}i.definitions=i.definitions.concat(a(t("Wd+u").definitions)),i.definitions=i.definitions.concat(a(t("8/YZ").definitions)),i.definitions=i.definitions.concat(a(t("35qb").definitions)),e.exports=i},"K/MK":function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"currentUserWhisperThreadsNode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WhisperThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"spamInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"threadListItemSpamInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"whisperThreadsMessageEdge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isMuted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isArchived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:515}};i.loc.source={body:'#import "twilight/features/whispers/components/thread-list-item/thread-list-item-spam-info-fragment.gql"\n#import "./whisper-threads-message-edge-fragment.gql"\nfragment currentUserWhisperThreadsNode on WhisperThread {\nid\nparticipants {\nid\nchatColor\ndisplayName\nprofileImageURL(width: 70)\nlogin\n__typename\n}\nspamInfo {\n...threadListItemSpamInfo\n}\nmessages(first: 20) {\nedges {\n...whisperThreadsMessageEdge\n}\n__typename\n}\nuserLastMessageRead {\nid\nsentAt\n__typename\n}\nisMuted\nisArchived\nunreadMessagesCount\n__typename\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))}i.definitions=i.definitions.concat(a(t("eFVV").definitions)),i.definitions=i.definitions.concat(a(t("0Vc4").definitions)),e.exports=i},N6NX:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Threads_MarkAllWhispersAsRead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateAllWhisperThreadsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateAllWhisperThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:130}};t.loc.source={body:"mutation Threads_MarkAllWhispersAsRead($input: UpdateAllWhisperThreadsInput!) {\nupdateAllWhisperThreads(input: $input) {\ncount\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Threads_MarkAllWhispersAsRead=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Threads_MarkAllWhispersAsRead")},NMMG:function(e,n,t){"use strict";function i(e,n){return parseInt(n,10)<parseInt(e,10)?n+"_"+e:e+"_"+n}function r(e,n){return e.split("_").find((function(e){return e!==n}))||null}t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r}))},NZDK:function(e,n,t){"use strict";var i,r=t("mrSG"),a=t("hnrd"),o=t("4An/");!function(e){e.Games="games",e.Videos="videos",e.Users="users",e.Channels="channels",e.StreamTags="streamTags",e.Tags="tags"}(i||(i={}));var s,d,c=t("H/lO");!function(e){e[e.AllVideos=0]="AllVideos",e[e.PastBroadcasts=1]="PastBroadcasts",e[e.Uploads=2]="Uploads",e[e.Highlights=3]="Highlights"}(s||(s={})),function(e){e[e.AnyLength=0]="AnyLength",e[e.Short=1]="Short",e[e.Long=2]="Long"}(d||(d={}));var u,l=t("BSTw");t.d(n,"a",(function(){return f}));var m=((u={})[i.Games]={indexName:c.a.Games,hitsPerPage:2,topNumericFilters:["popularity>1"],singleTypeNumericFilters:[],optionalFacetFilters:""},u[i.Videos]={indexName:c.a.Videos,hitsPerPage:6,get topNumericFilters(){return["created_at>"+v(g())]},singleTypeNumericFilters:[],optionalFacetFilters:""},u[i.Users]={indexName:c.a.Users,hitsPerPage:2,topNumericFilters:["followers>50"],singleTypeNumericFilters:[],optionalFacetFilters:""},u[i.Channels]={indexName:c.a.Channels,hitsPerPage:6,get topNumericFilters(){return["channel_count>10","updated_on>"+v(h())]},get singleTypeNumericFilters(){return["updated_on>"+v(h())]},optionalFacetFilters:""},u[i.StreamTags]={indexName:c.a.StreamTags,hitsPerPage:2,topNumericFilters:[],singleTypeNumericFilters:[],optionalFacetFilters:""},u[i.Tags]={indexName:c.a.Tags,hitsPerPage:2,topNumericFilters:[],singleTypeNumericFilters:[],optionalFacetFilters:""},u),f=function(){function e(e){this.apolloClient=e.apolloClient,this.client=a(e.appId,e.apiKey),this.stats=e.stats,this.logger=e.logger.withCategory("search-client"),this.getCountryCode()}return e.prototype.queryTopResults=function(e,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,a,s,d,u,l=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t=p(n),a=[],o.a.values(i).forEach((function(n){a.push(l.getTopResult(m[n],e)),a.push(l.getTotalResult(m[n],e))})),[4,this.query(a)];case 1:return(s=r.sent())&&s.results?((u={})[c.a.Users]=i.Users,u[c.a.Games]=i.Games,u[c.a.Channels]=i.Channels,u[c.a.Videos]=i.Videos,u[c.a.StreamTags]=i.StreamTags,u[c.a.Tags]=i.Tags,d=u,s.results.forEach((function(e){var n=o.a.convertValueFromExternal(c.a,e.index);if(n){var i=d[n];t[i]?(t[i].totalHits=Math.max(e.nbHits,t[i].totalHits),t[i].hits=e.hits.length>t[i].hits.length?e.hits:t[i].hits):t[i]={hits:e.hits,totalHits:e.nbHits}}})),[2,t]):[2,t]}}))}))},e.prototype.queryForType=function(e,n,t,i){var a=void 0===i?{}:i,o=a.page,s=void 0===o?0:o,d=a.hitsPerPage,u=void 0===d?50:d,l=a.facetFilters,f=void 0===l?"":l,h=a.numericFilters,g=a.restrictSearchableAttributes,v=void 0===g?[]:g;return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,d,l,g,k,b,y=this;return Object(r.__generator)(this,(function(S){switch(S.label){case 0:switch((i=p(t)).currentPage=s,a=function(e){return Object(r.__awaiter)(y,void 0,void 0,(function(){var t,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t={indexName:e.indexName,query:n,params:{page:s,hitsPerPage:u,numericFilters:h||e.singleTypeNumericFilters,facets:"*",facetFilters:f,restrictSearchableAttributes:v}},[4,this.query([t])];case 1:return(a=r.sent())?(i.exhaustedHits=!a.results[0].nbHits||a.results[0].hits.length<u,[2,{totalHits:a.results[0].nbHits,hits:a.results[0].hits}]):(i.exhaustedHits=!0,[2,{totalHits:0,hits:[]}])}}))}))},e){case c.a.Games:return[3,1];case c.a.Users:return[3,3];case c.a.Channels:return[3,5];case c.a.Videos:return[3,7];case c.a.StreamTags:return[3,9];case c.a.Tags:return[3,11]}return[3,13];case 1:return o=i,[4,a(m.games)];case 2:return o.games=S.sent(),[3,14];case 3:return d=i,[4,a(m.users)];case 4:return d.users=S.sent(),[3,14];case 5:return l=i,[4,a(m.channels)];case 6:return l.channels=S.sent(),[3,14];case 7:return g=i,[4,a(m.videos)];case 8:return g.videos=S.sent(),[3,14];case 9:return k=i,[4,a(m.streamTags)];case 10:return k.streamTags=S.sent(),[3,14];case 11:return b=i,[4,a(m.tags)];case 12:return b.tags=S.sent(),[3,14];case 13:return[2,null];case 14:return[2,i]}}))}))},e.prototype.queryVideos=function(e,n,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:switch(i=c.a.Videos,a=[],t.length){case d.Short:a.push("length<=900");break;case d.Long:a.push("length>900")}switch(o={indexName:i,query:e,params:{page:0,hitsPerPage:50,numericFilters:a,facets:"*",facetFilters:""}},t.type){case s.PastBroadcasts:o.params.facetFilters="broadcast_type:archive";break;case s.Uploads:o.params.facetFilters="broadcast_type:upload";break;case s.Highlights:o.params.facetFilters="broadcast_type:highlight"}return[4,this.query([o])];case 1:return(u=r.sent())?[2,{id:n,totalHits:u.results[0].nbHits,hits:u.results[0].hits}]:[2,{id:n,totalHits:0,hits:[]}]}}))}))},e.prototype.getCountryCode=function(){var e=this;this.apolloClient.query({query:l}).then((function(n){e.countryCode=n.data.requestInfo.countryCode})).catch((function(n){e.logger.warn(n,"Failed to get country code")}))},e.prototype.getTopResult=function(e,n){return{indexName:e.indexName,query:n,params:{page:0,hitsPerPage:e.hitsPerPage,numericFilters:e.topNumericFilters}}},e.prototype.getTotalResult=function(e,n){return{indexName:e.indexName,query:n,params:{hitsPerPage:0,numericFilters:e.singleTypeNumericFilters}}},e.prototype.query=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,t,i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:t=Date.now(),a=!1,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.client.search(e)];case 2:return n=r.sent(),[3,4];case 3:return r.sent(),a=!0,n=null,[3,4];case 4:return i=Date.now(),this.countryCode&&(a?this.stats.recordSearchError(this.countryCode,i-t):this.stats.recordSearchSuccess(this.countryCode,i-t)),[2,n]}}))}))},e}();function p(e){var n;return(n={id:e})[i.Games]={totalHits:0,hits:[]},n[i.Videos]={totalHits:0,hits:[]},n[i.Users]={totalHits:0,hits:[]},n[i.Channels]={totalHits:0,hits:[]},n[i.StreamTags]={totalHits:0,hits:[]},n[i.Tags]={totalHits:0,hits:[]},n}function h(){return Math.floor(((new Date).getTime()-6e5)/1e3)}function g(){var e=new Date;return e.setMonth(e.getMonth()-1),Math.floor(e.getTime()/1e3)}function v(e){return e<=100?e:100*Math.round(e/100)}},P5MF:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_EmoteCard_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:176}};t.loc.source={body:"query Core_Services_Spade_EmoteCard_User($channelID: ID!) {\nuser(id: $channelID) {\nid\nhasPrime\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Core_Services_Spade_EmoteCard_User=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Core_Services_Spade_EmoteCard_User")},P6kH:function(e,n,t){"use strict";t.d(n,"b",(function(){return d})),t.d(n,"c",(function(){return c})),t.d(n,"d",(function(){return h})),t.d(n,"a",(function(){return i})),t.d(n,"e",(function(){return v})),t.d(n,"f",(function(){return k}));var i,r=t("/7QA"),a=t("DMoW"),o=t("dGMd"),s="owl2019_emote_ids",d="OverwatchLeague",c="137512364",u="12658",l="324",m="300374283",f="139075904",p=5e8,h="Twitch",g="301696583";function v(e){var n,t;if(!e.emote)return i.Unknown;if(e.emote.subscriptionProduct)return e.emote.subscriptionProduct.id===m?i.TwoFactor:e.emote.subscriptionProduct.id===u?i.Prime:e.emote.subscriptionProduct.id===l?i.Turbo:(d=e.emote.id||"",r.b.get(s,[]).includes(d)?i.OWL2019:(null===(n=e.emote.subscriptionProduct.owner)||void 0===n?void 0:n.id)?e.emote.subscriptionProduct.owner.id===f||e.emote.subscriptionProduct.state===a.ke.INACTIVE?i.LimitedTime:i.Subscription:i.Unavailable);var d,c=(null===(t=e.emote.token)||void 0===t?void 0:t.split("_"))||[];return k(e.emote.setID||"0")?i.BitsTier:e.emote.setID===o.a||c.length>1?i.ChannelPoints:e.emote.id===g?i.StreamAid:i.Global}function k(e){return parseInt(e,10)>=p}!function(e){e[e.Unknown=0]="Unknown",e[e.Prime=1]="Prime",e[e.Turbo=2]="Turbo",e[e.OWL2019=3]="OWL2019",e[e.LimitedTime=4]="LimitedTime",e[e.StreamAid=5]="StreamAid",e[e.ChannelPoints=6]="ChannelPoints",e[e.Unavailable=7]="Unavailable",e[e.Subscription=8]="Subscription",e[e.BitsTier=9]="BitsTier",e[e.Global=10]="Global",e[e.TwoFactor=11]="TwoFactor"}(i||(i={}))},PrJw:function(e,n,t){"use strict";var i,r,a,o,s,d,c,u=t("mrSG"),l=t("/7QA"),m=t("2xye"),f=t("IZXT"),p=t("mBWp");function h(e){l.p.tracking.track(m.SpadeEventType.WhisperThreadMod,{conversation_id:e.threadID,action:e.action})}function g(e){return Object(u.__awaiter)(this,void 0,void 0,(function(){var n;return Object(u.__generator)(this,(function(t){switch(t.label){case 0:return[4,M()];case 1:return n=t.sent(),l.p.tracking.track(m.SpadeEventType.WhisperIgnoreUser,{ui_context:e.context,from_login:n&&n.login,ignored_login:e.targetUserLogin,reason:e.reason||i.Other,source:e.source}),[2]}}))}))}function v(e,n){return Object(u.__awaiter)(this,void 0,void 0,(function(){var t;return Object(u.__generator)(this,(function(i){switch(i.label){case 0:return[4,M()];case 1:return t=i.sent(),l.p.tracking.track(m.SpadeEventType.WhisperThreadMod,{conversation_id:e,action:n,login:t&&t.login}),[2]}}))}))}function k(e){l.p.tracking.track(m.SpadeEventType.WhisperAllThreadsMod,{action:e})}function b(){k(r.MarkAllRead)}function y(){k(r.EnableDoNotDisturb)}function S(){k(r.DisableDoNotDisturb)}function _(e,n){g({context:n,targetUserLogin:e,reason:i.Spam,source:"conversations_button"})}function C(e){v(e,s.MarkNotSpam)}function w(e){v(e,s.Archive)}function E(e){h({threadID:e,action:a.Mute})}function N(e){h({threadID:e,action:a.Unmute})}function D(e){h({threadID:e,action:a.Expand})}function O(e){h({threadID:e,action:a.Collapse})}function I(e){h({threadID:e,action:a.Close})}function T(e){h({threadID:e,action:a.Archive})}function F(e){l.p.tracking.track(m.SpadeEventType.WhisperThreadCreate,{conversation_id:e.threadID,target_login:e.targetUserlogin,source:"search_target_result",search_result_rank:e.searchResultRank})}function j(e){l.p.tracking.track(m.SpadeEventType.WhisperSearchClick,{query:e.searchQuery,source:"conversation_list",rank:e.searchResultRank,is_conversation:e.isConversation})}function M(){var e=this;return new Promise((function(n){setTimeout((function(){return Object(u.__awaiter)(e,void 0,void 0,(function(){var e,t,i;return Object(u.__generator)(this,(function(r){switch(r.label){case 0:e=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,l.p.apollo.client.query({query:p})];case 2:return e=r.sent(),[3,4];case 3:return t=r.sent(),Object(f.d)()?l.k.warn("Failed to make query for current user info in WhisperSent reporting"):l.k.errorAndReport(t,"Failed to make query for current user info in WhisperSent reporting"),[3,4];case 4:return i=e&&e.data&&e.data.currentUser,n(i),[2]}}))}))}))}))}function x(e){return Object(u.__awaiter)(this,void 0,void 0,(function(){var n;return Object(u.__generator)(this,(function(t){switch(t.label){case 0:return[4,M()];case 1:return n=t.sent(),l.p.tracking.track(m.SpadeEventType.WhisperSent,{to:e.targetUserLogin,from:n&&n.login,player:"web",is_turbo:n&&n.hasTurbo,conversation_id:e.threadID,availability:n&&n.availability,room_type:e.inChannelChat?d.Channel:d.Conversation,ui_context:e.context}),[2]}}))}))}function A(e){return Object(u.__awaiter)(this,void 0,void 0,(function(){var n;return Object(u.__generator)(this,(function(t){switch(t.label){case 0:return[4,M()];case 1:return n=t.sent(),l.p.tracking.track(m.SpadeEventType.WhisperReceived,{to:n&&n.login,from:e.targetUserLogin,player:"web",is_turbo:n&&n.hasTurbo,conversation_id:e.threadID}),[2]}}))}))}!function(e){e.Harassment="Harassment",e.Spam="Spam",e.Other="Other"}(i||(i={})),function(e){e.MarkAllRead="mark_all_read",e.EnableDoNotDisturb="do_not_disturb_on",e.DisableDoNotDisturb="do_not_disturb_off"}(r||(r={})),function(e){e.Mute="mute",e.Unmute="unmute",e.Expand="maximize",e.Collapse="minimize",e.Close="close",e.Archive="archive",e.Open="open"}(a||(a={})),function(e){e.Dock="dock",e.SpamPropmt="dock_spam_cta"}(o||(o={})),function(e){e.Archive="archive",e.MarkNotSpam="mark_not_spam"}(s||(s={})),function(e){e.Channel="channel",e.Conversation="conversation"}(d||(d={})),function(e){e.Default="default",e.ModView="mod_view",e.Sunlight="sunligh"}(c||(c={})),t.d(n,"a",(function(){return o})),t.d(n,"k",(function(){return b})),t.d(n,"i",(function(){return y})),t.d(n,"h",(function(){return S})),t.d(n,"m",(function(){return _})),t.d(n,"p",(function(){return C})),t.d(n,"o",(function(){return w})),t.d(n,"l",(function(){return E})),t.d(n,"n",(function(){return N})),t.d(n,"j",(function(){return D})),t.d(n,"f",(function(){return O})),t.d(n,"e",(function(){return I})),t.d(n,"c",(function(){return T})),t.d(n,"g",(function(){return F})),t.d(n,"d",(function(){return j})),t.d(n,"r",(function(){return x})),t.d(n,"q",(function(){return A})),t.d(n,"b",(function(){return c}))},QAd9:function(e,n,t){"use strict";function i(e){return Object.keys(e).reduce((function(n,t){var i=e[t];return i.muted||i.archived?n:n+i.unreadMessagesCount}),0)}t.d(n,"a",(function(){return i}))},QVaV:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o}));var i=t("q1tI"),r=/^[\x00-\x7F]*$/,a=function(e,n,t){return void 0===t&&(t=!1),n&&e&&!o(n)?t?n+" ("+e+")":i.createElement("span",null,n," ",i.createElement("span",{className:"intl-login"},"("+e+")")):n||(e||"")};function o(e){return r.test(e)}},R5eE:function(e,n,t){"use strict";t.d(n,"f",(function(){return c})),t.d(n,"d",(function(){return u})),t.d(n,"b",(function(){return l})),t.d(n,"c",(function(){return m})),t.d(n,"e",(function(){return f})),t.d(n,"a",(function(){return p}));var i=t("mrSG"),r=t("w09P"),a=t("/7QA"),o=t("xXlL"),s=t("bAm+"),d=t("xJpr");function c(e,n){if(!n.currentUser||!n.currentUser.whisperThreads||!Object(d.e)(e))return n;var t=n.currentUser.whisperThreads.edges.find((function(n){return n.node.id===e.data_object.thread_id}));return t&&t.node.messages?r(n,(function(e){return e.currentUser.whisperThreads.edges}),(function(n){var r=n.filter((function(n){return n.node.id!==e.data_object.thread_id}));return Object(i.__spreadArrays)([t],r)})):n}function u(e,n,t,c){if(!n.currentUser||!n.currentUser.whisperThreads)return n;var u=a.n.get("whisperDoNotDisturb",!1),l=n.currentUser.whisperThreads.edges.find((function(n){return n.node.id===e.data_object.thread_id}));if(l&&l.node.messages){var m=l,f=Object(o.c)(e);return m=r(m,(function(e){return e.node.messages.edges}),(function(e){return Object(i.__spreadArrays)([f],e)})),Object(d.d)(e)&&(e.data_object.thread_id===t?Object(s.a)({threadID:e.data_object.thread_id,lastReadMessageID:e.data_object.message_id},e.data_object.id,!0):m=r(m,(function(e){return e.node.unreadMessagesCount}),(function(e){return e+1})),c({threadID:e.data_object.thread_id,collapsed:!0,hidden:u})),m=r(m,(function(e){return e.node.isArchived}),(function(){return!1})),r(n,(function(e){return e.currentUser.whisperThreads.edges}),(function(n){var t=n.filter((function(n){return n.node.id!==e.data_object.thread_id}));return Object(i.__spreadArrays)([m],t)}))}return c({threadID:e.data_object.thread_id,collapsed:!0,hidden:u}),n}function l(e,n){if(!n.currentUser||!n.currentUser.whisperThreads)return n;var t=n.currentUser.whisperThreads.edges.findIndex((function(n){return n.node.id===e.data_object.thread_id}));if(t>=0){var a=n.currentUser.whisperThreads.edges[t];if(a&&a.node.messages){var s=a.node.messages.edges.findIndex((function(n){return n.node.id===e.data_object.message_id}));if(s>=0)return r(n,(function(e,n){return e.currentUser.whisperThreads.edges[n.threadIndex].node.messages.edges[n.messageIndex].node}),(function(n){return n?Object(i.__assign)(Object(i.__assign)({},n),{deletedAt:new Date(1e3*e.data_object.deleted_at).toISOString(),content:Object(i.__assign)(Object(i.__assign)({},n.content),{content:e.data_object.body,emotes:Object(o.b)(e.data_object.tags.emotes)})}):n}),{threadIndex:t,messageIndex:s})}}return n}function m(e,n){if(!n.currentUser||!n.currentUser.whisperThreads)return n;var t=n.currentUser.whisperThreads.edges.findIndex((function(n){return n.node.id===e.data_object.thread_id}));if(t>=0){var a=n.currentUser.whisperThreads.edges[t];if(a.node.messages){var s=a.node.messages.edges.findIndex((function(n){return n.node.id===e.data_object.message_id}));if(s>=0)return r(n,(function(e,n){return e.currentUser.whisperThreads.edges[n.threadIndex].node.messages.edges[n.messageIndex].node}),(function(n){return Object(i.__assign)(Object(i.__assign)({},n),{editedAt:new Date(1e3*e.data_object.edited_at).toISOString(),content:Object(i.__assign)(Object(i.__assign)({},n.content),{content:e.data_object.body,emotes:Object(o.b)(e.data_object.tags.emotes)})})}),{threadIndex:t,messageIndex:s})}}return n}function f(e,n,t){if(!n.currentUser||!n.currentUser.whisperThreads)return n;var a=n.currentUser.whisperThreads.edges.findIndex((function(n){return n.node.id===e.data_object.id}));return a>=0?(!n.currentUser.whisperThreads.edges[a].node.isArchived&&e.data_object.archived&&t(e.data_object.id),r(n,(function(e,n){return e.currentUser.whisperThreads.edges[n.index].node}),(function(n){if(n.messages){var t=n.messages.edges,r=0;if(t.length>0){var a=t[0].cursor;r=parseInt(a,10)-e.data_object.last_read}return Object(i.__assign)(Object(i.__assign)({},n),{unreadMessagesCount:r>=0?r:0,isMuted:e.data_object.muted,isArchived:e.data_object.archived})}return n}),{index:a})):n}function p(e,n){return n.currentUser&&n.currentUser.whisperThreads&&e.data_object.mark_all_read?r(n,(function(e){return e.currentUser.whisperThreads.edges}),(function(e){return e.map((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{node:Object(i.__assign)(Object(i.__assign)({},e.node),{unreadMessagesCount:0})})}))})):n}},RKC5:function(e,n,t){"use strict";t.d(n,"d",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"e",(function(){return o})),t.d(n,"b",(function(){return s})),t.d(n,"l",(function(){return d})),t.d(n,"m",(function(){return c})),t.d(n,"f",(function(){return u})),t.d(n,"a",(function(){return l})),t.d(n,"j",(function(){return m})),t.d(n,"i",(function(){return f})),t.d(n,"g",(function(){return p})),t.d(n,"h",(function(){return h})),t.d(n,"n",(function(){return g})),t.d(n,"k",(function(){return v}));var i=t("/7QA");function r(){return Object(i.d)("You are unable to whisper this user.","WhisperUtil")}function a(){return Object(i.d)("Your whisper was not delivered because it was empty.","WhisperUtil")}function o(){return Object(i.d)("Your whisper was not delivered because the recipient is suspended.","WhisperUtil")}function s(){return Object(i.d)("Your whisper was not delivered.","WhisperUtil")}function d(){return Object(i.d)("User successfully blocked","WhisperUtil")}function c(){return Object(i.d)("User successfully unblocked","WhisperUtil")}function u(){return Object(i.d)("Other People","WhisperUtil")}function l(){return Object(i.d)("No users found.","WhisperUtil")}function m(){return Object(i.d)("Search for People","WhisperUtil")}function f(){return Object(i.d)("Sorry, something went wrong loading this conversation.","WhisperUtil")}function p(){return Object(i.d)("There was a problem loading whispers.","WhisperUtil")}function h(){return Object(i.d)("There was a problem loading options for this user.","WhisperUtil")}function g(e){return Object(i.d)("{username}'s avatar",{username:e},"WhisperUtil")}function v(){return Object(i.d)('This user has turned on "Block Whispers from Strangers" in their privacy settings and must start a conversation with you first.',"WhisperUtil")}},RcPG:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Text=0]="Text",e[e.ModeratedText=1]="ModeratedText",e[e.FlaggedSegment=2]="FlaggedSegment",e[e.CurrentUserHighlight=3]="CurrentUserHighlight",e[e.Mention=4]="Mention",e[e.Link=5]="Link",e[e.Emote=6]="Emote",e[e.ClipLink=7]="ClipLink",e[e.VideoLink=8]="VideoLink"}(i||(i={}))},Ro6I:function(e,n,t){},RoEZ:function(e,n,t){"use strict";var i=t("q1tI"),r=t("yLwq"),a=t("RKC5"),o=t("tlKs"),s=t("Ws8v"),d=t("yymn"),c=t("sUnt"),u=t("HH5h"),l=t("+80q"),m=function(e){var n=e.user,t=e.index,m=e.selectResult,f=Object(a.n)(n.name),p=n.profile_image||Object(r.c)(n.objectID,30);return i.createElement(o.a,{key:"searchResult:"+n.objectID,onClick:function(){return m(n,t)}},i.createElement(s.a,{className:"whispers-list-item","data-a-target":"whisper-search-result-"+n.login,padding:1,display:d.g.Flex,flexDirection:d.h.Row,flexWrap:d.i.NoWrap,alignItems:d.b.Center,borderBottom:!0,fullWidth:!0},i.createElement(c.a,{margin:{right:.5},flexShrink:0},i.createElement(u.a,{size:30,src:p,alt:f,userLogin:n.login})),i.createElement(c.a,{display:d.g.Flex,flexDirection:d.h.Column,fullWidth:!0},i.createElement(l.a,{fontSize:d.j.Size5,bold:!0},n.name||n.login))))};t.d(n,"a",(function(){return m}))},S4w9:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserEmotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:211}};t.loc.source={body:"query UserEmotes($withOwner: Boolean!) {\ncurrentUser {\nid\nemoteSets {\nid\nemotes {\nid\nsetID\ntoken\nmodifiers {\ncode\nname\n}\n}\nowner @include(if: $withOwner) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 28)\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UserEmotes=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"UserEmotes")},SCHm:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPoints_Icon"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]}]}}]}}],loc:{start:0,end:214}};i.loc.source={body:'#import "twilight/features/community-points/models/point-customization-fragment.gql"\nquery CommunityPoints_Icon($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\nid\n...pointCustomizationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("XBQy").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.CommunityPoints_Icon=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"CommunityPoints_Icon")},SVRf:function(e,n,t){},SbbE:function(e,n,t){},SceP:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsChatCard_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:151}};t.loc.source={body:"query ClipsChatCard_Clip($slug: ID!) {\nclip(slug: $slug) {\nid\nthumbnailURL\ntitle\nslug\nurl\ncurator {\nid\ndisplayName\n}\nbroadcaster {\nid\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ClipsChatCard_Clip=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"ClipsChatCard_Clip")},SyZi:function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));var i=t("q1tI"),r=t("ZGDZ"),a=t("XIEs"),o=t("nAiT"),s=t("7uM4"),d=t("C7sF"),c=t("uG/k"),u=t("sUnt"),l=t("yymn"),m=t("ALJo"),f=(t("e9QR"),{"channel-points-icon--small":12,"channel-points-icon--medium":20,"channel-points-icon--large":50}),p=function(e){var n=e.iconSize||m.a.Medium,t=f[n],r=i.createElement(s.a,{asset:d.a.ChannelPoints,width:t,height:t});if(e.image){var p=h(t,e.image);r=i.createElement(c.a,{className:"channel-points-icon__image",alt:e.name||Object(o.b)(),src:p,srcSet:p===e.image.url?Object(a.a)(e.image):void 0})}return i.createElement(u.a,{className:"channel-points-icon "+n,display:l.g.InlineFlex},r)},h=function(e,n){return e<=r.a.SMALL?n.url:e<=r.a.MEDIUM?n.url2x:e<=r.a.LARGE?n.url4x:n.url}},Tznh:function(e,n,t){"use strict";var i,r,a=t("mrSG"),o=t("q1tI"),s=t("/MKj"),d=t("ANjH"),c=t("/7QA"),u=t("yR8l"),l=t("D7An"),m=t("kRBY"),f=t("1rIY"),p=t("+pBb"),h=t("CbHG");!function(e){e.Excluded="control",e.OptIn="opt-in",e.OptOut="opt-out"}(i||(i={})),function(e){e.FilteredMessage="chat_filter_message",e.Onboarding="onboarding",e.Other="other"}(r||(r={}));var g=Object(f.a)("ChatFilterContext",{chatFilterExperimentMembership:i.Excluded,chatFilterSettingsSource:r.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:function(){return null},showChatFilterSettings:function(){return null}}),v=g.context,k=g.withContext,b=function(e){function n(t){var a=e.call(this,t)||this;return a.hideChatFilterSettings=function(){a.setState({isShowingChatFilterSettings:!1})},a.showChatFilterSettings=function(e){a.setState({chatFilterSettingsSource:e||r.Other,isShowingChatFilterSettings:!0})},a.triggerPropCallbacks=function(){switch(n.getExperimentMembership(a.props)){case i.OptIn:void 0===a.props.viewerChatFilterEnabled&&a.props.disableViewerChatFilter(r.Other);break;case i.OptOut:void 0===a.props.viewerChatFilterEnabled&&a.props.enableViewerChatFilter(r.Other);break;case i.Excluded:}},a.state={chatFilterExperimentMembership:i.Excluded,chatFilterSettingsSource:r.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:a.hideChatFilterSettings,showChatFilterSettings:a.showChatFilterSettings},n.assignmentForNewUsers=c.p.experiments.getAndTrackAssignment(l.c.ChatFiltersNewUsers),n.assignmentForOldUsers=c.p.experiments.getAndTrackAssignment(l.c.ChatFiltersExistingUsers),a}return Object(a.__extends)(n,e),n.getDerivedStateFromProps=function(e){switch(n.getExperimentMembership(e)){case i.OptIn:return{chatFilterExperimentMembership:i.OptIn};case i.OptOut:return{chatFilterExperimentMembership:i.OptOut};case i.Excluded:default:return{chatFilterExperimentMembership:i.Excluded}}},n.getExperimentMembership=function(e){if("off"===c.b.get("chat_filter_enabled","off"))return i.Excluded;if(!e.isLoggedIn)return i.OptIn;if("en"!==e.languageCode)return i.Excluded;if(e.data&&e.data.currentUser&&e.data.currentUser.createdAt){var t=c.b.get("chat_filter_start","3000-01-01"),r=new Date(e.data.currentUser.createdAt)>=new Date(t)?n.assignmentForNewUsers:n.assignmentForOldUsers;switch(r){case i.Excluded:case i.OptIn:case i.OptOut:return r;default:return i.Excluded}}return i.Excluded},n.prototype.componentDidMount=function(){this.triggerPropCallbacks()},n.prototype.componentDidUpdate=function(){this.triggerPropCallbacks()},n.prototype.render=function(){return o.createElement(v.Provider,{value:this.state},this.props.children)},n}(o.Component);var y=Object(d.d)(Object(s.b)((function(e){return{isLoggedIn:Object(m.f)(e),languageCode:Object(m.b)(e),viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled}}),(function(e){return Object(d.b)({disableViewerChatFilter:p.F,enableViewerChatFilter:p.K},e)})),Object(u.a)(h,{skip:function(e){return!e.isLoggedIn||"en"!==e.languageCode}}))(b);t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return r})),t.d(n,"d",(function(){return k})),t.d(n,"a",(function(){return y}))},U1yz:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("2Dht");function r(e,n,t){try{var r=e.readQuery({query:i,variables:{id:n}},t);return r?r.whisperThread:null}catch(e){return null}}},UUau:function(e,n,t){},VN3V:function(e,n,t){},Vtno:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return o}));var i,r=t("/7QA"),a=t("D7An");function o(e){return r.p.experiments.getAndTrackAssignment(a.c.ChatReplies,{channel:null!=e?e:void 0})}!function(e){e.Control="control",e.TreatmentA="treatment_a",e.TreatmentB="treatment_b",e.TreatmentC="treatment_c"}(i||(i={}))},W1jp:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return s})),t.d(n,"e",(function(){return d})),t.d(n,"a",(function(){return c})),t.d(n,"f",(function(){return u})),t.d(n,"g",(function(){return l})),t.d(n,"d",(function(){return m}));var i=t("/7QA"),r=t("DMoW"),a=t("XIEs");function o(e){return"CommunityPointsAutomaticReward"===e.__typename?e.backgroundColor||e.defaultBackgroundColor:e.backgroundColor}function s(e){switch(e.__typename){case"CommunityPointsAutomaticReward":return e.cost||e.defaultCost;case"CommunityPointsCommunityGoal":return e.smallContribution;case"CommunityPointsCustomReward":default:return e.cost}}function d(e){return e.image?{src:e.image.url,srcSet:Object(a.a)(e.image)}:{src:e.defaultImage.url,srcSet:Object(a.a)(e.defaultImage)}}function c(e){return e.image?{src:e.image.url2x,srcSet:{"1x":e.image.url2x,"2x":e.image.url4x}}:{src:e.defaultImage.url2x,srcSet:{"1x":e.defaultImage.url2x,"2x":e.defaultImage.url4x}}}function u(e){if("CommunityPointsCustomReward"===e.__typename||"CommunityPointsCommunityGoal"===e.__typename)return e.title;switch(e.type){case r.ab.SEND_HIGHLIGHTED_MESSAGE:return Object(i.d)("Highlight My Message","CommunityPointsRewards");case r.ab.SINGLE_MESSAGE_BYPASS_SUB_MODE:return Object(i.d)("Send a Message in Sub-Only Mode","CommunityPointsRewards");case r.ab.CHOSEN_SUB_EMOTE_UNLOCK:return Object(i.d)("Choose an Emote to Unlock","CommunityPointsRewards");case r.ab.RANDOM_SUB_EMOTE_UNLOCK:return Object(i.d)("Unlock a Random Sub Emote","CommunityPointsRewards");case r.ab.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return Object(i.d)("Modify a Single Emote","CommunityPointsRewards");default:return Object(i.d)("Reward","CommunityPointsRewards")}}function l(e){if("CommunityPointsCustomReward"===e.__typename)return!1;if("CommunityPointsCommunityGoal"===e.__typename)return!0;switch(e.type){case r.ab.RANDOM_SUB_EMOTE_UNLOCK:case r.ab.CHOSEN_SUB_EMOTE_UNLOCK:case r.ab.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return!0;default:return!1}}function m(e){if("CommunityPointsCustomReward"===e.__typename)return e.prompt;if("CommunityPointsCommunityGoal"===e.__typename)return e.description;switch(e.type){case r.ab.SEND_HIGHLIGHTED_MESSAGE:return Object(i.d)("Write something special below and give it some glitz in chat!","CommunityPointsRewards");case r.ab.SINGLE_MESSAGE_BYPASS_SUB_MODE:return Object(i.d)("Type your message below and sneakily bypass chat restrictions.","CommunityPointsRewards");case r.ab.CHOSEN_SUB_EMOTE_UNLOCK:return Object(i.d)("Select an emote to unlock for 24 hours:","CommunityPointsRewards");case r.ab.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return Object(i.d)("Select an emote to modify & unlock for 24 hours:","CommunityPointsRewards");case r.ab.RANDOM_SUB_EMOTE_UNLOCK:return Object(i.d)("Click below to unlock one random emote to chat with for 24 hours!","CommunityPointsRewards");default:return Object(i.d)("Unlock this reward.","CommunityPointsRewards")}}},WSPL:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r}));var i="whisperNotifications.WHISPER_THREAD_NOTIFIED";function r(e,n,t){return{type:i,threadID:e,afterMessageID:t,content:n}}},Wcon:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Whispers_MarkThreadMessageRead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateWhisperThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateWhisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:151}};t.loc.source={body:"mutation Whispers_MarkThreadMessageRead($input: UpdateWhisperThreadInput!) {\nupdateWhisperThread(input: $input) {\nthread {\nid\nunreadMessagesCount\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Whispers_MarkThreadMessageRead=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Whispers_MarkThreadMessageRead")},"Wd+u":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProductOfferFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Offer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"priority"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:348}};t.loc.source={body:"fragment subProductOfferFragment on Offer {\nid\ntplr\nplatform\neligibility {\nisEligible\n}\ngiftType\nlisting {\nchargeModel {\ninternal {\npreviewPrice {\nid\ncurrency\nexponent\nprice\ntotal\ndiscount {\nprice\ntotal\n}\n}\nplan {\ninterval {\nduration\nunit\n}\n}\n}\n}\n}\npromotion {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\npriority\n}\nquantity {\nmin\nmax\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},XBQy:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointCustomizationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:206}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment pointCustomizationFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nname\nimage {\n...pointsImageFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)}))),e.exports=i},XIEs:function(e,n,t){"use strict";function i(e){return{"1x":e.url,"2x":e.url2x,"4x":e.url4x}}t.d(n,"a",(function(){return i}))},XRPh:function(e,n,t){"use strict";var i=t("/MKj"),r=t("ANjH"),a=t("kRBY"),o=t("fezU"),s=t("mrSG"),d=t("q1tI"),c=t("j0ar"),u=t("oK83"),l=(t("SVRf"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.emoteClickHandler=function(e){n.props.emote.emoteID&&n.props.onEmoteClick({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin||"",emoteID:n.props.emote.emoteID,emoteCode:n.props.emote.alt||"",sourceID:n.props.sourceID||"",emoteSourceType:n.props.sourceType?n.props.sourceType:u.a.unknown,referrerID:n.props.referrerID||"",initialTopOffset:e.currentTarget.getBoundingClientRect().bottom})},n}return Object(s.__extends)(n,e),n.prototype.render=function(){var e,n,t=this.props.emote.alt||"";return this.props.emote.cheerAmount&&(t+=" "+this.props.emote.cheerAmount.toString(),e=d.createElement("strong",{className:"chat-line__message--cheer-amount",style:{color:this.props.emote.cheerColor}},this.props.emote.cheerAmount)),n=d.createElement(c.a,{alt:t,cheerText:e,className:"chat-line__message--emote",srcKey:"1x",srcSet:this.props.emote.images}),this.props.emote.cheerAmount||this.props.disableCard?n:d.createElement("div",{onClick:this.emoteClickHandler,className:"chat-line__message--emote-button","data-test-selector":"emote-button"},n)},n}(d.Component));var m=Object(r.d)(Object(i.b)((function(e){return{user:Object(a.e)(e)}})),Object(o.c)((function(e){return{onEmoteClick:e.onShowEmoteCard}})))(l);m.displayName="Emote",t.d(n,"a",(function(){return m}))},XmgI:function(e,n,t){"use strict";t.d(n,"g",(function(){return c})),t.d(n,"f",(function(){return u})),t.d(n,"b",(function(){return l})),t.d(n,"c",(function(){return m})),t.d(n,"d",(function(){return f})),t.d(n,"e",(function(){return p}));var i=t("wUQP"),r=t("DMoW"),a=t("5zXJ"),o=t("RcPG"),s=t("4h+t");t.d(n,"a",(function(){return s.a}));var d=/^((?:[A-Za-z0-9]+)(?:[A-Za-z]))([\d]+)$/;function c(e,n,t){void 0===t&&(t=!0);var i=[],r=e.split(/\s+/);return r.forEach((function(e,a){var s=u(e,n,t);if(s)i.push(s);else{var d=i.length&&i[i.length-1],c="";if(a<r.length-1&&(c=" "),d&&d.type===o.a.Text)d.content+=e+c;else{var l="";a&&(l=" "),i.push({type:o.a.Text,content:l+e+c})}}})),i}function u(e,n,t){void 0===t&&(t=!0);var i=e.match(d);if(!i)return null;var a=i[1].toLowerCase(),s=Number(i[2]),c=n.indexedActions[a];if(c&&(c.type!==r.S.DISPLAY_ONLY||t)){var u=c.orderedTiers.find((function(e){return e.bits<=s}));!u&&s&&(u=c.orderedTiers[0]);var l=n.tiers.find((function(e){return e.bits===(null==u?void 0:u.bits)}));if(u)return{type:o.a.Emote,content:{images:f(c,u.bits),alt:c.prefix,cheerAmount:s,cheerColor:null==l?void 0:l.color}}}return null}function l(e,n){var t,i,r=(t=n,i=new Map,t.orderedActions.forEach((function(e){e.campaign&&i.set(e.prefix,e.campaign)})),i),o=new Map;e.forEach((function(e,n){if(e.alt&&r.has(e.alt))if(o.has(e.alt)){(t=o.get(e.alt))&&(t.total+=e.cheerAmount||0,t.lastAppearance=n)}else{var t={total:e.cheerAmount||0,lastAppearance:n,campaign:r.get(e.alt)};o.set(e.alt,t)}}));var s=1;return o.forEach((function(t){var i=0;t.campaign.thresholds.forEach((function(e){t.total>=e.minimumBits&&(i=e.matchedPercent)}));var r=Math.trunc(t.total*i);if(r>0){var o=u(a.r+r,n,!0);o&&e.splice(t.lastAppearance+s++,0,o.content)}})),e}function m(e,n){return c(e,n,!0).reduce((function(e,n){return n.type===o.a.Emote&&e.push(n.content),e}),[]).some((function(e){var t=n.orderedActions.find((function(n){return!!e.alt&&e.alt===n.prefix}));return!!t&&t.type===r.S.DISPLAY_ONLY}))}function f(e,n,t,i){var r,a;void 0===i&&(i=!0);var o=i?"animated":"static";return t?{themed:!0,dark:(r={},r[t+"x"]=e.getImage("dark",o,n,t),r),light:(a={},a[t+"x"]=e.getImage("light",o,n,t),a)}:{themed:!0,dark:{"1x":e.getImage("dark",o,n,1),"1.5x":e.getImage("dark",o,n,1.5),"2x":e.getImage("dark",o,n,2),"3x":e.getImage("dark",o,n,3),"4x":e.getImage("dark",o,n,4)},light:{"1x":e.getImage("light",o,n,1),"1.5x":e.getImage("light",o,n,1.5),"2x":e.getImage("light",o,n,2),"3x":e.getImage("light",o,n,3),"4x":e.getImage("light",o,n,4)}}}function p(e){return!!Object(i.c)(a.a)&&e.toLowerCase()===a.b.toLowerCase()}},YV90:function(e,n,t){"use strict";var i=t("ZaoE");t.d(n,"a",(function(){return i.a})),t.d(n,"b",(function(){return i.b}))},Ya72:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Thread_ArchiveThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateWhisperThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateWhisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isArchived"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:132}};t.loc.source={body:"mutation Thread_ArchiveThread($input: UpdateWhisperThreadInput!) {\nupdateWhisperThread(input: $input) {\nthread {\nid\nisArchived\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Thread_ArchiveThread=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Thread_ArchiveThread")},ZGDZ:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.SMALL=28]="SMALL",e[e.MEDIUM=56]="MEDIUM",e[e.LARGE=112]="LARGE"}(i||(i={}))},ZaoE:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o}));var i=t("1rIY"),r=Object(i.a)("ChannelPointsContext",{activeMultipliers:[],automaticRewards:[],balance:0,channelID:null,channelLogin:null,communityGoals:[],customRewards:[],displayName:null,emoteVariants:[],isChannelPointsEnabled:!1,isChannelPointsFeatureFlagOn:!1,isCurrentUserModerator:!1,isLoaded:!1,pointIcon:null,pointName:null,raidPointAmount:0,rewardMap:{},earning:null,userRedemptions:[],changedModificationIDs:new Set,changedRewardIDs:new Set}),a=r.context,o=r.withContext},ZtEv:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return r})),t.d(n,"e",(function(){return a})),t.d(n,"a",(function(){return o})),t.d(n,"f",(function(){return d}));var i,r,a,o,s=t("0Log");t.d(n,"d",(function(){return s.ModerationActions})),function(e){e[e.Message=0]="Message",e[e.ExtensionMessage=1]="ExtensionMessage",e[e.Moderation=2]="Moderation",e[e.ModerationAction=3]="ModerationAction",e[e.TargetedModerationAction=4]="TargetedModerationAction",e[e.AutoMod=5]="AutoMod",e[e.SubscriberOnlyMode=6]="SubscriberOnlyMode",e[e.FollowerOnlyMode=7]="FollowerOnlyMode",e[e.SlowMode=8]="SlowMode",e[e.EmoteOnlyMode=9]="EmoteOnlyMode",e[e.R9KMode=10]="R9KMode",e[e.Connected=11]="Connected",e[e.Disconnected=12]="Disconnected",e[e.Reconnect=13]="Reconnect",e[e.Hosting=14]="Hosting",e[e.Unhost=15]="Unhost",e[e.Hosted=16]="Hosted",e[e.Subscription=17]="Subscription",e[e.Resubscription=18]="Resubscription",e[e.GiftPaidUpgrade=19]="GiftPaidUpgrade",e[e.AnonGiftPaidUpgrade=20]="AnonGiftPaidUpgrade",e[e.PrimePaidUpgrade=21]="PrimePaidUpgrade",e[e.PrimeCommunityGiftReceivedEvent=22]="PrimeCommunityGiftReceivedEvent",e[e.ExtendSubscription=23]="ExtendSubscription",e[e.SubGift=24]="SubGift",e[e.AnonSubGift=25]="AnonSubGift",e[e.Clear=26]="Clear",e[e.RoomMods=27]="RoomMods",e[e.RoomState=28]="RoomState",e[e.Raid=29]="Raid",e[e.Unraid=30]="Unraid",e[e.Ritual=31]="Ritual",e[e.Notice=32]="Notice",e[e.Info=33]="Info",e[e.BadgesUpdated=34]="BadgesUpdated",e[e.Purchase=35]="Purchase",e[e.BitsCharity=36]="BitsCharity",e[e.CrateGift=37]="CrateGift",e[e.RewardGift=38]="RewardGift",e[e.SubMysteryGift=39]="SubMysteryGift",e[e.AnonSubMysteryGift=40]="AnonSubMysteryGift",e[e.StandardPayForward=41]="StandardPayForward",e[e.CommunityPayForward=42]="CommunityPayForward",e[e.FirstCheerMessage=43]="FirstCheerMessage",e[e.BitsBadgeTierMessage=44]="BitsBadgeTierMessage",e[e.InlinePrivateCallout=45]="InlinePrivateCallout",e[e.ChannelPointsReward=46]="ChannelPointsReward",e[e.CommunityChallengeContribution=47]="CommunityChallengeContribution"}(i||(i={})),function(e){e[e.Post=0]="Post",e[e.Action=1]="Action",e[e.PostWithMention=2]="PostWithMention"}(r||(r={})),function(e){e[e.Ban=0]="Ban",e[e.Timeout=1]="Timeout",e[e.Delete=2]="Delete"}(a||(a={})),function(e){e[e.MessageRejectedPrompt=0]="MessageRejectedPrompt",e[e.CheerMessageRejectedPrompt=1]="CheerMessageRejectedPrompt",e[e.MessageRejected=2]="MessageRejected",e[e.MessageAllowed=3]="MessageAllowed",e[e.MessageDenied=4]="MessageDenied",e[e.CheerMessageDenied=5]="CheerMessageDenied",e[e.CheerMessageTimeout=6]="CheerMessageTimeout",e[e.MessageModApproved=7]="MessageModApproved",e[e.MessageModDenied=8]="MessageModDenied"}(o||(o={}));var d=new Set(["usage_clear","usage_commercial","usage_host","usage_unhost","usage_raid","usage_unraid","usage_slow_on","usage_slow_off","usage_followers_on","usage_followers_off","usage_emote_only_on","usage_emote_only_off","usage_subs_on","usage_subs_off","usage_r9k_on","usage_r9k_off","unrecognized_cmd"])},a1OF:function(e,n,t){"use strict";var i=t("mrSG"),r=t("/7QA"),a=t("oe5X"),o=t("0FG4"),s=t("kRBY"),d=t("Vtno");t.d(n,"a",(function(){return l})),t.d(n,"f",(function(){return f})),t.d(n,"b",(function(){return p})),t.d(n,"e",(function(){return h})),t.d(n,"c",(function(){return g})),t.d(n,"d",(function(){return v}));var c=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"],u={};function l(e,n,t,r,a,o,s,c,u){var l;void 0===r&&(r=null),void 0===a&&(a=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===c&&(c=Date.now()),void 0===u&&(u={});var m,g,v,k,b=(m=n.displayName,g=n.username,k=!1,(v=m)?v.split("").map((function(e){return e.charCodeAt(0)>127})).reduce((function(e,n){return e||n}))&&(k=!0):v=g,{userDisplayName:v,isIntl:k});if((null===(l=u.reply)||void 0===l?void 0:l.parentDisplayName)&&Object(d.b)(u.channelID)!==d.a.Control){var y=f(e,u.reply.parentDisplayName,n.emotes);e=y.message,n.emotes=y.emotes}return{badges:n.badges||{},badgeDynamicData:n.badgeDynamicData||{},bits:n.bits,user:Object(i.__assign)(Object(i.__assign)({},b),{userLogin:n.username,userID:n.userID,userType:n.userType,color:n.color||p(n.userID)}),messageParts:h(e,n.emotes||{},n.bits,t,n.username,r||void 0),messageBody:e,deleted:a,banned:s,hidden:o,timestamp:c,reply:u.reply}}function m(e,n){var t=e.length+2,i={};return Object.keys(n).forEach((function(e){i[parseInt(e,10)-t]={startIndex:n[e].startIndex-t,id:n[e].id}})),i}function f(e,n,t){return void 0===t&&(t={}),0===e.indexOf("@"+n+" ")?{message:e.replace("@"+n+" ",""),emotes:m(n,t)}:{message:e,emotes:t}}function p(e,n){return void 0===n&&(n=15),"number"!=typeof u[e]&&(u[e]=Math.floor(Math.random()*n)),c[u[e]]}function h(e,n,t,i,d,c){var u=Object(s.e)(r.p.store.getState()),l={cheers:t?i:void 0,emotes:{type:o.a.Position,map:n},links:{parseClips:!0,parseVods:!0},mentions:{senderLogin:d,sessionUser:u},flags:c};return Object(a.a)(e,l)}function g(e){return e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)}function v(e,n){return"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/"+Math.min(Math.ceil(n),3)+".0"}},aSQN:function(e,n,t){},"bAm+":function(e,n,t){"use strict";var i,r=t("mrSG"),a=t("/7QA"),o=t("geRD"),s=t("Wcon"),d=t("DMoW"),c=t("L9xt"),u=t("CMUD");function l(e){var n=function(e){try{return a.p.apollo.client.readQuery({query:u,variables:{threadID:e}})}catch(e){return a.k.warn("Could not find cached whisper thread data:",e),null}}(e.threadID);if(n){var t=n.currentUser,r=n.whisperThread;if(t&&t.id&&t.login&&r){var o=r.participants.find((function(e){return!!e&&e.id!==t.id}));if(o&&o.self&&o.self.whisperPermissions){var s={conversation_id:e.threadID,message_id:null,message_uuid:e.messageID,read_mode:e.automatic?i.Focus:i.Manual,recipient_id:t.id,recipient_login:t.login,sender_id:o.id,sender_login:o.login,sender_temp_permitted:o.self.whisperPermissions.receive===d.Ze.TEMPORARY};a.o.track(c.SpadeEventType.WhisperRead,s)}else a.k.warn("Failed to find whisper sender in cache.")}else a.k.warn("Failed to find required data in cache.")}}!function(e){e.Focus="focus read",e.Manual="manual read"}(i||(i={})),t.d(n,"a",(function(){return f}));var m={};function f(e,n,t){var i=m[e.threadID];if(i){if(i.lastReadCursorID>=n)return;clearTimeout(i.timeoutHandle)}var d=setTimeout((function(){var n=Object(r.__assign)({mutation:s},Object(o.b)({threadID:e.threadID,lastReadMessageID:e.lastReadMessageID},{updateWhisperThread:{thread:{__typename:"WhisperThread",id:e.threadID,unreadMessagesCount:0},__typename:"UpdateWhisperThreadPayload"}}));a.p.apollo.client.mutate(n),delete m[e.threadID],l({automatic:t,messageID:e.lastReadMessageID,threadID:e.threadID})}),250);m[e.threadID]={timeoutHandle:d,lastReadCursorID:n}}},bq0i:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var i,r=t("mrSG"),a=t("w09P"),o=t("q1tI"),s=t("f00E"),d=t("rbP/"),c=t("b7S+"),u=t("sUnt"),l=t("yymn");!function(e){e.BalloonInsideClickDetector="balloon-inside-click-detector",e.MouseEnterDetector="toggle-balloon-wrapper__mouse-enter-detector"}(i||(i={}));var m=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={showBalloon:!!n.props.openByDefault,hasInteracted:!!n.props.openByDefault},n.toggleBalloonId=Object(s.b)(),n.handleButtonClick=function(e){n.props.preventDefault&&e.preventDefault(),n.props.stopPropagation&&e.stopPropagation(),n.setState((function(e){return{showBalloon:!e.showBalloon,hasInteracted:!0}}),(function(){n.props.onToggle&&n.props.onToggle(!n.state.showBalloon)}))},n.handleGlobalClick=function(e){e.target.matches('[data-toggle-balloon-id="'+n.toggleBalloonId+'"] *')||n.hideBalloon()},n.handleInsideBalloonClick=function(){n.hideBalloon()},n.handleMouseEnter=function(){n.state.hasInteracted||n.setState({hasInteracted:!0})},n}return Object(r.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.openByDefault&&document.addEventListener("click",this.handleGlobalClick,!0)},n.prototype.componentDidUpdate=function(e,n){n.showBalloon!==this.state.showBalloon&&(this.state.showBalloon?document.addEventListener("click",this.handleGlobalClick,!0):document.removeEventListener("click",this.handleGlobalClick,!0))},n.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleGlobalClick,!0)},n.prototype.render=function(){var e=this,n=o.Children.toArray(this.props.children);if(2!==n.length)throw new Error("ToggleBalloonWrapper should only be given two children: a clickable and a Balloon");var t,s=n[0],m=n[1];if(s.type===d.a){var f=s,p=a(f.props.dropdown,(function(n){return n.onClick=e.handleButtonClick,n}));t=o.cloneElement(f,{dropdown:p})}else t=o.cloneElement(s,{onClick:this.handleButtonClick});var h=null;(this.state.hasInteracted||this.props.alwaysMountBalloonContent)&&(h=o.cloneElement(m,{show:this.state.showBalloon}),this.props.hideBalloonOnInsideClick&&(h=o.createElement("div",{"data-test-selector":i.BalloonInsideClickDetector,onClick:this.handleInsideBalloonClick},h)));var g=t;return this.props.tooltipProps&&(g=o.createElement(c.a,Object(r.__assign)({},this.props.tooltipProps),t)),o.createElement(u.a,{"data-toggle-balloon-id":this.toggleBalloonId,display:this.props.display,position:l.n.Relative},o.createElement("div",{style:{display:"inherit"},onMouseEnter:this.handleMouseEnter,"data-test-selector":i.MouseEnterDetector},g),h)},n.prototype.toggleBalloon=function(e){void 0===e&&(e=!this.state.showBalloon),this.setState({showBalloon:e,hasInteracted:!0})},n.prototype.hideBalloon=function(){var e=this;this.setState({showBalloon:!1},(function(){e.props.onToggle&&e.props.onToggle(!0)}))},n}(o.Component)},cys1:function(e,n,t){"use strict";var i,r=t("q1tI"),a=t("/7QA"),o=t("gvGA"),s=t("5zf8"),d=t("4rCz"),c=t("mrSG"),u=t("yR8l"),l=t("+GjP"),m=t("2xye"),f=t("PL8s"),p=t("+80q"),h=t("yymn"),g=t("Ws8v"),v=t("sUnt"),k=t("i4Ys"),b=t("L/cU"),y=t("fPaz"),S=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={hasImageLoadingError:!1},n.handleImageError=function(){n.setState({hasImageLoadingError:!0})},n}return Object(c.__extends)(n,e),n.prototype.render=function(){var e=a.a.defaultStreamPreviewURL;return!this.state.hasImageLoadingError&&this.props.imageURL&&(e=this.props.imageURL),r.createElement(b.a,{aspect:y.c.Aspect16x9,alt:this.props.altText,src:e,onError:this.handleImageError})},n}(r.Component),_=(t("Epr8"),"https://static-cdn.jtvnw.net/emoticons/v1/58765/2.0"),C={ERROR:"chat-card-error",TITLE:"chat-card-title",DESCRIPTION:"chat-card-description"},w=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderErrorCard=function(){var e=r.createElement("img",{"data-test-selector":C.ERROR,src:_,className:"chat-card__error-img",alt:""});return n.renderCardContent(e,n.props.error)},n.renderCardContent=function(e,n){var t,i;return n?(t=r.createElement(p.a,{bold:!0,"data-test-selector":C.TITLE,title:n.title},n.title),i=r.createElement(p.a,{color:h.f.Alt2,"data-test-selector":C.DESCRIPTION},n.description)):(e=r.createElement(f.a,{overlay:!0}),t=r.createElement(f.a,{width:180}),i=r.createElement(f.a,{width:120})),r.createElement(g.a,{display:h.g.Flex,flexWrap:h.i.NoWrap,padding:.5,className:"chat-card"},r.createElement(g.a,{className:"chat-card__preview-img",background:h.d.Alt2,display:h.g.Flex,alignItems:h.b.Center,justifyContent:h.l.Center,flexShrink:0},e),r.createElement(v.a,{display:h.g.Flex,alignItems:h.b.Center,overflow:h.m.Hidden},r.createElement(v.a,{padding:{left:1},fullWidth:!0},r.createElement(v.a,{className:"chat-card__title",ellipsis:!0},t),r.createElement(v.a,{ellipsis:!0},i))))},n}return Object(c.__extends)(n,e),n.prototype.render=function(){var e;if(this.props.error)e=this.renderErrorCard();else if(this.props.data){var n=Object(l.g)(this.props.data.contentURL,{tt_medium:m.PageviewMedium.Chat,tt_content:m.PageviewContent.ChatCard}),t=r.createElement(S,{altText:this.props.data.title,key:this.props.data.previewImageURL,imageURL:this.props.data.previewImageURL});e=r.createElement(g.a,{background:h.d.Base,borderRadius:h.e.Medium,display:h.g.Flex,fullWidth:!0},r.createElement(k.a,{linkTo:n,targetBlank:!0,type:k.b.Alpha,borderRadius:h.e.Medium},this.renderCardContent(t,{title:this.props.data.title,description:this.props.data.description})))}else e=this.renderCardContent();return r.createElement(g.a,{borderRadius:h.e.Medium,elevation:1},e)},n}(r.Component),E=t("SceP"),N={isTimedOut:!1},D=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state=N,n.timeoutID=null,n}return Object(c.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){return e.data.clip&&n.isTimedOut?{isTimedOut:!1}:null},n.prototype.componentDidMount=function(){var e=this;this.props.data.clip||(this.timeoutID=setTimeout((function(){e.setState({isTimedOut:!0})}),5e3))},n.prototype.componentDidUpdate=function(e){!e.data.clip&&this.props.data.clip&&this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},n.prototype.render=function(){var e=this.props.data,n=e.clip,t=e.error,i=e.loading;return t||this.state.isTimedOut?r.createElement(w,{error:{title:Object(a.d)("Something went wrong","ClipsChatCard"),description:Object(a.d)("We couldn't find that Clip","ClipsChatCard")}}):i||!n?r.createElement(w,null):r.createElement(w,{data:{title:n.title||(n.broadcaster&&n.broadcaster.displayName?Object(a.d)("Clip of {broadcaster}",{broadcaster:n.broadcaster.displayName},"ClipsChatCard"):""),description:n.curator&&n.curator.displayName?Object(a.d)("Clipped by {curator}",{curator:n.curator.displayName},"ClipsChatCard"):"",previewImageURL:n.thumbnailURL,contentURL:n.url}})},n}(r.Component),O=Object(u.a)(E,{options:function(e){return{variables:{slug:e.slug},notifyOnNetworkStatusChange:!0,fetchPolicy:e.forceNetworkRequest?"cache-first":"cache-only"}}})(D),I=t("TSYQ"),T=t("gTu3"),F=(t("lpj/"),(i={})[T.a.Default]="",i[T.a.Recipient]="mention-fragment--recipient",i[T.a.Sender]="mention-fragment--sender",i),j=function(e){var n=e.isAtMention?"@":"",t=I("mention-fragment",F[e.currentUserMentionRelation]);return r.createElement("span",{className:t,"data-a-target":"chat-message-mention"},""+n+e.recipient)};j.displayName="MentionFragment";var M,x=t("QVaV"),A=t("sU0Q"),R=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(n,e),n.prototype.render=function(){var e=this.props.data,n=e.video,t=e.error;if(e.loading||!n)return r.createElement(w,null);if(t||!n.owner||!n.owner.login||!n.publishedAt||!n.title)return r.createElement(w,{error:{title:Object(a.d)("Something went wrong","VideoChatCard"),description:Object(a.d)("We couldn't find that video","VideoChatCard")}});var i=r.createElement(p.a,null,Object(a.c)(new Date(n.publishedAt),"medium"),r.createElement("span",null,"  "),Object(x.a)(n.owner.login,n.owner.displayName));return r.createElement(w,{data:{title:n.title,description:i,previewImageURL:n.previewThumbnailURL,contentURL:this.props.url}})},n}(r.Component),U=Object(u.a)(A,{options:function(e){return{variables:{videoID:e.id},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-first"}}})(R),P=t("ZtEv"),L=t("RcPG"),W=t("Jsra"),B=t("x0+1"),V=t("XRPh"),G=t("u5aL"),H=t("ANjH"),q=t("3sMn"),z=t("Tznh"),Q=t("VJH5"),K=t("dEDE"),Y=t("akKH"),X=t("y0tB");!function(e){e.CancelButton="flagged-fragment-cancel",e.ConfirmButton="flagged-fragment-confirm",e.FeedbackButton="flagged-fragment-feedback",e.FeedbackNo="flagged-fragment-no",e.FeedbackYes="flagged-fragment-yes",e.SettingsLink="flagged-fragment-settings",e.Title="flagged-fragment-title"}(M||(M={}));var $=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={feedbackSelection:null,textShown:!1},n.hasTrackedImpression=!1,n.showSettings=function(){n.props.showChatFilterSettings(z.c.FilteredMessage),n.props.updateChatConfigState({isSettingsOpen:!0}),n.props.onDismissBalloon()},n.showText=function(){n.props.onShowText(),n.setState({textShown:!0}),a.o.track(m.SpadeEventType.ChatFilterMessageInteraction,n.getCommonTrackingProps())},n.onAffirmativeFeedbackSelected=function(){n.setState({feedbackSelection:!0})},n.onNegativeFeedbackSelected=function(){n.setState({feedbackSelection:!1})},n.onSubmit=function(){n.props.onDismissBalloon(),a.o.track(m.SpadeEventType.ChatFilterFeedbackInteraction,Object(c.__assign)(Object(c.__assign)({},n.getCommonTrackingProps()),{value:n.state.feedbackSelection?n.getAffirmativeText():n.getNegativeText()}))},n}return Object(c.__extends)(n,e),n.prototype.render=function(){var e=this,n=Object(a.d)("Cancel","FlaggedFragmentBalloonContent");return this.state.textShown?r.createElement(v.a,{padding:1},r.createElement(Y.a,{label:Object(a.d)("Help improve our filters. Was this message correctly hidden?","FlaggedFragmentBalloonContent")},r.createElement(X.a,{label:this.getAffirmativeText(),name:"flagged-fragment-feedback",onChange:this.onAffirmativeFeedbackSelected,"data-test-selector":M.FeedbackYes}),r.createElement(X.a,{label:this.getNegativeText(),name:"flagged-fragment-feedback",onChange:this.onNegativeFeedbackSelected,"data-test-selector":M.FeedbackNo})),r.createElement(v.a,{display:h.g.Flex,justifyContent:h.l.End},r.createElement(v.a,{margin:{right:1}},r.createElement(K.a,{onClick:this.props.onDismissBalloon,type:K.d.Secondary,"data-test-selector":M.CancelButton},n)),r.createElement(K.a,{disabled:null===this.state.feedbackSelection,onClick:this.onSubmit,"data-test-selector":M.FeedbackButton},Object(a.d)("Submit","FlaggedFragmentBalloonContent")))):(this.hasTrackedImpression||(a.o.track(m.SpadeEventType.ChatFilterMessageImpression,this.getCommonTrackingProps()),this.hasTrackedImpression=!0),r.createElement(v.a,{padding:1},r.createElement(p.a,{bold:!0,type:p.e.H6,"data-test-selector":M.Title},this.getCategoryTitle()),Object(a.d)("Would you like to see this message? It has been hidden for you based on your <x:link>Chat Filter settings</x:link>.",{"x:link":function(n){return r.createElement(W.a,{onClick:e.showSettings,"data-test-selector":M.SettingsLink},n)}},"FlaggedFragmentBalloonContent"),r.createElement(v.a,{display:h.g.Flex,justifyContent:h.l.End},r.createElement(v.a,{margin:{right:1}},r.createElement(K.a,{onClick:this.props.onDismissBalloon,type:K.d.Secondary,"data-test-selector":M.CancelButton},n)),r.createElement(K.a,{onClick:this.showText,"data-test-selector":M.ConfirmButton},Object(a.d)("Show Message","FlaggedFragmentBalloonContent")))))},n.prototype.getCategoryTitle=function(){var e=this.props.messagePart.categories;return 1!==Object.values(e).filter((function(e){return!!e})).length?Object(a.d)("Message Blocked","FlaggedFragmentBalloonContent"):e[Q.TMIFlagCategory.Aggressive]?Object(a.d)("Hostile Message Blocked","FlaggedFragmentBalloonContent"):e[Q.TMIFlagCategory.Identity]?Object(a.d)("Discriminatory Message Blocked","FlaggedFragmentBalloonContent"):e[Q.TMIFlagCategory.Sexual]?Object(a.d)("Sexually Explicit Message Blocked","FlaggedFragmentBalloonContent"):Object(a.d)("Profanity Blocked","FlaggedFragmentBalloonContent")},n.prototype.getAffirmativeText=function(){return Object(a.d)("Yes","FlaggedFragmentBalloonContent")},n.prototype.getNegativeText=function(){return Object(a.d)("No","FlaggedFragmentBalloonContent")},n.prototype.getCommonTrackingProps=function(){var e=this.props.messagePart;return{channel_id:this.props.channelID||"",channel:this.props.channelLogin||"",msg_uuid:this.props.messageID||"",word:e.originalText,aggressive_language_detected:!!e.categories[Q.TMIFlagCategory.Aggressive],explicit_language_detected:!!e.categories[Q.TMIFlagCategory.Sexual],identity_language_detected:!!e.categories[Q.TMIFlagCategory.Identity],profane_language_detected:!!e.categories[Q.TMIFlagCategory.Profanity]}},n}(r.Component);var Z,J=Object(H.d)(Object(z.d)((function(e){return e})),Object(q.b)((function(e){return{updateChatConfigState:function(n){return e.updateChatConfigState(n)},isSettingsOpen:e.isSettingsOpen}})))($),ee=(t("VN3V"),function(e){var n,t=e.content,i=e.highlightType,a=e.disableTextSelection,o=I("text-fragment",((n={})["text-fragment--moderated-highlight"]=i===L.a.ModeratedText,n["text-fragment--selection-disabled"]=a,n));return r.createElement("span",{className:o,"data-a-target":"chat-message-text"},t)}),ne=t("ygYM"),te=t("hnjF");t("UUau");!function(e){e.Balloon="flagged-fragment-balloon",e.Container="flagged-fragment-container",e.Target="flagged-fragment-span"}(Z||(Z={}));var ie=function(e){function n(n){var t=e.call(this,n)||this;return t.state={active:!1,balloonDirection:ne.b.TopCenter,balloonXOffset:0,displayed:!1},t.setTopRef=function(e){t.topRef=e},t.setBalloonContentRef=function(e){t.balloonContentRef=e,t.state.active&&t.setState(Object(c.__assign)({},t.getBalloonState()))},t.onClickOut=function(){t.setState({active:!1})},t.onClick=function(){t.setState({active:!0})},t.onShowText=function(){t.setState({displayed:!0},(function(){t.setState(Object(c.__assign)({},t.getBalloonState()))}))},t.onDismissBalloon=function(){t.setState({active:!1})},t.placeholder=new Array(n.messagePart.length+1).join("*"),t}return Object(c.__extends)(n,e),n.prototype.render=function(){return this.state.active?r.createElement("span",{ref:this.setTopRef,"data-test-selector":Z.Container},r.createElement(te.a,{display:h.g.Inline,position:h.n.Relative},r.createElement(G.a,{onClickOut:this.onClickOut},this.renderContent(),r.createElement(ne.a,{direction:this.state.balloonDirection,offsetX:this.state.balloonXOffset+"px",show:!0,size:ne.c.Medium},r.createElement("span",{ref:this.setBalloonContentRef,"data-test-selector":Z.Balloon}),r.createElement(J,Object(c.__assign)({},this.props,{onDismissBalloon:this.onDismissBalloon,onShowText:this.onShowText})))))):r.createElement("span",{ref:this.setTopRef,"data-test-selector":Z.Container},this.renderContent())},n.prototype.renderContent=function(){var e={"flagged-fragment":!(this.state.displayed&&!this.state.active),"flagged-fragment--active":this.state.active};return this.state.displayed?r.createElement("span",{className:I(e),"data-test-selector":Z.Target},oe(this.props.messagePart.content)):r.createElement("span",{className:I(e),onClick:this.onClick,"data-test-selector":Z.Target},r.createElement(ee,{content:this.placeholder}))},n.prototype.getBalloonState=function(){if(this.balloonContentRef&&this.topRef&&this.topRef.offsetParent){var e=this.topRef.offsetParent.getBoundingClientRect(),n=this.balloonContentRef.getBoundingClientRect(),t=this.state.balloonDirection;n.top<e.top&&(t=ne.b.BottomCenter);var i=e.left+20,r=n.left;return{balloonDirection:t,balloonXOffset:this.state.balloonXOffset-(r-i)}}return{balloonDirection:ne.b.TopCenter,balloonXOffset:0}},n}(r.Component),re=(t("Ro6I"),function(e){var n=e.displayText,t=e.url,i=e.highlighted;return r.createElement(W.a,{className:I("link-fragment",{"link-fragment--highlighted":i}),linkTo:t,targetBlank:!0,rel:"noreferrer noopener"},n)});function ae(e,n,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var a=n.content,o=a.displayText,s=a.url;return i?r.createElement(ee,{key:"message-span-"+e,content:o}):r.createElement(re,{key:e+"-link",highlighted:t,displayText:o,url:s})}function oe(e,n,t){void 0===n&&(n={}),void 0===t&&(t=!1);var i=null,a=e.reduce((function(a,s,d){var c=[];switch(d>0&&e[d-1].type!==L.a.Text&&s.type!==L.a.Text&&c.push(" "),s.type){case L.a.Text:case L.a.ModeratedText:var u=s.content,l=s.type;c.push(r.createElement(ee,{key:d,content:u,highlightType:l,disableTextSelection:n.disableTextSelection}));break;case L.a.FlaggedSegment:c.push(r.createElement(ie,{key:d,channelID:n.chatChannelID,channelLogin:n.chatChannelLogin,messageID:n.messageSourceID,messagePart:s}));break;case L.a.CurrentUserHighlight:c.push(r.createElement(j,{isAtMention:!1,currentUserMentionRelation:T.a.Recipient,recipient:s.content,key:d}));break;case L.a.Mention:c.push(r.createElement(j,{isAtMention:!0,currentUserMentionRelation:s.content.currentUserMentionRelation,recipient:s.content.recipient,key:d}));break;case L.a.Emote:c.push(r.createElement(V.a,{key:d,emote:s.content,channelID:n.chatChannelID,channelLogin:n.chatChannelLogin,sourceID:n.messageSourceID,sourceType:n.emoteSourceType,referrerID:n.messageAuthorID,disableCard:t}));break;case L.a.Link:c.push(ae(d,s,n.isHighlighted,n.disableLinks));break;case L.a.ClipLink:i||n.disableChatCard||(i=r.createElement(o.a,{key:d+"-ErrorBoundary"},r.createElement(O,{slug:s.content.slug,forceNetworkRequest:n.forceClipsNetworkRequest}))),c.push(ae(d,s,n.isHighlighted,n.disableLinks));break;case L.a.VideoLink:i||n.disableChatCard||(i=r.createElement(U,{key:d,id:s.content.id,url:s.content.url})),c.push(ae(d,s,n.isHighlighted,n.disableLinks))}return a.concat(c)}),[]);return i&&(a=a.concat(i)),a}function se(e){if(e.moderationType===P.e.Delete){var n=e,t=n.userLogin,i=n.body;return r.createElement(B.a,{targetLogin:t,messageBody:i})}if((e=e).moderationType===P.e.Ban)return e.reason?r.createElement("span",{className:"chat-line__moderation--ban-with-reason"},Object(a.d)("{userLogin} has been banned. Reason: {reason}",{userLogin:e.userLogin,reason:e.reason},"ChatLine")):r.createElement("span",{className:"chat-line__moderation--ban"},Object(a.d)("{userLogin} is now banned from this channel.",{userLogin:e.userLogin},"ChatLine"));if(e.reason&&e.duration){var o=Object(a.d)("{userLogin} has been timed out for {duration} seconds. Reason: {reason}",{duration:e.duration,reason:e.reason,userLogin:e.userLogin},"ChatLine");return r.createElement("span",{className:"chat-line__moderation--timeout-with-reason"},o)}return e.duration?r.createElement("span",{className:"chat-line__moderation--timeout"},Object(a.d)("{userLogin} has been timed out for {duration} seconds.",{userLogin:e.userLogin,duration:e.duration},"ChatLine")):void 0}function de(e){var n=e.daysLeft;0===n&&(n=e.hoursLeft);var t,i={bitsTotal:r.createElement("strong",null,Object(d.f)(e.total,{style:"currency",currency:"USD"})),charityName:r.createElement("strong",null,e.charityName),learnMoreURL:r.createElement(W.a,{linkTo:e.learnMore,targetBlank:!0},e.learnMore),hashtag:r.createElement("strong",null,e.hashtag),timeRemaining:Object(d.f)(n)};return r.createElement("span",null,0===e.daysLeft?(t=i,Object(a.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more hours to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:t.bitsTotal,charityName:t.charityName,timeRemaining:t.timeRemaining,hashtag:t.hashtag,learnMoreURL:t.learnMoreURL},"ChatLine")):function(e){return Object(a.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more days to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:e.bitsTotal,charityName:e.charityName,timeRemaining:e.timeRemaining,hashtag:e.hashtag,learnMoreURL:e.learnMoreURL},"ChatLine")}(i))}function ce(e){var n=e.enabled?Object(a.d)("This room is now in slow mode. You may send messages every {length} seconds.",{length:e.length},"ChatLine"):Object(a.d)("This room is no longer in slow mode.","ChatLine");return r.createElement("span",null,n)}function ue(e){var n;if(e.length>0){var t=e.join(", ");n=Object(a.d)("The moderators of this channel are: {moderatorList}",{moderatorList:t},"ChatLine")}else n=Object(a.d)("There are no moderators of this channel.","ChatLine");return r.createElement("span",null,n)}function le(e){if(e.enabled){var n=0===e.length?Object(a.d)("This room is in followers-only mode.","ChatLine"):Object(a.d)("This room is now in {length} followers-only mode.",{length:Object(s.b)(60*e.length)},"ChatLine");return r.createElement("span",null,n)}return r.createElement("span",null,Object(a.d)("This room is no longer in followers-only mode.","ChatLine"))}function me(e){return e.enabled?r.createElement("span",null,Object(a.d)("This room is now in emote-only mode.","ChatLine")):r.createElement("span",null,Object(a.d)("This room is no longer in emote-only mode.","ChatLine"))}function fe(e){var n=e.enabled?Object(a.d)("This room is now in subscriber-only mode.","ChatLine"):Object(a.d)("This room is no longer in subscriber-only mode.","ChatLine");return r.createElement("span",null,n)}function pe(e){return e.enabled?r.createElement("span",null,Object(a.d)("This room is now in unique-chat mode.","ChatLine")):r.createElement("span",null,Object(a.d)("This room is no longer in unique-chat mode.","ChatLine"))}function he(e,n){void 0===n&&(n=!1);var t=n?e.getHours():e.getHours()%12;n||0!==t||(t=12);var i=t.toString(),r=e.getMinutes(),a=r.toString();return r<10&&(a="0"+a),n&&t<10&&(i="0"+i),i+":"+a}function ge(e,n){return void 0===n&&(n=!1),r.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},he(new Date(e),n))}function ve(e){return r.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},function(e,n){void 0===n&&(n={});var t=a.p.intl.getLanguageCode()||"en";return Intl.DateTimeFormat(t,n).format(e)}(new Date(e),{hour:"numeric",minute:"numeric"}))}t.d(n,"e",(function(){return oe})),t.d(n,"f",(function(){return se})),t.d(n,"b",(function(){return de})),t.d(n,"i",(function(){return ce})),t.d(n,"h",(function(){return ue})),t.d(n,"d",(function(){return le})),t.d(n,"c",(function(){return me})),t.d(n,"j",(function(){return fe})),t.d(n,"g",(function(){return pe})),t.d(n,"a",(function(){return he})),t.d(n,"k",(function(){return ge})),t.d(n,"l",(function(){return ve}))},dGMd:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return v})),t.d(n,"e",(function(){return k})),t.d(n,"c",(function(){return b})),t.d(n,"d",(function(){return y})),t.d(n,"f",(function(){return S}));var i=t("mrSG"),r=t("w09P"),a=t("q1tI"),o=t("/7QA"),s=t("S4w9"),d=t("geRD"),c=t("g+79"),u=t("W1jp"),l=t("zdrs"),m=t("2zj6"),f=t("8XBm"),p="300238151",h="436872863",g="channel_points";function v(e){return{icon:a.createElement(c.a,{data:e.reward,size:c.b.ExtraSmall}),title:Object(o.d)("Share Your New Emote","EmoteReward"),body:Object(o.d)("That's a fancy emote you've got there. Share it! You can also get some more.","EmoteReward"),inputValue:e.inputValue,disableCommands:!0}}function k(e,n,t){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:f},Object(d.a)({channelID:e,cost:Object(u.c)(n),transactionID:t})))}function b(e,n,t,r){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:l},Object(d.a)({channelID:e,emoteID:t,cost:Object(u.c)(n),transactionID:r})))}function y(e,n,t,r){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:m},Object(d.a)({channelID:e,emoteID:t,cost:Object(u.c)(n),transactionID:r})))}function S(e){Object(d.j)(s,{withOwner:!0},(function(n){return r(n,(function(e){return e.currentUser.emoteSets}),(function(n){var t=n.filter((function(e){return e.id===p})).length>0;return n=t?n.map((function(n){if(n.id===p){var t=Object(i.__assign)(Object(i.__assign)({},e),{modifiers:null,setID:p,__typename:"Emote"});return r(n,(function(e){return e.emotes}),(function(n){return n?-1!==n.findIndex((function(n){return n&&n.id===e.id}))?n:Object(i.__spreadArrays)(n,[t]):[t]}))}return n})):Object(i.__spreadArrays)(n,[{id:p,emotes:[Object(i.__assign)(Object(i.__assign)({},e),{modifiers:null,setID:p,__typename:"Emote"})],__typename:"EmoteSet",owner:{__typename:"User",id:h,login:g,displayName:null,profileImageURL:null}}])}))}))}},"dNN/":function(e,n,t){},e9QR:function(e,n,t){},eFVV:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"threadListItemSpamInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WhisperSpamInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastMarkedNotSpamAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likelihood"},arguments:[],directives:[]}]}}],loc:{start:0,end:85}};t.loc.source={body:"fragment threadListItemSpamInfo on WhisperSpamInfo {\nlastMarkedNotSpamAt\nlikelihood\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},eJ65:function(e,n,t){"use strict";var i=t("bq0i");t.d(n,"a",(function(){return i.a}))},eugE:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Timestamp=0]="Timestamp",e[e.Whisper=1]="Whisper",e[e.Warning=2]="Warning",e[e.InactiveUserNotice=3]="InactiveUserNotice",e[e.NewMessages=4]="NewMessages",e[e.Notification=5]="Notification"}(i||(i={}))},fezU:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("1rIY"),o=t("3sMn"),s=t("1MDS"),d=t("oK83"),c=Object(a.a)("ViewerCardContext",{viewerCardOptions:null,onShowViewerCard:function(){return null},onShowExtensionMessageCard:function(){return null},onShowEmoteCard:function(){return null},hideViewerCard:function(){return null}}),u=c.context,l=c.withContext,m=function(e){function n(n){var t=e.call(this,n)||this;return t.onShowViewerCard=function(e,n,i,r){t.setState((function(t){var a=t.viewerCardOptions;return a&&a.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:d.c.Viewer,initialTopOffset:r,sourceID:i,sourceType:n,targetID:e}}}))},t.onShowExtensionMessageCard=function(e,n,i,r){t.setState((function(t){var a=t.viewerCardOptions;return a&&a.viewerCardType===d.c.Extension&&a.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:d.c.Extension,initialTopOffset:r,sourceID:i,targetID:e,extensionVersion:n}}}))},t.onShowEmoteCard=function(e){t.setState((function(n){var t=n.viewerCardOptions;return t&&t.viewerCardType===d.c.Emote&&t.emoteID===e.emoteID?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:d.c.Emote,initialTopOffset:e.initialTopOffset||0,sourceID:e.sourceID,emoteSourceType:e.emoteSourceType,targetID:e.referrerID,emoteID:e.emoteID,emoteCode:e.emoteCode}}})),Object(s.c)({emoteLocation:Object(s.b)(e.emoteSourceType),emoticonID:e.emoteID,chatChannel:e.channelLogin,chatChannelID:e.channelID?e.channelID:"",referrerUserID:e.referrerID,action:s.a.Open,msgID:e.sourceID})},t.hideViewerCard=function(){t.setState({viewerCardOptions:null})},t.state={viewerCardOptions:null,onShowViewerCard:t.props.onUsernameClick||t.onShowViewerCard,onShowExtensionMessageCard:t.onShowExtensionMessageCard,onShowEmoteCard:t.onShowEmoteCard,hideViewerCard:t.hideViewerCard},t}return Object(i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){!e.onUsernameClick&&this.props.onUsernameClick&&this.setState({onShowViewerCard:this.props.onUsernameClick})},n.prototype.render=function(){return r.createElement(u.Provider,{value:this.state},this.props.children)},n}(r.Component);var f=Object(o.b)((function(e){return{onUsernameClick:e.onUsernameClick}}))(m);t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return l})),t.d(n,"a",(function(){return f}))},"g+79":function(e,n,t){"use strict";var i,r,a=t("mrSG"),o=t("TSYQ"),s=t("q1tI"),d=t("4rCz"),c=t("A4KW"),u=t("W1jp"),l=t("X2PJ"),m=t("yymn"),f=t("sUnt"),p=t("uG/k"),h=t("Ws8v"),g=t("+80q"),v=t("wp5a");t("rCSd");!function(e){e.Cost="cost"}(i||(i={})),function(e){e.ExtraSmall="reward-icon--extra-small",e.Small="reward-icon--small",e.Medium="reward-icon--medium",e.Large="reward-icon--large"}(r||(r={}));var k=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(n,e),n.prototype.render=function(){var e,n=o(((e={"reward-icon":!0})[this.props.size||r.Medium]=!0,e["reward-icon__animated"]=!!this.props.animateOnHover,e));return s.createElement(l.a,{alignItems:m.b.Center,className:n,borderRadius:this.props.rounded?m.e.Rounded:m.e.Medium,display:m.g.Flex,flexDirection:m.h.Column,justifyContent:m.l.Center,position:m.n.Relative},s.createElement("div",{style:this.customStyles},this.updateIndicatorPill,this.icon,this.cost))},Object.defineProperty(n.prototype,"customStyles",{get:function(){var e=Object(u.b)(this.props.data);return e?{backgroundColor:e}:{}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"icon",{get:function(){var e=this.props.animateOnHover?Object(u.a)(this.props.data):Object(u.e)(this.props.data),n=o({"reward-icon__image":!0,"reward-icon__image--raised":!!this.props.showCost&&this.props.size===r.Large,"reward-icon__image--extra-small":this.props.size===r.ExtraSmall});return s.createElement(f.a,{className:n,display:m.g.Flex,justifyContent:m.l.Center},s.createElement(f.a,{position:m.n.Relative},s.createElement(p.a,Object(a.__assign)({alt:Object(u.f)(this.props.data)},e))))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cost",{get:function(){return this.props.showCost&&this.props.size===r.Large?s.createElement(h.a,{attachBottom:!0,alignItems:m.b.Center,borderRadius:m.e.Small,className:"reward-icon__cost",margin:{y:1},padding:{x:.5},position:m.n.Absolute,"data-test-selector":i.Cost,justifyContent:m.l.Center,display:m.g.Flex,color:m.f.Overlay},s.createElement(f.a,{margin:{right:.5},display:m.g.Flex},s.createElement(c.b,{channelLogin:this.props.channelLogin,iconSize:c.a.Small})),s.createElement(g.a,{fontSize:m.j.Size7},Object(d.f)(Object(u.c)(this.props.data)))):null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"updateIndicatorPill",{get:function(){return this.props.showUpdatedContentIndicator&&this.props.size===r.Large?s.createElement(f.a,{attachTop:!0,margin:{top:.5},position:m.n.Absolute},s.createElement(v.a,{label:Object(d.d)("New!","RewardIcon"),type:v.b.Brand})):null},enumerable:!0,configurable:!0}),n}(s.Component);t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return k}))},gTu3:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Default=0]="Default",e[e.Recipient=1]="Recipient",e[e.Sender=2]="Sender"}(i||(i={}))},i6WW:function(e,n,t){"use strict";var i=t("RcPG"),r=new RegExp("(?:^|\\s)(?:https?://)?clips.twitch.tv/(\\w+)(?:/)?(\\w+)?(?:/edit)?(?:$|\\s)?"),a=new RegExp("(?:^|\\s)(?:https?:\\/\\/)?(?:www\\.)?twitch\\.tv\\/(\\w+)\\/clip\\/(\\w+)(?:$|\\s)?");var o=new RegExp("(?:^|\\s)(?:https?://)?(?:(?:www|go).)?twitch.tv/videos/(\\d+)(?:$|\\s)?");t.d(n,"a",(function(){return d}));var s=/(?:(https?:\/\/)?((?:[\w#%\-+=:~]+\.)+[a-z]{2,8}(?:\/[\w./#%&@()\-+=:?~]*)?))/;function d(e,n){void 0===n&&(n={});var t=[],d=e.match(s);if(!d)return null;var c=d[0],u=e.indexOf(c);if(u>0){if("@"===e[u-1])return null;t.push({type:i.a.Text,content:e.slice(0,u)})}var l=d[1],m=d[2];(function(e){var n,t=e[e.length-1];if(")"!==t)return!1;n="(";for(var i=0,r=0,a=e.length-1;r<a;r++){var o=e[r];o===n?i++:o===t&&(i=Math.max(i-1,0))}return 0===i})(c)&&(c=c.slice(0,-1),m=m.slice(0,-1));var f=""+(l||"https://")+m;if(n.parseClips&&function(e){void 0===e&&(e="");var n=r.test(e)&&!e.includes("clips.twitch.tv/2017/"),t=a.test(e);return n||t}(f)){var p=function(e){void 0===e&&(e="");var n=e.match(r);if(n&&n.length>0&&void 0!==n.index)return n[1];var t=e.match(a);return t&&t.length>0&&void 0!==t.index?t[2]:""}(f);if("create"!==p)return t.push({type:i.a.ClipLink,content:{slug:p,url:f,displayText:c}}),t}if(n.parseVods&&function(e){return void 0===e&&(e=""),o.test(e)}(f)){var h=function(e){void 0===e&&(e="");var n=e.match(o);return null===n?"":n&&n.length>0&&void 0!==n.index?n[1]:""}(f);return t.push({type:i.a.VideoLink,content:{id:h,url:f,displayText:c}}),t}return t.push({type:i.a.Link,content:{displayText:c,url:f}}),u+c.length<e.length&&t.push({type:i.a.Text,content:e.slice(u+c.length,e.length)}),t}},j0ar:function(e,n,t){"use strict";var i=t("mrSG"),r=t("TSYQ"),a=t("q1tI"),o=t("x1M1"),s=t("sUnt"),d=t("yymn"),c=t("b7S+"),u=t("+80q"),l=(t("9KaG"),function(e){function n(n){var t=e.call(this,n)||this;return t.onMouseOver=function(){t.setState({isHovering:!0})},t.onMouseOut=function(){t.setState({isHovering:!1})},t.renderImage=function(){var e=null,n=r("chat-image",{"chat-image__animated":!!t.props.cheerText},t.props.className);if(t.props.srcSet.themed)e=a.createElement(o.a,{alt:t.props.alt,className:n,defaultRes:t.props.srcKey,onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,sources:t.props.srcSet});else{for(var i=[],s=0,d=Object.keys(t.props.srcSet.sources);s<d.length;s++){var c=d[s];i.push(t.props.srcSet.sources[c]+" "+c)}e=a.createElement("img",{className:n,onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,src:t.props.srcSet.sources[t.props.srcKey],srcSet:i.join(","),alt:t.props.alt})}return e},t.state={isHovering:!1},t}return Object(i.__extends)(n,e),n.prototype.render=function(){var e,n=a.createElement(a.Fragment,null,a.createElement(s.a,{className:"chat-image__container",display:d.g.InlineBlock,textAlign:d.p.Center},this.renderImage()),this.props.cheerText);return e=this.state.isHovering?a.createElement(c.a,{direction:this.props.tooltipDirection||c.c.Top,label:this.props.alt,display:d.g.Inline,offsetY:"0.9rem","data-a-target":"emote-name"},n):a.createElement("span",{"data-a-target":"emote-name"},n),this.props.cheerText?a.createElement(u.a,{type:u.e.Span,whiteSpace:u.f.NoWrap},e):e},n}(a.Component));t.d(n,"a",(function(){return l}))},jPWu:function(e,n,t){},l1Uh:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return o}));var i=null,r=1e3;function a(e){i=e}function o(){return i?+window.getComputedStyle(i).getPropertyValue("width").replace("px",""):r}},"lpj/":function(e,n,t){},mBWp:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Whispers_Tracking_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:86}};t.loc.source={body:"query Whispers_Tracking_CurrentUser {\ncurrentUser {\nid\nhasTurbo\navailability\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Whispers_Tracking_CurrentUser=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"Whispers_Tracking_CurrentUser")},nAiT:function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"k",(function(){return d})),t.d(n,"e",(function(){return c})),t.d(n,"h",(function(){return u})),t.d(n,"g",(function(){return l})),t.d(n,"j",(function(){return m})),t.d(n,"i",(function(){return f})),t.d(n,"d",(function(){return p})),t.d(n,"a",(function(){return h})),t.d(n,"c",(function(){return g})),t.d(n,"f",(function(){return v}));var i=t("q1tI"),r=t("4rCz"),a=t("+80q"),o=t("Jsra");function s(){return Object(r.d)("Channel Points","ChannelPoints")}function d(e){return Object(r.d)("{count, plural, one {# of your Default Reward costs was recently updated.} other {# of your Default Reward costs were recently updated.}}",{count:e},"CommunityPointsRewards")}function c(){return Object(r.d)("This reward is temporarily out of stock.","ChannelPoints")}function u(e,n){return e?Object(r.d)("{streamerName} has changed the reward requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:link":function(e){return i.createElement(o.a,{onClick:n},e)}},"ChannelPoints"):Object(r.d)("The broadcaster has changed the reward requirements. <x:link>Please try again.</x:link>",{"x:link":function(e){return i.createElement(o.a,{onClick:n},e)}},"ChannelPoints")}function l(e,n){return e?Object(r.d)("<x:strong>Oops!</x:strong> {streamerName} has changed this reward's requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:strong":function(e){return i.createElement(a.a,{bold:!0,type:a.e.Span},e)},"x:link":function(e){return i.createElement(o.a,{onClick:n},e)}},"ChannelPoints"):Object(r.d)("<x:strong>Oops!</x:strong> The broadcaster has changed this reward's requirements. <x:link>Please try again.</x:link>",{"x:strong":function(e){return i.createElement(a.a,{bold:!0,type:a.e.Span},e)},"x:link":function(e){return i.createElement(o.a,{onClick:n},e)}},"ChannelPoints")}function m(){return Object(r.d)("Channel Points early access","ChannelPointsSignupPage")}function f(){return Object(r.d)("Review Requests Queue","CustomRewardsList")}function p(e){switch(e){case"Greyscale":return Object(r.d)("Greyscale","ModifyEmotePreviewTooltip");case"Horizontal Flip":return Object(r.d)("Horizontal Flip","ModifyEmotePreviewTooltip");case"Sunglasses":return Object(r.d)("Sunglasses","ModifyEmotePreviewTooltip");case"Squished":return Object(r.d)("Squished","ModifyEmotePreviewTooltip");case"Thinking":return Object(r.d)("Thinking","ModifyEmotePreviewTooltip");case"Lunar Rat":return Object(r.d)("Lunar Rat","ModifyEmotePreviewTooltip");case"Red Envelope":return Object(r.d)("Red Envelope","ModifyEmotePreviewTooltip");default:return e}}function h(){return Object(r.d)("Something went wrong. Please try again.","CommunityChallengeModal")}function g(){return Object(r.d)("Max","CommunityGoalContributionButtons")}function v(){return Object(r.d)("Redeem","CustomRewardCheckout")}},nR4f:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmoteCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emoteID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"emoteID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bitsBadgeTierSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUnlocked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numberOfBitsUntilUnlock"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:327}};i.loc.source={body:'#import "twilight/features/chat/components/emote-card/emote-subscription-product.gql"\nquery EmoteCard ($emoteID: ID!) {\nemote(id: $emoteID) {\nid\ntoken\nsetID\nowner {\nid\nlogin\ndisplayName\nstream {\nid\ntype\n}\n}\nsubscriptionProduct {\n...subProduct\n}\nbitsBadgeTierSummary {\nthreshold\nself {\nisUnlocked\nnumberOfBitsUntilUnlock\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("HfAM").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0,!0)})));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),a[e.name.value]=n}})),e.exports=i,e.exports.EmoteCard=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"EmoteCard")},oK83:function(e,n,t){"use strict";var i,r,a;t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),function(e){e[e.unknown=0]="unknown",e[e.chat=1]="chat",e[e.room=2]="room",e[e.whisper=3]="whisper",e[e.vod=4]="vod"}(i||(i={})),function(e){e[e.chat_message=0]="chat_message",e[e.extension_message=1]="extension_message",e[e.member_list=2]="member_list",e[e.recent_raids=3]="recent_raids",e[e.room_message=4]="room_message",e[e.test=5]="test",e[e.user_command=6]="user_command",e[e.viewer_list=7]="viewer_list",e[e.viewer_list_mod_section=8]="viewer_list_mod_section",e[e.mega_cheer_notification=9]="mega_cheer_notification",e[e.bits_leaderboard=10]="bits_leaderboard",e[e.popout_button=11]="popout_button",e[e.hype_train=12]="hype_train",e[e.mod_view=13]="mod_view"}(r||(r={})),function(e){e[e.Viewer=0]="Viewer",e[e.Extension=1]="Extension",e[e.Emote=2]="Emote"}(a||(a={}))},oe5X:function(e,n,t){"use strict";var i=t("2ycz");t.d(n,"a",(function(){return i.b}))},"r+cx":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointsImageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url2x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url4x"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};t.loc.source={body:"fragment pointsImageFragment on CommunityPointsImage {\nurl\nurl2x\nurl4x\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},rCSd:function(e,n,t){},sU0Q:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatCard_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"90"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"51"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:162}};t.loc.source={body:"query VideoChatCard_Video($videoID: ID!) {\nvideo(id: $videoID) {\nid\ntitle\npreviewThumbnailURL(width: 90 height: 51)\npublishedAt\nowner {\nid\nlogin\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.VideoChatCard_Video=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"VideoChatCard_Video")},soB4:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i=t("mrSG"),r=t("w09P"),a=t("/7QA"),o=t("geRD"),s=t("AELI"),d=t("Ya72");function c(e){var n=e.id,t=Object(o.b)({threadID:n,isArchived:!0},{updateWhisperThread:{thread:{__typename:"WhisperThread",id:n,isArchived:!0},__typename:"UpdateWhisperThreadPayload"}});e.lastMessage?a.p.apollo.client.mutate(Object(i.__assign)({mutation:d},t)):Object(o.j)(s,{},(function(e){var t,a;return(null===(a=null===(t=null==e?void 0:e.currentUser)||void 0===t?void 0:t.whisperThreads)||void 0===a?void 0:a.edges)?r(e,(function(e){return e.currentUser.whisperThreads.edges}),(function(e){var t=e.find((function(e){return e.node.id===n})),r=e.filter((function(e){return e.node.id!==n}));return t?Object(i.__spreadArrays)([{cursor:"0",node:Object(i.__assign)(Object(i.__assign)({},t.node),{isArchived:!0}),__typename:"WhisperThreadEdge"}],r):r})):e}))}},"szP+":function(e,n,t){"use strict";var i=t("ANjH"),r=t("/7QA"),a=t("mrSG"),o=t("w09P"),s=t("CzFK"),d=234,c=310;function u(e){if(0===e.openedIDs.length)return 0;for(var n=0,t=0,i=e.openedIDs;t<i.length;t++){var r=i[t],a=e.byID[r];a.hidden||(n+=a.collapsed?d:c)}return n}function l(e){var n=Object(a.__spreadArrays)(e.openedIDs),t=n.pop();return t&&e.focusedID===t&&n.length>0&&(n.pop(),n.push(t)),o(e,(function(e){return e.openedIDs}),(function(){return n}))}function m(e,n){var t=e.orderedIDs.filter((function(n){return!e.openedIDs.includes(n)}));return t.length>0?f(e,t[0],n):e}function f(e,n,t){var i=t-u(e),r=Object(a.__assign)({},e);return r.openedIDs.includes(n)||(i<c&&(r=l(r)),r=o(r,(function(e){return e.openedIDs}),(function(e){return e.push(n),e}))),r}function p(e,n,t){if(!e.byID[n])return e;var i=o(e,(function(e){return e.byID}),(function(e){return e[n].collapsed=!1,e}));return i.focusedID=n,u(e)>t&&(i=l(i)),i}var h=t("WSPL");t.d(n,"b",(function(){return v})),t.d(n,"a",(function(){return b}));var g=Object(i.c)({display:function(e,n){switch(void 0===e&&(e={byID:{},orderedIDs:[],openedIDs:[],focusedID:""}),n.type){case s.f:var t=(r=Object(a.__assign)({},e)).byID[n.data.threadID],i=r.openedIDs.includes(n.data.threadID);return t||(r=o(r,(function(e){return e.orderedIDs}),(function(e){return e.push(n.data.threadID),e})),r=o(r,(function(e){return e.byID}),(function(e){return e[n.data.threadID]=n.data,e}))),r.openedIDs.includes(n.data.threadID)&&!r.byID[n.data.threadID].hidden||(r.byID[n.data.threadID].hidden=n.data.hidden),n.data.ignoreCollapseIfOpen||n.data.collapsed||(r.focusedID=n.data.threadID),r=f(r,n.data.threadID,n.contentWidth),(!i||i&&!n.data.ignoreCollapseIfOpen)&&(n.data.collapsed||(r=p(r,n.data.threadID,n.contentWidth))),r;case s.b:if(!e.byID[n.threadID])return e;var r=o(e,(function(e){return e.byID}),(function(e){return delete e[n.threadID],e}));return r=o(r,(function(e){return e.orderedIDs}),(function(e){return e.filter((function(e){return e!==n.threadID}))})),r=o(r,(function(e){return e.openedIDs}),(function(e){return e.filter((function(e){return e!==n.threadID}))})),e.focusedID===n.threadID&&(r.focusedID=r.openedIDs[0]),m(r,n.contentWidth);case s.c:return e.byID[n.threadID]?(e.focusedID===n.threadID&&(e.focusedID=""),o(e,(function(e){return e.byID}),(function(e){return e[n.threadID].collapsed=!0,e}))):e;case s.d:return p(e,n.threadID,n.contentWidth);case s.e:return o(e,(function(e){return e.focusedID}),(function(){return n.threadID}));case s.g:return o(e,(function(e){return e.focusedID}),(function(e){return e===n.threadID?"":e}));case s.a:var d=u(e);if(d>n.contentWidth){if(e.openedIDs.length<=1)return e;for(var h=Object(a.__assign)({},e);d>n.contentWidth&&h.openedIDs.length>1;)d=u(h=l(h));return h}if(n.contentWidth-d>=c){var g=Math.floor((n.contentWidth-d)/c),v=Math.min(g,e.orderedIDs.length-e.openedIDs.length);if(0===v)return e;h=Object(a.__assign)({},e);for(var k=0;k<v;k++)if((h=m(h,n.contentWidth)).openedIDs.length>1)for(var b=h.openedIDs,y=b.length,S=0,_=h.orderedIDs;S<_.length;S++){var C=_[S];if(b[y-1]===C){var w=b.splice(y-2,1);b.push(w[0]);break}if(b[y-2]===C)break}return h}return e;default:return e}},notifications:function(e,n){switch(void 0===e&&(e={byThreadID:{}}),n.type){case h.a:return e.byThreadID[n.threadID]?o(e,(function(e){return e.byThreadID[n.threadID]}),(function(e){return Object(a.__spreadArrays)([{threadID:n.threadID,afterMessageID:n.afterMessageID,content:n.content}],e)})):o(e,(function(e){return e.byThreadID}),(function(e){var t;return Object(a.__assign)(((t={})[n.threadID]=[{threadID:n.threadID,afterMessageID:n.afterMessageID,content:n.content}],t),e)}));default:return e}}});function v(e,n){return e.whispers?e.whispers.display.byID[n]:null}var k=[];function b(e,n){return e.whispers.notifications.byThreadID[n]||k}r.p.store.registerReducer("whispers",g)},tQZM:function(e,n,t){"use strict";t.d(n,"g",(function(){return g})),t.d(n,"f",(function(){return v})),t.d(n,"e",(function(){return k})),t.d(n,"a",(function(){return b})),t.d(n,"d",(function(){return y})),t.d(n,"c",(function(){return S})),t.d(n,"b",(function(){return _}));var i=t("mrSG"),r=t("q1tI"),a=t("/7QA"),o=t("oe5X"),s=t("0FG4"),d=t("cys1"),c=t("oK83"),u=t("hnjF"),l=t("+80q"),m=t("yymn"),f=t("Jsra"),p=t("sUnt"),h=t("4eMh");function g(e,n,t){return void 0===t&&(t={}),Object(d.e)(Object(o.a)(e,{emotes:{type:s.a.Position,map:C(n)},links:{}}),t,!0)}var v=function(e,n){var t,o,s;if(e.deletedAt)return null;var d="/me "===e.content.substr(0,4);d&&(e.content=e.content.substr(4),e.emotes=e.emotes.map((function(e){return e&&e.from&&e.to?Object(i.__assign)(Object(i.__assign)({},e),{from:e.from-4,to:e.to-4}):null})));var v=[r.createElement("span",{key:"str-separator","data-test-selector":h.a},d?" ":": ")],k={messageAuthorID:e.from&&e.from.id||"",messageSourceID:e.id,emoteSourceType:c.a.whisper};if(v.push.apply(v,g(e.content,e.emotes,k)),e.editedAt){var b=Object(a.d)("edited","ThreadMessage"),y=Object(a.d)("{timestamp, date, full} {timestamp, time, long}",{timestamp:new Date(e.editedAt)},"ThreadMessage");v.push(r.createElement(u.a,{key:"editedAt",margin:{left:1}},r.createElement(l.a,{type:l.e.Span,className:"thread-message__message--edited",title:y,color:m.f.Alt2},"("+b+")")))}var S=e.from&&e.from.chatColor||"",_=Object(a.d)("Unknown","ThreadMessage"),C=e.from&&e.from.displayName||r.createElement(l.a,{type:l.e.Span,italic:!0},_),w=d?S:"",E=(null===(t=e.from)||void 0===t?void 0:t.login)&&n?r.createElement("span",{style:{color:S}},r.createElement(f.a,{className:"thread-message__message--user-name","data-a-target":"whisper-message-name",type:f.b.Inherit,onClick:function(){var t;(null===(t=e.from)||void 0===t?void 0:t.login)&&(null==n||n(e.from.login))},"aria-label":(null===(o=e.from)||void 0===o?void 0:o.displayName)||_,hoverUnderlineNone:!0,hoverColorInherit:!0},C)):r.createElement("span",{className:"thread-message__message--user-name","data-a-target":"whisper-message-name","aria-label":(null===(s=e.from)||void 0===s?void 0:s.displayName)||_,style:{color:S}},C);return r.createElement(p.a,{padding:{x:1,y:.5}},E,r.createElement("span",{style:{color:w}},v))},k=function(){return r.createElement(p.a,{padding:{y:.5,x:1}},Object(a.d)("Please don't share passwords or personal information.","whispers"))},b=function(){return r.createElement(p.a,{padding:{y:.5,x:1}},Object(a.d)("This account is no longer active.","whispers"))},y=function(e){var n=new Date,t=new Date;t.setDate(t.getDate()-7);var o="",s={hour:"numeric",minute:"numeric",second:"numeric"},d=Object(i.__assign)(Object(i.__assign)({},s),{year:"numeric",month:"numeric",day:"numeric"});o=e.timestamp.toDateString()===n.toDateString()?Object(a.d)("Today, {timestamp, time, medium}",{timestamp:e.timestamp},"ThreadMessage"):e.timestamp<t?Object(a.j)(e.timestamp,d):Object(a.j)(e.timestamp,Object(i.__assign)(Object(i.__assign)({},s),{weekday:"long"}));var c=Object(a.j)(e.timestamp,Object(i.__assign)(Object(i.__assign)({},d),{timeZoneName:"short"}));return r.createElement(p.a,{padding:{y:1},textAlign:m.p.Center},r.createElement("span",{title:c},""+o))},S=function(e){return r.createElement(p.a,{padding:{y:.5,x:1}},r.createElement(l.a,{type:l.e.Span,color:m.f.Alt2},e.content))},_=function(){return r.createElement(p.a,{textAlign:m.p.Center,padding:{y:.5}},Object(a.d)("New Whispers","whispers"))};function C(e){var n={};return e.forEach((function(e){e&&null!==e.from&&e.emoteID&&(n[e.from]={startIndex:e.from,id:e.emoteID})})),n}},uYEN:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Gray=1]="Gray",e[e.Purple=100]="Purple",e[e.Green=1e3]="Green",e[e.Blue=5e3]="Blue",e[e.Red=1e4]="Red",e[e.Yellow=1e5]="Yellow"}(i||(i={}))},wp5a:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return m}));var i,r=t("pVnL"),a=t.n(r),o=t("q1tI"),s=t("SWse"),d=t("kV5U"),c=t("vCsY"),u=t("+80q"),l=t("yymn");t("aSQN");!function(e){e.Notification="tw-pill--notification",e.Brand="tw-pill--brand",e.Live="tw-pill--live",e.Alert="tw-pill--alert",e.Success="tw-pill--success",e.Prime="tw-pill--prime",e.Overlay="tw-pill--overlay",e.Warn="tw-pill--warn"}(i||(i={}));var m=function(e){var n={"tw-pill":!0};return e.type&&(n[e.type]=!0),o.createElement(u.a,a()({type:u.e.Span,transform:e.transform,fontWeight:l.k.SemiBold,className:Object(s.a)(n)},Object(c.a)(e),Object(d.a)(e)),e.label)};m.displayName="Pill",m.defaultProps={transform:u.d.Uppercase},m.displayName="Pill"},"x0+1":function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("/7QA"),o=t("Jsra"),s=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={alwaysShowMessage:!1},n.renderBody=function(){return n.state.alwaysShowMessage?n.props.messageBody:r.createElement("span",{key:"deleted",className:"chat-line__message--deleted"},r.createElement(o.a,{linkTo:"",onClick:n.alwaysShowMessage},"<"+Object(a.d)("click to show","MessageDeletedLine")+">"))},n.alwaysShowMessage=function(e){e&&e.preventDefault(),n.setState({alwaysShowMessage:!0})},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.moderatorLogin,t=e.targetIsCurrentUser,i=this.props.targetLogin;return t?Object(a.d)("A moderator deleted your message: {body}",{body:this.renderBody()},"MessageDeletedLine"):n?Object(a.d)("{moderatorLogin} deleted {targetLogin}'s message: {body}",{moderatorLogin:n,targetLogin:i,body:this.renderBody()},"MessageDeletedLine"):Object(a.d)("A moderator deleted {targetLogin}'s message: {body}",{targetLogin:i,body:this.renderBody()},"MessageDeletedLine")},n}(r.Component);t.d(n,"a",(function(){return s}))},x1M1:function(e,n,t){"use strict";var i=t("mrSG"),r=t("q1tI"),a=t("/MKj"),o=t("/0dD"),s=t("XDQu"),d=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=(e.defaultRes,e.sources),t=(e.darkModeEnabled,Object(i.__rest)(e,["defaultRes","sources","darkModeEnabled"])),a=this.props.darkModeEnabled?n.dark:n.light,o=Object.keys(a);delete t.dispatch;var s=Object(i.__assign)(Object(i.__assign)({},t),{src:a[this.props.defaultRes||o[0]],srcSet:o.map((function(e){return a[e]+" "+e})).join(",")});return r.createElement("img",Object(i.__assign)({},s,{onLoad:this.props.onLoad}))},n}(r.Component);var c=Object(a.b)((function(e){return{darkModeEnabled:Object(s.a)(e)===o.a.Dark}}))(d);t.d(n,"a",(function(){return c}))},xJpr:function(e,n,t){"use strict";t.d(n,"e",(function(){return r})),t.d(n,"d",(function(){return a})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return s})),t.d(n,"f",(function(){return d})),t.d(n,"a",(function(){return c}));var i=t("0Log");function r(e){return e.type===i.PubsubMessageType.WhisperSent}function a(e){return e.type===i.PubsubMessageType.WhisperReceived}function o(e){return e.type===i.PubsubMessageType.WhisperDeleted}function s(e){return e.type===i.PubsubMessageType.WhisperEdited}function d(e){return e.type===i.PubsubMessageType.WhisperThreadUpdate}function c(e){return e.type===i.PubsubMessageType.WhisperAllThreadsUpdate}},xXlL:function(e,n,t){"use strict";function i(e){return{id:""+e.id,start:e.start,end:e.end}}function r(e){return{__typename:"WhisperMessageEdge",cursor:""+e.data_object.id,node:{__typename:"WhisperMessage",id:e.data_object.message_id,nonce:e.data_object.nonce,sentAt:new Date(1e3*e.data_object.sent_ts).toISOString(),editedAt:null,deletedAt:null,content:{__typename:"MessageBody",content:e.data_object.body,emotes:e.data_object.tags.emotes.map((function(e){return o(i(e))}))},from:{__typename:"User",id:""+e.data_object.from_id}}}}function a(e){return e.map((function(e){return o(i(e))}))}function o(e){return{from:e.start,to:e.end,emoteID:e.id,id:e.id+";"+e.start+";"+e.end,setID:"0",__typename:"EmbeddedEmote"}}t.d(n,"c",(function(){return r})),t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return o}))},yLwq:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"d",(function(){return r})),t.d(n,"a",(function(){return a})),t.d(n,"c",(function(){return o}));var i=[{id:"profile_image_001",urlSlug:"bb97f7e6-f11a-4194-9708-52bf5a5125e8"},{id:"profile_image_002",urlSlug:"27103734-3cda-44d6-a384-f2ab71e4bb85"},{id:"profile_image_003",urlSlug:"49988c7b-57bc-4dee-bd4f-6df4ad215d3a"},{id:"profile_image_004",urlSlug:"0ecbb6c3-fecb-4016-8115-aa467b7c36ed"},{id:"profile_image_005",urlSlug:"cd618d3e-f14d-4960-b7cf-094231b04735"},{id:"profile_image_006",urlSlug:"4cbf10f1-bb9f-4f57-90e1-15bf06cfe6f5"},{id:"profile_image_007",urlSlug:"b83b1794-7df9-4878-916c-88c2ad2e4f9f"}],r=function(){return Math.floor(Math.random()*i.length)};function a(e,n){var t=70;return 300===n?t=300:96!==n&&80!==n||(t=150),"https://static-cdn.jtvnw.net/user-default-pictures/"+e.urlSlug+"-profile_image-"+t+"x"+t+".jpg"}function o(e,n){var t=parseInt(e,10)%i.length;return a(i[t],n)}},zOU0:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("mrSG"),r=function(e){for(var n={},t=0,r=e;t<r.length;t++){var o=r[t],s=a(o);o.id&&s&&(n[o.id]=Object(i.__assign)({},s))}return n},a=function(e){return e.messages?{id:e.id,lastMessage:e.messages.edges.map((function(e){return e.node})).find((function(e){return!e.deletedAt}))||null,messageHistory:e.messages.edges.map((function(e){return e.node})).slice(0,-1),unreadMessagesCount:e.unreadMessagesCount,participants:e.participants.map((function(e){return e?Object(i.__assign)(Object(i.__assign)({},e),{displayBadges:[],self:null}):null})),spamInfo:e.spamInfo,muted:e.isMuted,archived:e.isArchived}:null}},zdrs:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockChosenSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:154}};t.loc.source={body:"mutation UnlockChosenSubscriberEmote($input: UnlockChosenSubscriberEmoteInput!) {\nunlockChosenSubscriberEmote (input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnlockChosenSubscriberEmote=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=r(e,n);i&&t.definitions.push(i)})),t}(t,"UnlockChosenSubscriberEmote")}}]);